# ============================================
# PetConnect - Railway Environment Variables
# ============================================
# Copy these to Railway Dashboard â†’ Variables
# ============================================

# Application
APP_NAME=PetConnect
APP_ENV=production
APP_DEBUG=false
APP_URL=https://your-app.up.railway.app
APP_KEY=base64:YOUR_GENERATED_KEY_HERE

# Database (SQLite for testing, PostgreSQL for production)
DB_CONNECTION=sqlite
# For PostgreSQL, uncomment below and use Railway's DATABASE_URL:
# DB_CONNECTION=pgsql
# DATABASE_URL will be automatically provided by Railway PostgreSQL plugin

# Session
SESSION_DRIVER=database
SESSION_LIFETIME=120

# Cache & Queue
CACHE_STORE=file
QUEUE_CONNECTION=database

# Mail
MAIL_MAILER=log

# Payment (PayMongo)
PAYMONGO_MOCK_MODE=true
PAYMONGO_PUBLIC_KEY=pk_test_your_public_key_here
PAYMONGO_SECRET_KEY=sk_test_your_secret_key_here

# Monitoring
MONITOR_QUERIES=false

# Logging
LOG_CHANNEL=stack
LOG_LEVEL=error

# ============================================
# FIREBASE PUSH NOTIFICATIONS (REQUIRED)
# ============================================
# Path to Firebase service account JSON
FIREBASE_CREDENTIALS=/var/www/html/storage/app/firebase-credentials.json

# Option 1: Upload credentials as base64 (Recommended for Railway)
# Generate with: [System.IO.File]::ReadAllBytes("storage\app\firebase-credentials.json") | ForEach-Object { [Convert]::ToBase64String($_) }
FIREBASE_CREDENTIALS_BASE64=your_base64_encoded_json_here

# Option 2: Firebase credentials JSON (if not using base64)
# Upload firebase-credentials.json to Railway volume mounted at storage/app/

# Firebase Web Config (Client-side)
VITE_FIREBASE_API_KEY=AIzaSyAtAbLHeEzih0Jd7zOTAlWNIbtQbOfJV0o
VITE_FIREBASE_AUTH_DOMAIN=petconnect-d88c7.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=petconnect-d88c7
VITE_FIREBASE_STORAGE_BUCKET=petconnect-d88c7.firebasestorage.app
VITE_FIREBASE_MESSAGING_SENDER_ID=137614395456
VITE_FIREBASE_APP_ID=1:137614395456:web:f94d99eb0d2e9da65cf7a5
VITE_FIREBASE_MEASUREMENT_ID=G-B2ZEGE7JGF

# Firebase Cloud Messaging VAPID Key
VITE_FIREBASE_VAPID_KEY=BCM3LConxlI3YvpgZtg6yrOSafqoXnrVmN6_cSQ_8GOCpBzCOpNJsqNXZqjQWoPmX1CYiO1fBLJdXmAhwULrmbY

# ============================================
# AUTOMATIC ON DEPLOYMENT
# ============================================
# The following are handled automatically by docker-entrypoint.sh:
# - php artisan migrate --force
# - php artisan storage:link
# - php artisan config:cache
# - php artisan route:cache
# - php artisan view:cache
# - Firebase credentials decoding (if FIREBASE_CREDENTIALS_BASE64 is set)
# - Storage permissions setup

# ============================================
# GENERATING APP_KEY
# ============================================
# Run locally:
#   php artisan key:generate --show
# Copy the output (starts with base64:) to APP_KEY above

# ============================================
# GENERATING FIREBASE_CREDENTIALS_BASE64
# ============================================
# Windows PowerShell:
#   $bytes = [System.IO.File]::ReadAllBytes("storage\app\firebase-credentials.json")
#   [Convert]::ToBase64String($bytes) | Set-Clipboard
# 
# Linux/Mac:
#   base64 -w 0 storage/app/firebase-credentials.json | pbcopy
#
# Then paste the clipboard content to FIREBASE_CREDENTIALS_BASE64

# ============================================
# NOTES
# ============================================
# 1. Update APP_URL after Railway assigns your domain
# 2. SQLite data will be lost on each deployment (use PostgreSQL for production)
# 3. All VITE_* variables are embedded during build time
# 4. Firebase notifications require both server (FIREBASE_CREDENTIALS) and client (VITE_FIREBASE_*) configs
# 5. Storage symlink is created automatically on each deployment
