import{h as N,r as p}from"./inertia-vendor-BXJnWAhq.js";import{c as $}from"./admin-j62zy8g0.js";import{_ as D}from"./Layout.vue_vue_type_script_setup_true_lang-DJYg1gCj.js";import{a as v,t as B,U as y}from"./ui-components-Dj0vw2vK.js";import{as as V,_ as F,$ as k,Y as f,C as M,U as T,t as j}from"./lucide-vendor-BUHJwLVO.js";import{d as z,a as n,e as l,w as m,i as a,u as i,h as t,g as o,j as x,b as u,t as d,n as h}from"./vue-vendor-DmxhFomr.js";import"./vendor-BqPpK9Aj.js";import"./leaflet-vendor-Do2TvcFZ.js";import"./utility-vendor-CjxovF-h.js";import"./Heading.vue_vue_type_script_setup_true_lang-FNXLTphu.js";import"./ui-vendor-B7N-G3Ug.js";const R={class:"space-y-4 md:space-y-6"},Y={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},E={class:"rounded-lg border bg-card p-3 md:p-6"},H={class:"flex flex-col sm:flex-row sm:items-start justify-between gap-3 mb-4"},I={class:"flex items-center gap-2 mb-1"},G={class:"text-base md:text-xl font-semibold"},W={class:"text-xl md:text-2xl font-bold text-primary"},X={class:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto"},q={key:0,class:"flex items-center gap-2 rounded-lg bg-blue-50 dark:bg-blue-950/20 p-2 md:p-3 mb-3 md:mb-4"},J={class:"flex-1"},K={class:"text-[10px] md:text-xs text-blue-700 dark:text-blue-300"},O={key:1,class:"flex items-center gap-2 rounded-lg bg-orange-50 dark:bg-orange-950/20 p-2 md:p-3 mb-3 md:mb-4"},Q={class:"flex-1"},Z={class:"text-[10px] md:text-xs text-orange-700 dark:text-orange-300"},tt={class:"grid grid-cols-2 gap-3 md:gap-4 text-xs md:text-sm"},st={class:"flex items-center gap-1.5 md:gap-2 mt-1"},et={class:"font-medium capitalize"},it={class:"font-medium mt-1"},lt={class:"grid md:grid-cols-2 gap-4 md:gap-6"},at={class:"rounded-lg border bg-card p-3 md:p-6"},dt={class:"flex items-center gap-2 md:gap-3 mb-3 md:mb-4"},nt={class:"p-1.5 md:p-2 rounded-lg bg-primary/10"},ot={class:"flex-1"},rt={class:"text-xs md:text-sm text-muted-foreground"},mt={key:1,class:"h-2 rounded-full bg-primary/20"},ut={key:2,class:"text-[10px] md:text-xs text-muted-foreground mt-2"},ct={class:"rounded-lg border bg-card p-3 md:p-6"},xt={class:"flex items-center gap-2 md:gap-3 mb-3 md:mb-4"},ft={class:"p-1.5 md:p-2 rounded-lg bg-primary/10"},gt={class:"flex-1"},pt={class:"text-xs md:text-sm text-muted-foreground"},vt={key:1,class:"h-2 rounded-full bg-primary/20"},bt={key:2,class:"text-[10px] md:text-xs text-muted-foreground mt-2"},ht={class:"rounded-lg border bg-card p-3 md:p-6"},_t={class:"flex items-center gap-2 md:gap-3 mb-4 md:mb-6"},wt={class:"grid md:grid-cols-2 gap-3 md:gap-4"},yt={class:"flex items-start gap-2 md:gap-3"},kt={class:"flex-1"},Pt={class:"text-[10px] md:text-xs text-muted-foreground"},Ct={class:"flex items-start gap-2 md:gap-3"},At={class:"flex-1"},St={class:"text-[10px] md:text-xs text-muted-foreground"},Ut={class:"flex items-start gap-2 md:gap-3"},Lt={class:"flex-1"},Nt={class:"text-[10px] md:text-xs text-muted-foreground"},$t={class:"flex items-start gap-2 md:gap-3"},Dt={key:0,class:"mt-4 md:mt-6 pt-4 md:pt-6 border-t"},Bt={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},Gt=z({__name:"Subscription",props:{currentPlan:{default:null},subscription:{default:null},stats:{default:()=>({services_count:0,services_limit:0,vets_count:0,vets_limit:0,transaction_fee:0})},usageLimits:{default:()=>({})}},setup(e){const b=e,P=[{title:"Manage Subscription",href:"/clinic/settings/subscription"}],C=r=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(r),_=r=>r?new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",w=(r,s)=>s==="unlimited"||s===-1?0:Math.min(r/Number(s)*100,100),A=()=>b.subscription?.stripe_status==="trialing",g=()=>b.subscription?.ends_at!==null,c=()=>b.currentPlan?.slug==="pro-plus",S=()=>{confirm("Are you sure you want to cancel your subscription? You will still have access until the end of your billing period.")&&p.post("/subscription/cancel")},U=()=>{p.post("/subscription/resume")};return(r,s)=>(l(),n($,{breadcrumbs:P},{default:m(()=>[a(i(N),{title:"Manage Subscription"}),a(D,null,{default:m(()=>[t("div",R,[t("div",Y,[s[3]||(s[3]=t("div",null,[t("h2",{class:"text-lg md:text-2xl font-semibold"},"Subscription Dashboard"),t("p",{class:"text-xs md:text-sm text-muted-foreground"},"Manage your clinic subscription and features")],-1)),c()?o("",!0):(l(),n(i(v),{key:0,onClick:s[0]||(s[0]=L=>i(p).visit("/subscription")),class:"w-full sm:w-auto"},{default:m(()=>[a(i(V),{class:"h-3 w-3 md:h-4 md:w-4 mr-2"}),s[2]||(s[2]=x(" Upgrade to Pro Plus ",-1))]),_:1}))]),t("div",E,[t("div",H,[t("div",null,[t("div",I,[t("h3",G,d(e.currentPlan?.name||"Free Plan"),1),a(i(B),{variant:c()?"default":"secondary",class:"text-[10px] md:text-xs px-2"},{default:m(()=>[x(d(c()?"Pro Plus":"Basic"),1)]),_:1},8,["variant"])]),t("p",W,[x(d(e.currentPlan?C(e.currentPlan.price):"â‚±0")+" ",1),s[4]||(s[4]=t("span",{class:"text-xs md:text-sm font-normal text-muted-foreground"},"/month",-1))])]),t("div",X,[e.subscription&&!g()?(l(),n(i(v),{key:0,variant:"outline",size:"sm",onClick:S,class:"text-xs w-full sm:w-auto"},{default:m(()=>[...s[5]||(s[5]=[x(" Cancel Subscription ",-1)])]),_:1})):o("",!0),g()?(l(),n(i(v),{key:1,variant:"default",size:"sm",onClick:U,class:"text-xs w-full sm:w-auto"},{default:m(()=>[...s[6]||(s[6]=[x(" Resume Subscription ",-1)])]),_:1})):o("",!0)])]),A()?(l(),u("div",q,[a(i(F),{class:"h-4 w-4 md:h-5 md:w-5 text-blue-600 dark:text-blue-400"}),t("div",J,[s[7]||(s[7]=t("p",{class:"text-xs md:text-sm font-medium text-blue-900 dark:text-blue-100"}," Trial Period Active ",-1)),t("p",K," Your trial ends on "+d(_(e.subscription?.trial_ends_at||null)),1)])])):o("",!0),g()?(l(),u("div",O,[a(i(k),{class:"h-4 w-4 md:h-5 md:w-5 text-orange-600 dark:text-orange-400"}),t("div",Q,[s[8]||(s[8]=t("p",{class:"text-xs md:text-sm font-medium text-orange-900 dark:text-orange-100"}," Subscription Ending ",-1)),t("p",Z," Access continues until "+d(_(e.subscription?.ends_at||null)),1)])])):o("",!0),t("div",tt,[t("div",null,[s[9]||(s[9]=t("p",{class:"text-muted-foreground"},"Status",-1)),t("div",st,[g()?(l(),n(i(k),{key:1,class:"h-3 w-3 md:h-4 md:w-4 text-orange-600"})):(l(),n(i(f),{key:0,class:"h-3 w-3 md:h-4 md:w-4 text-green-600"})),t("span",et,d(e.subscription?.stripe_status||"free"),1)])]),t("div",null,[s[10]||(s[10]=t("p",{class:"text-muted-foreground"},"Transaction Fee",-1)),t("p",it,d(e.stats?.transaction_fee||0)+"%",1)])])]),t("div",lt,[t("div",at,[t("div",dt,[t("div",nt,[a(i(M),{class:"h-4 w-4 md:h-5 md:w-5 text-primary"})]),t("div",ot,[s[11]||(s[11]=t("h3",{class:"text-sm md:text-base font-medium"},"Services Registered",-1)),t("p",rt,d(e.stats?.services_count||0)+" of "+d(e.stats?.services_limit===-1?"unlimited":e.stats?.services_limit||0),1)])]),e.stats?.services_limit!=="unlimited"&&e.stats?.services_limit!==-1?(l(),n(y,{key:0,"model-value":w(e.stats?.services_count||0,e.stats?.services_limit||0),class:"h-2"},null,8,["model-value"])):(l(),u("div",mt)),!c()&&e.stats?.services_limit!=="unlimited"?(l(),u("p",ut," Upgrade to Pro Plus for more services ")):o("",!0)]),t("div",ct,[t("div",xt,[t("div",ft,[a(i(T),{class:"h-4 w-4 md:h-5 md:w-5 text-primary"})]),t("div",gt,[s[12]||(s[12]=t("h3",{class:"text-sm md:text-base font-medium"},"Vets",-1)),t("p",pt,d(e.stats?.vets_count||0)+" of "+d(e.stats?.vets_limit===-1?"unlimited":e.stats?.vets_limit||0),1)])]),e.stats?.vets_limit!=="unlimited"&&e.stats?.vets_limit!==-1?(l(),n(y,{key:0,"model-value":w(e.stats?.vets_count||0,e.stats?.vets_limit||0),class:"h-2"},null,8,["model-value"])):(l(),u("div",vt)),!c()&&e.stats?.vets_limit!=="unlimited"?(l(),u("p",bt," Upgrade to Pro Plus for multiple vets ")):o("",!0)])]),t("div",ht,[t("div",_t,[a(i(j),{class:"h-4 w-4 md:h-5 md:w-5 text-primary"}),s[13]||(s[13]=t("h3",{class:"text-sm md:text-base font-semibold"},"Feature Access",-1))]),t("div",wt,[t("div",yt,[a(i(f),{class:h([e.usageLimits?.reports?"text-green-600":"text-muted-foreground","h-4 w-4 md:h-5 md:w-5 mt-0.5"])},null,8,["class"]),t("div",kt,[s[14]||(s[14]=t("p",{class:"text-xs md:text-sm font-medium"},"Report Generation",-1)),t("p",Pt,d(e.usageLimits?.reports?"Available":"Pro Plus only"),1)])]),t("div",Ct,[a(i(f),{class:h([e.usageLimits?.analytics?"text-green-600":"text-muted-foreground","h-4 w-4 md:h-5 md:w-5 mt-0.5"])},null,8,["class"]),t("div",At,[s[15]||(s[15]=t("p",{class:"text-xs md:text-sm font-medium"},"Analytics Dashboard",-1)),t("p",St,d(e.usageLimits?.analytics?"Available":"Pro Plus only"),1)])]),t("div",Ut,[a(i(f),{class:h([e.usageLimits?.multiple_vets?"text-green-600":"text-muted-foreground","h-4 w-4 md:h-5 md:w-5 mt-0.5"])},null,8,["class"]),t("div",Lt,[s[16]||(s[16]=t("p",{class:"text-xs md:text-sm font-medium"},"Multiple Veterinarians",-1)),t("p",Nt,d(e.usageLimits?.multiple_vets?"Available":"Pro Plus only"),1)])]),t("div",$t,[a(i(f),{class:"h-4 w-4 md:h-5 md:w-5 mt-0.5 text-green-600"}),s[17]||(s[17]=t("div",{class:"flex-1"},[t("p",{class:"text-xs md:text-sm font-medium"},"Appointment Booking"),t("p",{class:"text-[10px] md:text-xs text-muted-foreground"},"Available")],-1))])]),c()?o("",!0):(l(),u("div",Dt,[t("div",Bt,[s[19]||(s[19]=t("div",null,[t("p",{class:"text-xs md:text-sm font-medium"},"Want more features?"),t("p",{class:"text-[10px] md:text-xs text-muted-foreground"},"Upgrade to Pro Plus for advanced capabilities")],-1)),a(i(v),{onClick:s[1]||(s[1]=L=>i(p).visit("/subscription")),class:"w-full sm:w-auto"},{default:m(()=>[...s[18]||(s[18]=[x(" Upgrade Now ",-1)])]),_:1})])]))])])]),_:1})]),_:1}))}});export{Gt as default};
