import{d as D,r as O,b as d,e as a,i as m,u as l,w as U,h as e,g as x,j as g,t as h,p as c,F as w,k as F,n as u}from"./vue-vendor-DmxhFomr.js";import{k as P,s as W,c as N}from"./admin-j62zy8g0.js";import{a as B,h as H}from"./inertia-vendor-BXJnWAhq.js";import{J as k}from"./ui-components-Dj0vw2vK.js";import{X as q,aq as C,_ as z,a as E,K as L}from"./lucide-vendor-BUHJwLVO.js";import"./vendor-BqPpK9Aj.js";import"./leaflet-vendor-Do2TvcFZ.js";import"./utility-vendor-CjxovF-h.js";import"./ui-vendor-B7N-G3Ug.js";const G={class:"flex h-full flex-1 flex-col gap-3 md:gap-6 overflow-x-auto rounded-xl p-3 md:p-6"},I={key:0,class:"rounded-lg border bg-card p-3 md:p-4 border-green-500 dark:border-green-700"},J={class:"flex items-center justify-between"},K={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},X=["disabled"],Q={class:"sm:hidden fixed bottom-6 right-6 z-50"},R=["disabled"],Y={class:"p-3 md:p-6 border-b"},Z={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},ee={class:"flex items-center gap-1.5 md:gap-2 text-xs md:text-sm text-muted-foreground"},se={class:"p-3 md:p-6 space-y-3 md:space-y-4"},te={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 md:gap-4 mb-2 md:mb-4"},oe={class:"flex items-center gap-2 md:gap-3"},ne={class:"h-8 w-8 md:h-10 md:w-10 rounded-full bg-muted flex items-center justify-center flex-shrink-0"},le={class:"min-w-0"},ie={class:"text-sm md:text-base font-semibold"},re={key:0,class:"text-xs md:text-sm text-muted-foreground"},de={key:1,class:"text-xs md:text-sm text-red-500 dark:text-red-400"},ae={class:"flex flex-col sm:flex-row items-start sm:items-center gap-2"},me={class:"flex gap-1.5 md:gap-2 w-full sm:w-auto"},ce=["onClick"],ue=["onClick"],pe=["onClick","onTouchend"],ge={key:0,class:"grid grid-cols-1 sm:grid-cols-2 gap-2 md:gap-4"},fe={key:1,class:"text-center py-4 md:py-8 text-muted-foreground"},xe={class:"h-10 w-10 md:h-12 md:w-12 rounded-full bg-muted flex items-center justify-center mx-auto mb-1.5 md:mb-2"},Te=D({__name:"ScheduleManagement",props:{clinic:{},operatingHours:{}},setup(S){const M=S,T=[{title:"Clinic Dashboard",href:P().url},{title:"Operating Hours",href:W().url}],$=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],b=(()=>{const n=[];for(let s=0;s<=23;s++)for(let t=0;t<60;t+=30){const o=s>=12?"PM":"AM",r=s%12||12,v=t.toString().padStart(2,"0");n.push(`${r}:${v} ${o}`)}return n})(),_=n=>{if(!n)return"";if(!n.includes("AM")&&!n.includes("PM"))return n;const[s,t]=n.split(" ");let[o,r]=s.split(":");return t==="PM"&&o!=="12"?o=String(parseInt(o)+12):t==="AM"&&o==="12"&&(o="00"),`${o.padStart(2,"0")}:${r}`},y=n=>{if(!n)return"";const[s,t]=n.split(":"),o=parseInt(s),r=o>=12?"PM":"AM";return`${o%12||12}:${t} ${r}`},i=B({hours:$.map(n=>{const s=M.operatingHours.find(t=>t.day_of_week===n);return{day_of_week:n,is_closed:s?.is_closed??!1,opening_time:s?.opening_time?y(s.opening_time.substring(0,5)):"9:00 AM",closing_time:s?.closing_time?y(s.closing_time.substring(0,5)):"5:00 PM"}})}),p=O(!1),f=()=>{const n=i.hours.map(s=>({...s,opening_time:s.is_closed?null:_(s.opening_time),closing_time:s.is_closed?null:_(s.closing_time)}));i.transform(()=>({hours:n})).patch("/clinic/schedule/operating-hours",{onSuccess:()=>{p.value=!0,setTimeout(()=>{p.value=!1},3e3)}})},V=n=>{const s=i.hours[n];confirm("Copy these hours to all other days?")&&(i.hours=i.hours.map((t,o)=>o===n?t:{...t,is_closed:s.is_closed,opening_time:s.opening_time,closing_time:s.closing_time}))},j=n=>{const s=i.hours[n],t=[0,1,2,3,4];confirm("Copy these hours to all weekdays (Monday-Friday)?")&&t.forEach(o=>{o!==n&&(i.hours[o]={...i.hours[o],is_closed:s.is_closed,opening_time:s.opening_time,closing_time:s.closing_time})})},A=n=>n.charAt(0).toUpperCase()+n.slice(1);return(n,s)=>(a(),d(w,null,[m(l(H),{title:"Operating Hours Management"}),m(N,{breadcrumbs:T},{default:U(()=>[e("div",G,[p.value?(a(),d("div",I,[e("div",J,[s[3]||(s[3]=e("div",{class:"flex items-center gap-2 md:gap-3"},[e("div",{class:"h-8 w-8 md:h-10 md:w-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center"},[e("span",{class:"text-base md:text-xl"},"âœ…")]),e("div",null,[e("p",{class:"text-sm md:text-base font-semibold text-green-800 dark:text-green-300"},"Success!"),e("p",{class:"text-xs md:text-sm text-green-700 dark:text-green-400"},"Operating hours updated successfully")])],-1)),e("button",{onClick:s[0]||(s[0]=t=>p.value=!1),class:"text-muted-foreground hover:text-foreground"},[m(l(q),{class:"h-4 w-4 md:h-5 md:w-5"})])])])):x("",!0),e("div",K,[s[4]||(s[4]=e("div",null,[e("h1",{class:"text-xl md:text-2xl font-semibold text-foreground"},"Operating Hours"),e("p",{class:"text-xs md:text-sm text-muted-foreground"}," Manage your clinic's opening and closing hours for each day of the week ")],-1)),e("button",{onClick:f,disabled:l(i).processing,class:"hidden sm:flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm md:text-base"},[m(l(C),{class:"h-4 w-4 md:h-5 md:w-5"}),g(" "+h(l(i).processing?"Saving...":"Save Changes"),1)],8,X)]),e("div",Q,[e("button",{onClick:f,disabled:l(i).processing,class:"flex items-center gap-2 px-5 py-2.5 bg-primary text-primary-foreground rounded-full shadow-lg hover:bg-primary/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 text-sm"},[m(l(C),{class:"h-4 w-4"}),g(" "+h(l(i).processing?"Saving...":"Save"),1)],8,R)]),e("form",{onSubmit:c(f,["prevent"]),class:"rounded-lg border bg-card"},[e("div",Y,[e("div",Z,[s[7]||(s[7]=e("h2",{class:"text-base md:text-lg font-semibold"},"Weekly Schedule",-1)),e("div",ee,[m(l(z),{class:"h-3 w-3 md:h-4 md:w-4"}),s[5]||(s[5]=e("span",{class:"hidden sm:inline"},"Set your clinic's operating hours for each day",-1)),s[6]||(s[6]=e("span",{class:"sm:hidden"},"Set operating hours",-1))])])]),e("div",se,[(a(!0),d(w,null,F(l(i).hours,(t,o)=>(a(),d("div",{key:t.day_of_week,class:u(["p-2 md:p-4 rounded-lg border transition-all duration-200",t.is_closed?"bg-muted/50":"hover:border-primary"])},[e("div",te,[e("div",oe,[e("div",ne,[m(l(E),{class:"h-4 w-4 md:h-5 md:w-5 text-muted-foreground"})]),e("div",le,[e("h3",ie,h(A(t.day_of_week)),1),t.is_closed?(a(),d("p",de,"Closed")):(a(),d("p",re,"Click to edit hours"))])]),e("div",ae,[e("div",me,[t.is_closed?x("",!0):(a(),d("button",{key:0,type:"button",onClick:c(r=>j(o),["stop"]),class:"text-[10px] md:text-xs px-2 md:px-3 py-1 md:py-1.5 border rounded-md hover:bg-muted text-muted-foreground transition-colors flex-1 sm:flex-none whitespace-nowrap"},[...s[8]||(s[8]=[e("span",{class:"hidden sm:inline"},"Copy to Weekdays",-1),e("span",{class:"sm:hidden"},"Weekdays",-1)])],8,ce)),t.is_closed?x("",!0):(a(),d("button",{key:1,type:"button",onClick:c(r=>V(o),["stop"]),class:"text-[10px] md:text-xs px-2 md:px-3 py-1 md:py-1.5 border rounded-md hover:bg-muted text-muted-foreground transition-colors flex-1 sm:flex-none whitespace-nowrap"},[...s[9]||(s[9]=[e("span",{class:"hidden sm:inline"},"Copy to All",-1),e("span",{class:"sm:hidden"},"All Days",-1)])],8,ue))]),e("div",{class:"flex items-center gap-1.5 md:gap-2 justify-between sm:justify-start w-full sm:w-auto",onClick:s[1]||(s[1]=c(()=>{},["stop","prevent"])),onTouchstart:s[2]||(s[2]=c(()=>{},["stop","prevent"]))},[e("span",{class:u(["text-xs md:text-sm font-medium pointer-events-none",t.is_closed?"text-muted-foreground":"text-green-600 dark:text-green-400"])}," Open ",2),e("button",{type:"button",onClick:c(r=>l(i).hours[o].is_closed=!l(i).hours[o].is_closed,["stop","prevent"]),onTouchend:c(r=>l(i).hours[o].is_closed=!l(i).hours[o].is_closed,["stop","prevent"]),class:u(["relative inline-flex h-5 w-9 md:h-6 md:w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 flex-shrink-0 touch-none",t.is_closed?"bg-red-600":"bg-green-600"])},[e("span",{class:u(["inline-block h-3.5 w-3.5 md:h-4 md:w-4 transform rounded-full bg-white transition-transform pointer-events-none touch-none",t.is_closed?"translate-x-4 md:translate-x-6":"translate-x-1"])},null,2)],42,pe),e("span",{class:u(["text-xs md:text-sm font-medium pointer-events-none",t.is_closed?"text-red-600 dark:text-red-400":"text-muted-foreground"])}," Closed ",2)],32)])]),t.is_closed?(a(),d("div",fe,[e("div",xe,[m(l(L),{class:"h-5 w-5 md:h-6 md:w-6 text-muted-foreground"})]),s[12]||(s[12]=e("p",{class:"text-xs md:text-sm"},"Clinic is closed on this day",-1))])):(a(),d("div",ge,[e("div",null,[s[10]||(s[10]=e("label",{class:"block text-xs md:text-sm font-medium mb-1"},[g(" Opening Time "),e("span",{class:"text-red-500"},"*")],-1)),m(l(k),{modelValue:l(i).hours[o].opening_time,"onUpdate:modelValue":r=>l(i).hours[o].opening_time=r,"available-slots":l(b),placeholder:"Select opening time"},null,8,["modelValue","onUpdate:modelValue","available-slots"])]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-xs md:text-sm font-medium mb-1"},[g(" Closing Time "),e("span",{class:"text-red-500"},"*")],-1)),m(l(k),{modelValue:l(i).hours[o].closing_time,"onUpdate:modelValue":r=>l(i).hours[o].closing_time=r,"available-slots":l(b),placeholder:"Select closing time"},null,8,["modelValue","onUpdate:modelValue","available-slots"])])]))],2))),128))])],32),s[13]||(s[13]=e("div",{class:"rounded-lg border bg-card p-3 md:p-6"},[e("div",{class:"flex items-center gap-1.5 md:gap-2 mb-2 md:mb-4"},[e("div",{class:"h-6 w-6 md:h-8 md:w-8 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center"},[e("span",{class:"text-sm md:text-lg"},"ðŸ’¡")]),e("h3",{class:"text-sm md:text-base font-semibold"},"Tips & Guidelines")]),e("ul",{class:"space-y-1.5 md:space-y-2 text-xs md:text-sm text-muted-foreground"},[e("li",null,'â€¢ Use "Copy to Weekdays" to quickly set the same hours for Monday through Friday'),e("li",null,'â€¢ Use "Copy to All Days" to apply hours to the entire week'),e("li",null,'â€¢ Toggle the switch to "Closed" for days when your clinic is not operating'),e("li",null,"â€¢ These hours will be displayed to pet owners when they book appointments")])],-1))])]),_:1})],64))}});export{Te as default};
