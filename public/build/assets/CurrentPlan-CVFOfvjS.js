import{h as C}from"./inertia-vendor-BXJnWAhq.js";import{_ as A}from"./HeadingSmall.vue_vue_type_script_setup_true_lang-BVYCrzPZ.js";import{K as M,L as $,M as w,O as B,t as F,N,U as y,a as _}from"./ui-components-Dj0vw2vK.js";import{c as S}from"./admin-j62zy8g0.js";import{_ as j}from"./Layout.vue_vue_type_script_setup_true_lang-DJYg1gCj.js";import{Z as D,as as V,m as R}from"./lucide-vendor-BUHJwLVO.js";import{d as U,c as b,a as r,e as a,w as l,i as c,u as n,h as s,j as o,l as I,t as i,b as u,g as P,F as x,k as L}from"./vue-vendor-DmxhFomr.js";import"./vendor-BqPpK9Aj.js";import"./leaflet-vendor-Do2TvcFZ.js";import"./ui-vendor-B7N-G3Ug.js";import"./utility-vendor-CjxovF-h.js";import"./Heading.vue_vue_type_script_setup_true_lang-FNXLTphu.js";const H={class:"space-y-6"},T={class:"flex items-center justify-between"},Z={key:0,class:"space-y-4"},E={class:"grid gap-4 md:grid-cols-2"},G={class:"space-y-2"},K={class:"flex justify-between text-sm"},O={class:"font-medium"},q={key:1,class:"h-2 rounded-full bg-primary/20"},z={class:"space-y-2"},J={class:"flex justify-between text-sm"},Q={class:"font-medium"},W={key:1,class:"h-2 rounded-full bg-primary/20"},X={class:"pt-2"},Y={class:"flex justify-between text-sm"},tt={class:"font-medium"},st={class:"space-y-4"},et={class:"space-y-2"},at={class:"flex gap-3 pt-4 border-t"},ht=U({__name:"CurrentPlan",props:{currentPlan:{default:null},subscription:{default:null},stats:{default:()=>({services_count:0,services_limit:0,vets_count:0,vets_limit:0,transaction_fee:0})},usageLimits:{default:()=>({})}},setup(t){const m=t,p=[{title:"Current Plan",href:"/clinic/settings/current-plan"}],f=(g,e)=>e==="unlimited"||e===-1?0:Math.min(g/Number(e)*100,100),d={basic:["Dashboard Access","Appointment Management","Schedule Management"],professional:["Dashboard Access","Appointment Management","Schedule Management","Analytics & Insights","Appointment History","Patient Records"],"pro-plus":["Dashboard Access","Appointment Management","Schedule Management","Analytics & Insights","Appointment History","Patient Records","Report Generation"]},k=b(()=>m.currentPlan&&d[m.currentPlan.slug]||d.basic),v=b(()=>"Monthly");return(g,e)=>(a(),r(S,{breadcrumbs:p},{default:l(()=>[c(n(C),{title:"Current Plan"}),c(j,null,{default:l(()=>[s("div",H,[c(A,{title:"Current Plan",description:"Manage your subscription plan and view usage"}),c(n(M),null,{default:l(()=>[c(n($),null,{default:l(()=>[s("div",T,[s("div",null,[c(n(w),{class:"flex items-center gap-2"},{default:l(()=>[(a(),r(I(t.currentPlan?.slug==="basic"?n(D):n(V)),{class:"h-5 w-5"})),o(" "+i(t.currentPlan?.name||"Basic")+" Plan ",1)]),_:1}),c(n(B),null,{default:l(()=>[o(" Billed "+i(v.value)+" ",1),t.currentPlan&&t.currentPlan.slug!=="basic"?(a(),u(x,{key:0},[o(" • ₱"+i(t.currentPlan.price)+"/"+i(v.value==="Monthly"?"month":"year"),1)],64)):P("",!0)]),_:1})]),c(n(F),{variant:t.currentPlan?.slug==="basic"?"secondary":"default",class:"text-sm"},{default:l(()=>[o(i(t.currentPlan?.slug==="basic"?"Free Plan":"Active"),1)]),_:1},8,["variant"])])]),_:1}),c(n(N),{class:"space-y-6"},{default:l(()=>[t.stats?(a(),u("div",Z,[e[3]||(e[3]=s("h4",{class:"text-sm font-semibold"},"Usage Statistics",-1)),s("div",E,[s("div",G,[s("div",K,[e[0]||(e[0]=s("span",{class:"text-muted-foreground"},"Services Registered",-1)),s("span",O,i(t.stats.services_count||0)+" / "+i(t.stats.services_limit===-1?"∞":t.stats.services_limit||0),1)]),t.stats.services_limit!=="unlimited"&&t.stats.services_limit!==-1?(a(),r(y,{key:0,"model-value":f(t.stats.services_count||0,t.stats.services_limit||0),class:"h-2"},null,8,["model-value"])):(a(),u("div",q))]),s("div",z,[s("div",J,[e[1]||(e[1]=s("span",{class:"text-muted-foreground"},"Vets",-1)),s("span",Q,i(t.stats.vets_count||0)+" / "+i(t.stats.vets_limit===-1?"∞":t.stats.vets_limit||0),1)]),t.stats.vets_limit!=="unlimited"&&t.stats.vets_limit!==-1?(a(),r(y,{key:0,"model-value":f(t.stats.vets_count||0,t.stats.vets_limit||0),class:"h-2"},null,8,["model-value"])):(a(),u("div",W))])]),s("div",X,[s("div",Y,[e[2]||(e[2]=s("span",{class:"text-muted-foreground"},"Transaction Fee",-1)),s("span",tt,i(t.stats.transaction_fee||0)+"%",1)])])])):P("",!0),s("div",st,[e[4]||(e[4]=s("h4",{class:"text-sm font-semibold"},"Plan Features",-1)),s("ul",et,[(a(!0),u(x,null,L(k.value,h=>(a(),u("li",{key:h,class:"flex items-start gap-2 text-sm"},[c(n(R),{class:"h-4 w-4 mt-0.5 text-primary flex-shrink-0"}),s("span",null,i(h),1)]))),128))])]),s("div",at,[!t.currentPlan||t.currentPlan.slug==="basic"?(a(),r(n(_),{key:0,"as-child":""},{default:l(()=>[...e[5]||(e[5]=[s("a",{href:"/subscription"},"Upgrade Plan",-1)])]),_:1})):(a(),r(n(_),{key:1,"as-child":"",variant:"outline"},{default:l(()=>[...e[6]||(e[6]=[s("a",{href:"/subscription"},"Change Plan",-1)])]),_:1}))])]),_:1})]),_:1})])]),_:1})]),_:1}))}});export{ht as default};
