import{d as Q,r as w,c as P,b as i,e as a,i as z,u as W,w as Y,h as t,g as u,t as o,F as $,k as R,n as v,q as f,s as h,v as A,p as H,j as C}from"./vue-vendor-DmxhFomr.js";import{c as J}from"./admin-j62zy8g0.js";import{h as K,r as X}from"./inertia-vendor-BXJnWAhq.js";import"./vendor-BqPpK9Aj.js";import"./leaflet-vendor-Do2TvcFZ.js";import"./lucide-vendor-BUHJwLVO.js";import"./ui-components-Dj0vw2vK.js";import"./ui-vendor-B7N-G3Ug.js";import"./utility-vendor-CjxovF-h.js";const Z={class:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-6"},tt={class:"flex items-start justify-between"},et={class:"flex items-center gap-4"},st={class:"text-2xl font-semibold"},ot={class:"text-muted-foreground"},lt={class:"text-sm text-muted-foreground"},nt={class:"grid gap-6 lg:grid-cols-3"},it={class:"lg:col-span-1"},at={class:"rounded-lg border bg-card p-6"},rt={class:"space-y-3"},dt={key:0},ut={class:"text-sm"},mt={class:"text-sm"},xt={key:1},pt={class:"text-sm"},ct={key:2},vt={class:"text-sm"},ft={key:3},bt={class:"text-sm"},gt={key:4},yt={class:"text-sm"},wt={class:"space-y-2"},ht={class:"text-sm"},kt={class:"text-sm"},_t={class:"text-sm"},Ct={key:0},Dt={class:"text-sm"},Vt={key:0,class:"mt-4"},$t={class:"flex flex-wrap gap-1"},Mt={key:1,class:"mt-4"},Rt={class:"space-y-1"},Et={key:0,class:"mt-6 rounded-lg border bg-card p-6"},Nt={class:"overflow-x-auto"},Tt={class:"w-full border-collapse"},St={class:"border-b bg-muted/30"},jt={class:"px-4 py-3 text-sm font-medium"},It={class:"px-4 py-3 text-sm"},Lt={class:"px-4 py-3 text-sm"},Ut={class:"px-4 py-3 text-sm"},Pt={class:"px-4 py-3"},zt={class:"lg:col-span-2"},At={class:"rounded-lg border bg-card p-6"},Ft={class:"flex items-center justify-between mb-4"},qt={class:"flex gap-3"},Bt={class:"relative"},Ot={key:0,class:"overflow-x-auto"},Gt={class:"w-full border-collapse"},Qt={class:"border-b bg-muted/30"},Wt={class:"px-4 py-3 text-sm"},Yt={class:"px-4 py-3"},Ht={class:"px-4 py-3 text-sm"},Jt={key:0,class:"flex items-center gap-1"},Kt={class:"text-xs px-2 py-1 bg-indigo-100 text-indigo-800 rounded"},Xt={key:1,class:"text-muted-foreground text-xs"},Zt={class:"px-4 py-3 text-sm"},te={class:"px-4 py-3 text-sm max-w-xs"},ee=["title"],se={class:"px-4 py-3 text-sm"},oe={class:"px-4 py-3 text-sm"},le={class:"px-4 py-3 text-sm"},ne={class:"px-4 py-3 text-sm"},ie={class:"px-4 py-3"},ae={class:"flex gap-2"},re=["onClick"],de=["onClick"],ue={key:1,class:"text-center py-8"},me={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-2 sm:p-4"},xe={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[95vh] sm:max-h-[90vh] overflow-hidden flex flex-col"},pe={key:0,class:"p-4 sm:p-6 space-y-3 sm:space-y-4 overflow-y-auto flex-1"},ce={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4"},ve={class:"text-xs sm:text-sm bg-gray-50 p-2 rounded break-words"},fe={class:"text-xs sm:text-sm bg-gray-50 p-2 rounded capitalize"},be={class:"sm:col-span-2"},ge={class:"text-xs sm:text-sm bg-gray-50 p-2 rounded break-words"},ye={class:"sm:col-span-2"},we={class:"text-xs sm:text-sm bg-gray-50 p-2 sm:p-3 rounded min-h-[50px] sm:min-h-[60px] break-words"},he={class:"sm:col-span-2"},ke={class:"text-xs sm:text-sm bg-gray-50 p-2 sm:p-3 rounded min-h-[50px] sm:min-h-[60px] break-words"},_e={class:"text-xs sm:text-sm bg-gray-50 p-2 rounded break-words"},Ce={class:"text-xs sm:text-sm bg-gray-50 p-2 rounded break-words"},De={class:"sm:col-span-2"},Ve={class:"text-xs sm:text-sm bg-gray-50 p-2 rounded"},$e={key:0,class:"sm:col-span-2"},Me={class:"text-xs sm:text-sm bg-gray-50 p-2 sm:p-3 rounded min-h-[50px] sm:min-h-[60px] break-words"},Re={class:"flex flex-col-reverse sm:flex-row justify-end gap-2 sm:gap-3 p-4 sm:p-6 border-t bg-gray-50 flex-shrink-0"},Ee={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-2 sm:p-4"},Ne={class:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[95vh] sm:max-h-[90vh] overflow-hidden flex flex-col"},Te={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4"},Se=["max"],je={key:0,class:"text-red-500 text-xs mt-1"},Ie={key:0,class:"text-red-500 text-xs mt-1"},Le={class:"sm:col-span-2"},Ue={class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},Pe={class:"text-gray-400 text-xs"},ze={key:0,class:"text-red-500 text-xs mt-1"},Ae={class:"sm:col-span-2"},Fe={class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},qe={class:"text-gray-400 text-xs"},Be={key:0,class:"text-red-500 text-xs mt-1"},Oe={class:"sm:col-span-2"},Ge={class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},Qe={class:"text-gray-400 text-xs"},We={key:0,class:"text-red-500 text-xs mt-1"},Ye={class:"sm:col-span-2"},He={class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},Je={class:"text-gray-400 text-xs"},Ke={key:0,class:"text-red-500 text-xs mt-1"},Xe={class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},Ze={class:"text-gray-400 text-xs"},ts={key:0,class:"text-red-500 text-xs mt-1"},es=["min"],ss={key:0,class:"text-red-500 text-xs mt-1"},os={key:0,class:"sm:col-span-2"},ls={class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},ns={class:"text-gray-400 text-xs"},is={key:0,class:"text-red-500 text-xs mt-1"},as={key:0,class:"bg-red-50 border border-red-200 rounded-md p-3 sm:p-4"},rs={class:"text-xs sm:text-sm text-red-700 list-disc list-inside space-y-1"},ds={class:"flex flex-col-reverse sm:flex-row justify-end gap-2 sm:gap-3 p-4 sm:p-6 border-t bg-gray-50 flex-shrink-0"},us=["disabled"],ms=["disabled"],xs={key:0},ps={key:1},_s=Q({__name:"PatientRecord",props:{patient:{},medical_records:{},vaccination_records:{},health_conditions:{},appointments:{}},setup(d){const F=[{title:"Clinic Dashboard",href:"#"},{title:"Patients",href:"#"},{title:"Patient Record",href:"#"}],E=d,c=w(null),b=w(null),k=w(""),N=w("all"),S=w(!1),j=w(!1),l=w(null),n=w({}),D=w(!1),q=()=>{if(n.value={},!l.value)return!1;if(l.value.date?new Date(l.value.date)>new Date&&(n.value.date="Date cannot be in the future"):n.value.date="Date is required",l.value.type||(n.value.type="Record type is required"),!l.value.title||l.value.title.trim()===""?n.value.title="Title is required":l.value.title.length>255&&(n.value.title="Title cannot exceed 255 characters"),l.value.description&&l.value.description.length>2e3&&(n.value.description="Description cannot exceed 2000 characters"),l.value.treatment&&l.value.treatment.length>2e3&&(n.value.treatment="Treatment cannot exceed 2000 characters"),l.value.medication&&l.value.medication.length>500&&(n.value.medication="Medication cannot exceed 500 characters"),l.value.veterinarian&&l.value.veterinarian.length>255&&(n.value.veterinarian="Veterinarian name cannot exceed 255 characters"),l.value.follow_up_date){const r=new Date(l.value.follow_up_date),e=new Date(l.value.date);r<e&&(n.value.follow_up_date="Follow-up date must be after record date")}return l.value.notes&&l.value.notes.length>2e3&&(n.value.notes="Notes cannot exceed 2000 characters"),Object.keys(n.value).length===0},y=r=>{delete n.value[r]},I=P(()=>{if(!E.medical_records)return[];let r=E.medical_records.filter(e=>{const s=k.value===""||e.title?.toLowerCase().includes(k.value.toLowerCase())||e.description?.toLowerCase().includes(k.value.toLowerCase())||e.treatment?.toLowerCase().includes(k.value.toLowerCase())||e.medication?.toLowerCase().includes(k.value.toLowerCase())||e.veterinarian?.toLowerCase().includes(k.value.toLowerCase()),p=N.value==="all"||e.type===N.value;return s&&p});if(c.value){const{column:e,direction:s}=c.value;r.sort((p,_)=>{let m=p[e],x=_[e];return(e==="date"||e==="formatted_date")&&(m=new Date(p.date||p.formatted_date),x=new Date(_.date||_.formatted_date)),m==null&&(m=""),x==null&&(x=""),s==="asc"?m>x?1:m<x?-1:0:m<x?1:m>x?-1:0})}return r}),B=P(()=>{if(!E.vaccination_records)return[];let r=[...E.vaccination_records];if(b.value){const{column:e,direction:s}=b.value;r.sort((p,_)=>{let m=p[e],x=_[e];return(e==="date"||e==="formatted_date"||e==="next_due")&&(m=new Date(p.date||p.formatted_date||p.next_due),x=new Date(_.date||_.formatted_date||_.next_due)),m==null&&(m=""),x==null&&(x=""),s==="asc"?m>x?1:m<x?-1:0:m<x?1:m>x?-1:0})}return r}),V=r=>{c.value?.column===r?c.value.direction=c.value.direction==="asc"?"desc":"asc":c.value={column:r,direction:"asc"}},T=r=>{b.value?.column===r?b.value.direction=b.value.direction==="asc"?"desc":"asc":b.value={column:r,direction:"asc"}},g=(r,e)=>!r||r.column!==e?"â†•ï¸":r.direction==="asc"?"â†‘":"â†“",O=r=>{l.value=r,S.value=!0},L=r=>{l.value={...r},n.value={},j.value=!0},M=()=>{S.value=!1,j.value=!1,l.value=null,n.value={},D.value=!1},G=()=>{X.visit(`/clinic/patient/${patient.id}/edit`)},U=async()=>{if(l.value){if(!q()){const r=Object.values(n.value)[0];console.error("Validation failed:",r);return}D.value=!0;try{console.log("Saving record:",l.value),M()}catch(r){console.error("Failed to save record:",r)}finally{D.value=!1}}};return(r,e)=>(a(),i($,null,[z(W(K),{title:`${d.patient.name} - Patient Record`},null,8,["title"]),z(J,{breadcrumbs:F},{default:Y(()=>[t("div",Z,[t("div",tt,[t("div",et,[e[31]||(e[31]=t("div",{class:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center"},[t("span",{class:"text-2xl"},"ðŸ¾")],-1)),t("div",null,[t("h1",st,o(d.patient.name),1),t("p",ot,o(d.patient.breed)+" â€¢ "+o(d.patient.species)+" â€¢ "+o(d.patient.age||"Age unknown")+" years old",1),t("p",lt,"Patient ID: "+o(d.patient.id),1)])]),t("div",{class:"flex gap-2"},[t("button",{onClick:G,class:"btn btn-outline"},"âœï¸ Edit Patient"),e[32]||(e[32]=t("button",{class:"btn btn-outline"},"ðŸ“„ Export Record",-1)),e[33]||(e[33]=t("button",{class:"btn btn-primary"},"âœï¸ Add Record",-1))])]),t("div",nt,[t("div",it,[t("div",at,[e[46]||(e[46]=t("h2",{class:"text-lg font-semibold mb-4"},"Patient Information",-1)),t("div",rt,[d.patient.weight?(a(),i("div",dt,[e[34]||(e[34]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Weight",-1)),t("p",ut,o(d.patient.weight)+" kg",1)])):u("",!0),t("div",null,[e[35]||(e[35]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Color",-1)),t("p",mt,o(d.patient.color||"Not specified"),1)]),d.patient.markings?(a(),i("div",xt,[e[36]||(e[36]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Markings",-1)),t("p",pt,o(d.patient.markings),1)])):u("",!0),d.patient.microchip_id?(a(),i("div",ct,[e[37]||(e[37]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Microchip ID",-1)),t("p",vt,o(d.patient.microchip_id),1)])):u("",!0),d.patient.is_neutered!==void 0?(a(),i("div",ft,[e[38]||(e[38]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Neutered/Spayed",-1)),t("p",bt,o(d.patient.is_neutered?"Yes":"No"),1)])):u("",!0),d.patient.birth_date?(a(),i("div",gt,[e[39]||(e[39]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Date of Birth",-1)),t("p",yt,o(d.patient.formatted_birth_date),1)])):u("",!0)]),e[47]||(e[47]=t("hr",{class:"my-4"},null,-1)),e[48]||(e[48]=t("h3",{class:"font-medium mb-3"},"Owner Information",-1)),t("div",wt,[t("div",null,[e[40]||(e[40]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Name",-1)),t("p",ht,o(d.patient.owner_name),1)]),t("div",null,[e[41]||(e[41]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Phone",-1)),t("p",kt,o(d.patient.owner_phone),1)]),t("div",null,[e[42]||(e[42]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Email",-1)),t("p",_t,o(d.patient.owner_email),1)]),d.patient.emergency_contact?(a(),i("div",Ct,[e[43]||(e[43]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Emergency Contact",-1)),t("p",Dt,o(d.patient.emergency_contact),1)])):u("",!0)]),d.patient.allergies?.length?(a(),i("div",Vt,[e[44]||(e[44]=t("h3",{class:"font-medium mb-2"},"Allergies",-1)),t("div",$t,[(a(!0),i($,null,R(d.patient.allergies,s=>(a(),i("span",{key:s,class:"px-2 py-1 bg-red-100 text-red-800 rounded text-xs"},o(s),1))),128))])])):u("",!0),d.patient.current_medications?.length?(a(),i("div",Mt,[e[45]||(e[45]=t("h3",{class:"font-medium mb-2"},"Current Medications",-1)),t("div",Rt,[(a(!0),i($,null,R(d.patient.current_medications,s=>(a(),i("p",{key:s,class:"text-sm px-2 py-1 bg-blue-100 text-blue-800 rounded"},o(s),1))),128))])])):u("",!0)]),d.vaccination_records?.length?(a(),i("div",Et,[e[50]||(e[50]=t("h2",{class:"text-lg font-semibold mb-4"},"Vaccination Records",-1)),t("div",Nt,[t("table",Tt,[t("thead",null,[t("tr",St,[t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground cursor-pointer hover:bg-muted/50 transition-colors",onClick:e[0]||(e[0]=s=>T("vaccine"))}," Vaccine "+o(g(b.value,"vaccine")),1),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground cursor-pointer hover:bg-muted/50 transition-colors",onClick:e[1]||(e[1]=s=>T("formatted_date"))}," Date Given "+o(g(b.value,"formatted_date")),1),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground cursor-pointer hover:bg-muted/50 transition-colors",onClick:e[2]||(e[2]=s=>T("next_due"))}," Next Due "+o(g(b.value,"next_due")),1),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground cursor-pointer hover:bg-muted/50 transition-colors",onClick:e[3]||(e[3]=s=>T("veterinarian"))}," Veterinarian "+o(g(b.value,"veterinarian")),1),e[49]||(e[49]=t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground"},"Status",-1))])]),t("tbody",null,[(a(!0),i($,null,R(B.value,s=>(a(),i("tr",{key:s.id,class:"border-b hover:bg-muted/20 transition-colors"},[t("td",jt,o(s.vaccine),1),t("td",It,o(s.formatted_date),1),t("td",Lt,o(s.next_due),1),t("td",Ut,o(s.veterinarian),1),t("td",Pt,[t("span",{class:v([{"bg-green-100 text-green-800":s.status==="current","bg-yellow-100 text-yellow-800":s.is_due_soon,"bg-red-100 text-red-800":s.is_expired},"px-2 py-1 rounded-full text-xs font-medium"])},o(s.is_expired?"Expired":s.is_due_soon?"Due Soon":"Current"),3)])]))),128))])])])])):u("",!0)]),t("div",zt,[t("div",At,[t("div",Ft,[e[53]||(e[53]=t("h2",{class:"text-lg font-semibold"},"Medical Records",-1)),t("div",qt,[t("div",Bt,[f(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>k.value=s),type:"text",placeholder:"Search records...",class:"pl-8 pr-3 py-2 border rounded-md text-sm w-64"},null,512),[[h,k.value]]),e[51]||(e[51]=t("svg",{class:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),f(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>N.value=s),class:"btn btn-outline px-3 py-2 text-sm"},[...e[52]||(e[52]=[t("option",{value:"all"},"All Records",-1),t("option",{value:"checkup"},"Checkups",-1),t("option",{value:"vaccination"},"Vaccinations",-1),t("option",{value:"surgery"},"Surgeries",-1),t("option",{value:"treatment"},"Treatments",-1),t("option",{value:"emergency"},"Emergency",-1)])],512),[[A,N.value]])])]),I.value&&I.value.length>0?(a(),i("div",Ot,[t("table",Gt,[t("thead",null,[t("tr",Qt,[t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground cursor-pointer hover:bg-muted/50 transition-colors",onClick:e[6]||(e[6]=s=>V("formatted_date"))}," Date "+o(g(c.value,"formatted_date")),1),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground cursor-pointer hover:bg-muted/50 transition-colors",onClick:e[7]||(e[7]=s=>V("type"))}," Type "+o(g(c.value,"type")),1),e[54]||(e[54]=t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground"},"Appointment",-1)),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground cursor-pointer hover:bg-muted/50 transition-colors",onClick:e[8]||(e[8]=s=>V("title"))}," Title "+o(g(c.value,"title")),1),e[55]||(e[55]=t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground"},"Description",-1)),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground cursor-pointer hover:bg-muted/50 transition-colors",onClick:e[9]||(e[9]=s=>V("treatment"))}," Treatment "+o(g(c.value,"treatment")),1),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground cursor-pointer hover:bg-muted/50 transition-colors",onClick:e[10]||(e[10]=s=>V("medication"))}," Medication "+o(g(c.value,"medication")),1),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground cursor-pointer hover:bg-muted/50 transition-colors",onClick:e[11]||(e[11]=s=>V("veterinarian"))}," Veterinarian "+o(g(c.value,"veterinarian")),1),e[56]||(e[56]=t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground"},"Follow-up",-1)),e[57]||(e[57]=t("th",{class:"px-4 py-3 text-left text-sm font-medium text-muted-foreground"},"Actions",-1))])]),t("tbody",null,[(a(!0),i($,null,R(I.value,s=>(a(),i("tr",{key:s.id,class:"border-b hover:bg-muted/20 transition-colors"},[t("td",Wt,o(s.formatted_date),1),t("td",Yt,[t("span",{class:v([{"bg-blue-100 text-blue-800":s.type==="checkup","bg-green-100 text-green-800":s.type==="vaccination","bg-red-100 text-red-800":s.type==="surgery","bg-yellow-100 text-yellow-800":s.type==="treatment","bg-purple-100 text-purple-800":s.type==="emergency"},"px-2 py-1 rounded-full text-xs font-medium capitalize"])},o(s.type),3)]),t("td",Ht,[s.appointment?(a(),i("div",Jt,[t("span",Kt,"#"+o(s.appointment.appointment_number),1)])):(a(),i("span",Xt,"Manual"))]),t("td",Zt,o(s.title||"-"),1),t("td",te,[t("div",{class:"truncate",title:s.description},o(s.description||"-"),9,ee)]),t("td",se,o(s.treatment||"-"),1),t("td",oe,o(s.medication||"-"),1),t("td",le,o(s.veterinarian||"-"),1),t("td",ne,o(s.follow_up_date||"-"),1),t("td",ie,[t("div",ae,[t("button",{onClick:p=>O(s),class:"btn btn-sm btn-outline text-xs px-2 py-1 hover:bg-blue-50"}," View ",8,re),t("button",{onClick:p=>L(s),class:"btn btn-sm btn-outline text-xs px-2 py-1 hover:bg-green-50"}," Edit ",8,de)])])]))),128))])])])):(a(),i("div",ue,[...e[58]||(e[58]=[t("p",{class:"text-muted-foreground"},"No medical records found",-1),t("button",{class:"btn btn-primary mt-2"},"Add First Record",-1)])]))])])])]),S.value?(a(),i("div",me,[t("div",xe,[t("div",{class:"flex items-center justify-between p-4 sm:p-6 border-b flex-shrink-0"},[e[60]||(e[60]=t("h3",{class:"text-base sm:text-lg font-semibold"},"Medical Record Details",-1)),t("button",{onClick:M,class:"text-gray-400 hover:text-gray-600 p-1"},[...e[59]||(e[59]=[t("svg",{class:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),l.value?(a(),i("div",pe,[t("div",ce,[t("div",null,[e[61]||(e[61]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},"Date",-1)),t("p",ve,o(l.value.formatted_date),1)]),t("div",null,[e[62]||(e[62]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},"Type",-1)),t("p",fe,o(l.value.type),1)]),t("div",be,[e[63]||(e[63]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},"Title",-1)),t("p",ge,o(l.value.title||"No title"),1)]),t("div",ye,[e[64]||(e[64]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},"Description",-1)),t("p",we,o(l.value.description||"No description"),1)]),t("div",he,[e[65]||(e[65]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},"Treatment",-1)),t("p",ke,o(l.value.treatment||"No treatment specified"),1)]),t("div",null,[e[66]||(e[66]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},"Medication",-1)),t("p",_e,o(l.value.medication||"None"),1)]),t("div",null,[e[67]||(e[67]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},"Veterinarian",-1)),t("p",Ce,o(l.value.veterinarian||"Not specified"),1)]),t("div",De,[e[68]||(e[68]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},"Follow-up Date",-1)),t("p",Ve,o(l.value.follow_up_date||"No follow-up scheduled"),1)]),l.value.notes?(a(),i("div",$e,[e[69]||(e[69]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},"Additional Notes",-1)),t("p",Me,o(l.value.notes),1)])):u("",!0)])])):u("",!0),t("div",Re,[t("button",{onClick:M,class:"btn btn-outline px-4 py-2 text-sm w-full sm:w-auto"},"Close"),t("button",{onClick:e[12]||(e[12]=s=>L(l.value)),class:"btn btn-primary px-4 py-2 text-sm w-full sm:w-auto"},"Edit Record")])])])):u("",!0),j.value?(a(),i("div",Ee,[t("div",Ne,[t("div",{class:"flex items-center justify-between p-4 sm:p-6 border-b flex-shrink-0"},[e[71]||(e[71]=t("h3",{class:"text-base sm:text-lg font-semibold"},"Edit Medical Record",-1)),t("button",{onClick:M,class:"text-gray-400 hover:text-gray-600 p-1"},[...e[70]||(e[70]=[t("svg",{class:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),l.value?(a(),i("form",{key:0,onSubmit:H(U,["prevent"]),class:"p-4 sm:p-6 space-y-3 sm:space-y-4 overflow-y-auto flex-1"},[t("div",Te,[t("div",null,[e[72]||(e[72]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},[C(" Date "),t("span",{class:"text-red-500"},"*")],-1)),f(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>l.value.date=s),type:"date",required:"",onInput:e[14]||(e[14]=s=>y("date")),max:new Date().toISOString().split("T")[0],class:v(["w-full px-2 sm:px-3 py-1.5 sm:py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",n.value.date?"border-red-500":"border-gray-300"])},null,42,Se),[[h,l.value.date]]),n.value.date?(a(),i("p",je,o(n.value.date),1)):u("",!0)]),t("div",null,[e[74]||(e[74]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},[C(" Type "),t("span",{class:"text-red-500"},"*")],-1)),f(t("select",{"onUpdate:modelValue":e[15]||(e[15]=s=>l.value.type=s),required:"",onChange:e[16]||(e[16]=s=>y("type")),class:v(["w-full px-2 sm:px-3 py-1.5 sm:py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",n.value.type?"border-red-500":"border-gray-300"])},[...e[73]||(e[73]=[t("option",{value:""},"Select type...",-1),t("option",{value:"checkup"},"Checkup",-1),t("option",{value:"vaccination"},"Vaccination",-1),t("option",{value:"surgery"},"Surgery",-1),t("option",{value:"treatment"},"Treatment",-1),t("option",{value:"emergency"},"Emergency",-1)])],34),[[A,l.value.type]]),n.value.type?(a(),i("p",Ie,o(n.value.type),1)):u("",!0)]),t("div",Le,[t("label",Ue,[e[75]||(e[75]=C(" Title ",-1)),e[76]||(e[76]=t("span",{class:"text-red-500"},"*",-1)),t("span",Pe,"("+o(l.value.title?.length||0)+"/255)",1)]),f(t("input",{"onUpdate:modelValue":e[17]||(e[17]=s=>l.value.title=s),type:"text",required:"",maxlength:"255",onInput:e[18]||(e[18]=s=>y("title")),placeholder:"Enter record title",class:v(["w-full px-2 sm:px-3 py-1.5 sm:py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",n.value.title?"border-red-500":"border-gray-300"])},null,34),[[h,l.value.title]]),n.value.title?(a(),i("p",ze,o(n.value.title),1)):u("",!0)]),t("div",Ae,[t("label",Fe,[e[77]||(e[77]=C(" Description ",-1)),t("span",qe,"("+o(l.value.description?.length||0)+"/2000)",1)]),f(t("textarea",{"onUpdate:modelValue":e[19]||(e[19]=s=>l.value.description=s),rows:"2",maxlength:"2000",onInput:e[20]||(e[20]=s=>y("description")),placeholder:"Enter detailed description",class:v(["w-full px-2 sm:px-3 py-1.5 sm:py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary resize-y",n.value.description?"border-red-500":"border-gray-300"])},null,34),[[h,l.value.description]]),n.value.description?(a(),i("p",Be,o(n.value.description),1)):u("",!0)]),t("div",Oe,[t("label",Ge,[e[78]||(e[78]=C(" Treatment ",-1)),t("span",Qe,"("+o(l.value.treatment?.length||0)+"/2000)",1)]),f(t("textarea",{"onUpdate:modelValue":e[21]||(e[21]=s=>l.value.treatment=s),rows:"2",maxlength:"2000",onInput:e[22]||(e[22]=s=>y("treatment")),placeholder:"Enter treatment details",class:v(["w-full px-2 sm:px-3 py-1.5 sm:py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary resize-y",n.value.treatment?"border-red-500":"border-gray-300"])},null,34),[[h,l.value.treatment]]),n.value.treatment?(a(),i("p",We,o(n.value.treatment),1)):u("",!0)]),t("div",Ye,[t("label",He,[e[79]||(e[79]=C(" Medication ",-1)),t("span",Je,"("+o(l.value.medication?.length||0)+"/500)",1)]),f(t("input",{"onUpdate:modelValue":e[23]||(e[23]=s=>l.value.medication=s),type:"text",maxlength:"500",onInput:e[24]||(e[24]=s=>y("medication")),placeholder:"Enter medications prescribed",class:v(["w-full px-2 sm:px-3 py-1.5 sm:py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",n.value.medication?"border-red-500":"border-gray-300"])},null,34),[[h,l.value.medication]]),n.value.medication?(a(),i("p",Ke,o(n.value.medication),1)):u("",!0)]),t("div",null,[t("label",Xe,[e[80]||(e[80]=C(" Veterinarian ",-1)),t("span",Ze,"("+o(l.value.veterinarian?.length||0)+"/255)",1)]),f(t("input",{"onUpdate:modelValue":e[25]||(e[25]=s=>l.value.veterinarian=s),type:"text",maxlength:"255",onInput:e[26]||(e[26]=s=>y("veterinarian")),placeholder:"Enter veterinarian name",class:v(["w-full px-2 sm:px-3 py-1.5 sm:py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",n.value.veterinarian?"border-red-500":"border-gray-300"])},null,34),[[h,l.value.veterinarian]]),n.value.veterinarian?(a(),i("p",ts,o(n.value.veterinarian),1)):u("",!0)]),t("div",null,[e[81]||(e[81]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"}," Follow-up Date ",-1)),f(t("input",{"onUpdate:modelValue":e[27]||(e[27]=s=>l.value.follow_up_date=s),type:"date",min:l.value.date,onInput:e[28]||(e[28]=s=>y("follow_up_date")),class:v(["w-full px-2 sm:px-3 py-1.5 sm:py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",n.value.follow_up_date?"border-red-500":"border-gray-300"])},null,42,es),[[h,l.value.follow_up_date]]),n.value.follow_up_date?(a(),i("p",ss,o(n.value.follow_up_date),1)):u("",!0)]),l.value.notes!==void 0?(a(),i("div",os,[t("label",ls,[e[82]||(e[82]=C(" Additional Notes ",-1)),t("span",ns,"("+o(l.value.notes?.length||0)+"/2000)",1)]),f(t("textarea",{"onUpdate:modelValue":e[29]||(e[29]=s=>l.value.notes=s),rows:"2",maxlength:"2000",onInput:e[30]||(e[30]=s=>y("notes")),placeholder:"Enter additional notes",class:v(["w-full px-2 sm:px-3 py-1.5 sm:py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary resize-y",n.value.notes?"border-red-500":"border-gray-300"])},null,34),[[h,l.value.notes]]),n.value.notes?(a(),i("p",is,o(n.value.notes),1)):u("",!0)])):u("",!0)]),Object.keys(n.value).length>0?(a(),i("div",as,[e[83]||(e[83]=t("h4",{class:"text-xs sm:text-sm font-semibold text-red-800 mb-2"},"Please correct the following errors:",-1)),t("ul",rs,[(a(!0),i($,null,R(n.value,(s,p)=>(a(),i("li",{key:p},o(s),1))),128))])])):u("",!0)],32)):u("",!0),t("div",ds,[t("button",{onClick:M,type:"button",class:"btn btn-outline px-4 py-2 text-sm w-full sm:w-auto",disabled:D.value}," Cancel ",8,us),t("button",{onClick:U,type:"button",class:"btn btn-primary px-4 py-2 text-sm flex items-center justify-center gap-2 w-full sm:w-auto",disabled:D.value},[D.value?(a(),i("span",xs,"Saving...")):(a(),i("span",ps,"Save Changes"))],8,ms)])])])):u("",!0)]),_:1})],64))}});export{_s as default};
