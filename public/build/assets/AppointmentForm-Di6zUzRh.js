import{d as ke,c as b,r as w,K as J,b as d,e as i,i as v,w as G,h as e,u as o,g as c,t as a,j as m,p as he,q as D,n as S,F as A,k as L,v as Q,s as R,a as we}from"./vue-vendor-DmxhFomr.js";import{H as _e,D as Z,x as ee,c as Se,J as Me,K as Ce}from"./admin-j62zy8g0.js";import{E as De}from"./ErrorModal-B2MjwNlV.js";import{a3 as Ae,J as Pe}from"./ui-components-Dj0vw2vK.js";import{a as Te,h as Be,r as E}from"./inertia-vendor-BXJnWAhq.js";import{h as Ee}from"./app-692i1coy.js";import{u as Ve}from"./pets-C0z0R2h-.js";import{a5 as Ne,a2 as Ue,ao as Fe,X as Le}from"./lucide-vendor-BUHJwLVO.js";import"./vendor-BqPpK9Aj.js";import"./leaflet-vendor-Do2TvcFZ.js";import"./utility-vendor-CjxovF-h.js";import"./auth-a3bL7d2J.js";import"./ui-vendor-B7N-G3Ug.js";import"./toast-vendor-DVSe2vMM.js";const Re={class:"flex h-full flex-1 flex-col gap-3 sm:gap-4 overflow-x-auto rounded-xl p-3 sm:p-4"},Xe={class:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 shadow-lg"},je={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 mb-4"},Ie={class:"flex-1"},ze={class:"text-xl sm:text-2xl md:text-3xl font-bold"},He={key:0,class:"text-blue-100 mt-1 sm:mt-2 flex items-center gap-2 text-sm sm:text-base"},$e={class:"font-semibold truncate"},Oe={key:1,class:"text-blue-100 mt-1 sm:mt-2 text-sm sm:text-base"},Ye={key:0,class:"flex gap-2 w-full sm:w-auto"},qe={key:0,class:"bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl p-3 sm:p-4 mt-4"},Ke={class:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm"},We={class:"space-y-2"},Je={class:"text-blue-100"},Ge={key:0,class:"text-blue-100"},Qe={class:"space-y-2"},Ze={class:"text-blue-100"},et={class:"text-blue-100"},tt={class:"bg-white dark:bg-black rounded-xl sm:rounded-2xl shadow-xl border border-gray-200 dark:border-gray-800 p-4 sm:p-6 md:p-8 pb-20 sm:pb-8"},st={key:0,class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-4 sm:mb-6"},rt=["disabled"],ot=["value"],lt={key:0,class:"text-red-600 dark:text-red-400 text-sm mt-2"},at=["value"],nt={key:0,class:"text-sm text-gray-500 dark:text-gray-400 mt-2"},it={key:1,class:"text-red-600 dark:text-red-400 text-sm mt-2"},dt={key:2,class:"text-sm text-blue-600 dark:text-blue-400 mt-2"},mt={key:0},ut={key:0,class:"text-red-600 dark:text-red-400 text-sm mt-2"},ct={class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6"},pt={class:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1.5 sm:mb-2"},bt={key:0,class:"text-red-600 dark:text-red-400 text-sm mt-2"},xt={key:1,class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},gt={key:2,class:"text-amber-600 dark:text-amber-400 text-sm mt-2"},ft={class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},vt={key:0,class:"text-red-600 dark:text-red-400 text-sm mt-2"},yt={key:1,class:"text-amber-600 dark:text-amber-400 text-sm mt-2"},kt={key:1,class:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-900 border-2 border-blue-200 dark:border-gray-700 rounded-xl p-4 sm:p-6"},ht={class:"font-semibold text-blue-900 dark:text-blue-100 mb-2 sm:mb-3 text-base sm:text-lg"},wt={class:"text-xs sm:text-sm text-blue-800 dark:text-blue-200 space-y-1.5 sm:space-y-2"},_t={key:0},St={class:"ml-4 space-y-1"},Mt={key:0},Ct={class:"font-semibold"},Dt={class:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-4 sm:pt-6"},At=["disabled"],Pt={key:0,class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Tt=["disabled"],Bt={class:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-900 rounded-xl sm:rounded-2xl border-2 border-blue-200 dark:border-gray-700 p-4 sm:p-6 shadow-sm"},Et={class:"flex items-start gap-3 sm:gap-4"},Vt={class:"flex-1"},Nt={class:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm text-blue-800 dark:text-blue-200"},Ut={class:"flex items-start gap-2"},Ft={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-3 sm:p-4 z-50"},Lt={class:"bg-white dark:bg-black rounded-lg max-w-md w-full p-4 sm:p-6 border dark:border-gray-800"},Rt={class:"text-center"},Xt={key:0,class:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 space-y-2 mb-4 sm:mb-6"},jt={class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-3 sm:p-4 text-left border dark:border-gray-800"},It={class:"space-y-1 text-sm"},ss=ke({__name:"AppointmentForm",props:{mode:{},pets:{},clinics:{},services:{},appointment:{},clinicId:{},clinicName:{},selectedClinic:{},selectedDate:{},booked_slots:{},operating_hours:{},user:{}},setup(u){const s=u,{handleInputFocus:X}=Ve(),te=b(()=>s.mode==="reschedule"&&s.appointment?[{title:"Schedule",href:_e().url},{title:"Appointment Details",href:Z(s.appointment.id).url},{title:"Reschedule",href:"#"}]:[{title:"Clinics",href:ee().url},{title:"Book Appointment",href:"#"}]),se=()=>{if(s.mode==="reschedule"&&s.appointment){if(s.appointment.clinic_registration)return{id:s.appointment.clinic_registration.id,name:s.appointment.clinic_registration.clinic_name,phone:s.appointment.clinic_registration.phone,address:s.appointment.clinic_registration.full_address,clinic_services:s.appointment.clinic_registration.clinic_services||[]};if(s.appointment.clinic)return s.appointment.clinic}return null},r=Te({pet_id:s.mode==="reschedule"&&s.appointment?s.appointment.pet.id.toString():"",clinic_id:s.mode==="reschedule"&&s.appointment?(s.appointment.clinic_registration?.id||s.appointment.clinic?.id||"").toString():s.clinicId?.toString()||s.selectedClinic?.id?.toString()||"",service_ids:s.mode==="reschedule"&&s.appointment?.service?[s.appointment.service.id]:[],preferred_date:s.mode==="create"&&s.selectedDate||"",preferred_time:"",reason:s.mode==="reschedule"&&s.appointment?.reason||"",notes:s.mode==="reschedule"&&s.appointment?.notes||"",contact_phone:s.user?.phone||"",reschedule_reason:""}),j=s.mode==="reschedule"?se():s.selectedClinic,x=w(j),g=w(j?.clinic_services||[]),y=w(s.mode==="reschedule"&&s.appointment?.service?.id||null),P=w(!1),f=w(null),V=w(!1),k=w({title:s.mode==="create"?"Booking Error":"Reschedule Error",message:"",validationErrors:{},technicalDetails:"",suggestions:[]}),I=b(()=>s.mode==="create"?"Book Appointment":"Reschedule Appointment"),re=b(()=>s.mode==="create"?"Submit Booking Request":"Confirm Reschedule"),oe=b(()=>s.mode==="create"?"Submitting...":"Rescheduling..."),z=b(()=>x.value?x.value.name:s.clinicName?s.clinicName:"No clinic selected"),le=b(()=>new Date().toISOString().split("T")[0]),ae=b(()=>{const n=new Date;return n.setMonth(n.getMonth()+6),n.toISOString().split("T")[0]}),M=b(()=>s.pets.find(n=>n.id.toString()===r.pet_id)),H=b(()=>g.value.filter(n=>r.service_ids.includes(n.id))),ne=["9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM"],N=b(()=>{if(!r.preferred_date||!s.operating_hours)return ne;const t=new Date(r.preferred_date).toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),l=s.operating_hours.find(p=>p.day_of_week===t);if(!l||l.is_closed)return[];const h=p=>{const[_,B]=p.split(":").map(Number);return _*60+B},xe=p=>{const _=Math.floor(p/60),B=p%60,C=_>=12?"PM":"AM";return`${_%12||12}:${B.toString().padStart(2,"0")} ${C}`},ge=h(l.opening_time),fe=h(l.closing_time),q=l.break_start_time?h(l.break_start_time):null,K=l.break_end_time?h(l.break_end_time):null,W=[];for(let p=ge;p<fe;p+=30){if(q&&K&&p>=q&&p<K)continue;const _=xe(p);s.booked_slots?.some(C=>{if(C.date!==r.preferred_date)return!1;const F=h(C.time),ve=F+C.duration,ye=p+30;return p<ve&&ye>F})||W.push(_)}return W}),T=b(()=>{if(!r.preferred_date||!s.operating_hours)return!0;const t=new Date(r.preferred_date).toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),l=s.operating_hours.find(h=>h.day_of_week===t);return l&&!l.is_closed}),ie=b(()=>s.mode==="reschedule"&&s.appointment?new Date(s.appointment.scheduled_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):""),de=b(()=>s.mode==="reschedule"&&s.appointment?new Date(s.appointment.scheduled_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"");if(J(()=>r.clinic_id,n=>{if(n){const t=s.clinics.find(l=>l.id.toString()===n.toString());x.value=t||null,g.value=t?.clinic_services||[],y.value=null,r.service_ids=[]}else x.value=null,g.value=[],y.value=null,r.service_ids=[]}),J(y,n=>{n?r.service_ids=[n]:r.service_ids=[]}),s.selectedClinic&&s.mode==="create")x.value=s.selectedClinic,g.value=s.selectedClinic.clinic_services||[],g.value.length===1&&(y.value=g.value[0].id,r.service_ids=[g.value[0].id]);else if(s.clinicId&&s.mode==="create"){const n=s.clinics.find(t=>t.id.toString()===s.clinicId.toString());n&&(x.value=n,g.value=n.clinic_services||[])}const $=()=>{s.mode==="create"?r.post(Me().url,{onSuccess:n=>{f.value={appointment_id:n.props.appointment?.id,confirmation_number:n.props.appointment?.confirmation_number,clinic_name:x.value?.name,pet_name:M.value?.name,appointment_date:r.preferred_date,appointment_time:r.preferred_time,status:"scheduled"},P.value=!0,r.reset()},onError:n=>{O(n)}}):s.mode==="reschedule"&&s.appointment&&r.put(Ce(s.appointment.id).url,{onSuccess:()=>{E.visit(Z(s.appointment.id).url)},onError:n=>{O(n)}})},O=n=>{console.error("Form errors:",n),k.value=Ee(n),V.value=!0},me=()=>{V.value=!1,k.value={title:s.mode==="create"?"Booking Error":"Reschedule Error",message:"",validationErrors:{},technicalDetails:"",suggestions:[]}},ue=()=>{$()},Y=()=>{s.mode==="reschedule"&&s.appointment?E.visit("/dashboard"):E.visit(ee().url)},ce=()=>{P.value=!1,f.value=null},pe=()=>{E.visit("/appointments")},be=()=>{P.value=!1,f.value=null},U=n=>new Date(n).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(n,t)=>(i(),d(A,null,[v(o(Be),{title:I.value},{default:G(()=>[...t[8]||(t[8]=[e("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"},null,-1)])]),_:1},8,["title"]),v(Se,{breadcrumbs:te.value},{default:G(()=>[e("div",Re,[e("div",Xe,[e("div",je,[e("div",Ie,[e("h1",ze,a(I.value),1),u.mode==="create"?(i(),d("p",He,[v(o(Ne),{class:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),e("span",$e,a(z.value),1)])):(i(),d("p",Oe," Update your appointment date and time "))]),u.mode==="reschedule"?(i(),d("div",Ye,[e("button",{onClick:Y,class:"px-3 sm:px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg text-xs sm:text-sm font-medium flex items-center justify-center gap-1.5 sm:gap-2 transition-all flex-1 sm:flex-initial"},[v(o(Ue),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),t[9]||(t[9]=m(" Cancel ",-1))])])):c("",!0)]),u.mode==="reschedule"&&u.appointment?(i(),d("div",qe,[t[14]||(t[14]=e("h3",{class:"font-semibold text-white mb-2 sm:mb-3 text-sm sm:text-base"},"Current Appointment",-1)),e("div",Ke,[e("div",We,[e("p",Je,[t[10]||(t[10]=e("span",{class:"font-semibold text-white"},"Pet:",-1)),m(" "+a(u.appointment.pet.name)+" ("+a(u.appointment.pet.type)+", "+a(u.appointment.pet.breed)+") ",1)]),u.appointment.service?(i(),d("p",Ge,[t[11]||(t[11]=e("span",{class:"font-semibold text-white"},"Service:",-1)),m(" "+a(u.appointment.service.name),1)])):c("",!0)]),e("div",Qe,[e("p",Ze,[t[12]||(t[12]=e("span",{class:"font-semibold text-white"},"Date & Time:",-1)),m(" "+a(ie.value)+" at "+a(de.value),1)]),e("p",et,[t[13]||(t[13]=e("span",{class:"font-semibold text-white"},"Clinic:",-1)),m(" "+a(z.value),1)])])])])):c("",!0)]),e("div",tt,[u.mode==="reschedule"?(i(),d("h2",st,"Select New Date & Time")):c("",!0),e("form",{onSubmit:he($,["prevent"]),onFocusin:t[7]||(t[7]=(...l)=>o(X)&&o(X)(...l)),class:"space-y-4 sm:space-y-6"},[e("div",null,[t[16]||(t[16]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1.5 sm:mb-2"},[m(" Select Pet "),e("span",{class:"text-red-500"},"*")],-1)),D(e("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>o(r).pet_id=l),disabled:u.mode==="reschedule",class:S(["w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",o(r).errors.pet_id?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-700 hover:border-blue-400",u.mode==="reschedule"?"bg-gray-100 dark:bg-gray-900 cursor-not-allowed":"dark:bg-gray-900","dark:text-gray-200"])},[t[15]||(t[15]=e("option",{value:""},"Select your pet",-1)),(i(!0),d(A,null,L(u.pets,l=>(i(),d("option",{key:l.id,value:l.id},a(l.name),9,ot))),128))],10,rt),[[Q,o(r).pet_id]]),o(r).errors.pet_id?(i(),d("p",lt,a(o(r).errors.pet_id),1)):c("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1.5 sm:mb-2"},[m(" Select Service "),e("span",{class:"text-red-500"},"*")],-1)),D(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>y.value=l),class:S(["w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all dark:bg-gray-900 dark:text-gray-200",o(r).errors.service_ids?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-700 hover:border-blue-400"])},[t[17]||(t[17]=e("option",{value:"",disabled:"",class:"bg-background text-foreground"},"Select a service",-1)),(i(!0),d(A,null,L(g.value,l=>(i(),d("option",{key:l.id,value:l.id,class:"bg-background text-foreground"},[m(a(l.name)+" ",1),l.duration_minutes?(i(),d(A,{key:0},[m(" ("+a(l.duration_minutes)+" min)",1)],64)):c("",!0)],8,at))),128))],2),[[Q,y.value]]),g.value.length===0?(i(),d("p",nt,a(x.value?"No services available for this clinic":"Please select a clinic to view available services"),1)):c("",!0),o(r).errors.service_ids?(i(),d("p",it,a(o(r).errors.service_ids),1)):y.value?(i(),d("p",dt," âœ“ Service selected ")):c("",!0)]),u.mode==="reschedule"?(i(),d("div",mt,[t[19]||(t[19]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1.5 sm:mb-2"}," Reason for Rescheduling (Optional) ",-1)),D(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=l=>o(r).reschedule_reason=l),rows:"3",class:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base border border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-none hover:border-blue-400",placeholder:"Brief reason why you're rescheduling (optional)..."},null,512),[[R,o(r).reschedule_reason]]),t[20]||(t[20]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"This helps us serve you better",-1))])):c("",!0),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1.5 sm:mb-2"},[m(" Reason for Visit "),e("span",{class:"text-red-500"},"*")],-1)),D(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=l=>o(r).reason=l),rows:"4",class:S(["w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-none",o(r).errors.reason?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-700 hover:border-blue-400","dark:bg-gray-900 dark:text-gray-200"]),placeholder:"Please describe the reason for your visit..."},null,2),[[R,o(r).reason]]),o(r).errors.reason?(i(),d("p",ut,a(o(r).errors.reason),1)):c("",!0)]),e("div",ct,[e("div",null,[e("label",pt,[m(a(u.mode==="reschedule"?"New Date":"Date")+" ",1),t[22]||(t[22]=e("span",{class:"text-red-500"},"*",-1))]),v(o(Ae),{modelValue:o(r).preferred_date,"onUpdate:modelValue":t[4]||(t[4]=l=>o(r).preferred_date=l),"min-date":le.value,"max-date":ae.value,placeholder:u.mode==="reschedule"?"Select new appointment date":"Select appointment date",class:S(o(r).errors.scheduled_at||o(r).errors.preferred_date?"border-red-500":"")},null,8,["modelValue","min-date","max-date","placeholder","class"]),o(r).errors.scheduled_at||o(r).errors.preferred_date?(i(),d("p",bt,a(o(r).errors.scheduled_at||o(r).errors.preferred_date),1)):c("",!0),o(r).preferred_date?(i(),d("p",xt,a(U(o(r).preferred_date)),1)):c("",!0),o(r).preferred_date&&!T.value?(i(),d("p",gt," âš ï¸ The clinic is closed on this day. Please select another date. ")):c("",!0)]),e("div",null,[e("label",ft,[m(a(u.mode==="reschedule"?"New Time":"Time")+" ",1),t[23]||(t[23]=e("span",{class:"text-red-500"},"*",-1))]),v(o(Pe),{modelValue:o(r).preferred_time,"onUpdate:modelValue":t[5]||(t[5]=l=>o(r).preferred_time=l),disabled:!o(r).preferred_date||!T.value,"available-slots":N.value,placeholder:o(r).preferred_date?T.value?N.value.length===0?"No available slots":"Select appointment time":"Clinic closed on this day":"Select date first",class:S(o(r).errors.scheduled_at||o(r).errors.preferred_time?"border-red-500":"")},null,8,["modelValue","disabled","available-slots","placeholder","class"]),o(r).errors.scheduled_at||o(r).errors.preferred_time?(i(),d("p",vt,a(o(r).errors.scheduled_at||o(r).errors.preferred_time),1)):o(r).preferred_date&&T.value&&N.value.length===0?(i(),d("p",yt," âš ï¸ All time slots are booked for this date. Please select another date. ")):c("",!0)])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1.5 sm:mb-2"},[m(" Contact Phone "),e("span",{class:"text-red-500"},"*")],-1)),D(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>o(r).contact_phone=l),type:"tel",placeholder:"+63 9XX XXX XXXX",class:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base border border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all hover:border-blue-400"},null,512),[[R,o(r).contact_phone]]),t[25]||(t[25]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Auto-filled from your profile (you can edit if needed) ",-1))]),M.value&&x.value&&o(r).preferred_date&&o(r).preferred_time?(i(),d("div",kt,[e("h4",ht," ðŸ“‹ "+a(u.mode==="reschedule"?"Updated ":"")+"Appointment Summary ",1),e("div",wt,[e("p",null,[t[26]||(t[26]=e("span",{class:"font-semibold"},"Pet:",-1)),m(" "+a(M.value.name)+" ("+a(M.value.type)+", "+a(M.value.breed)+")",1)]),e("p",null,[t[27]||(t[27]=e("span",{class:"font-semibold"},"Clinic:",-1)),m(" "+a(x.value.name),1)]),H.value.length>0?(i(),d("div",_t,[t[29]||(t[29]=e("p",{class:"font-semibold mb-1"},"Services:",-1)),e("ul",St,[(i(!0),d(A,null,L(H.value,l=>(i(),d("li",{key:l.id,class:"flex items-center gap-2"},[t[28]||(t[28]=e("span",{class:"w-1.5 h-1.5 rounded-full bg-blue-600 dark:bg-blue-400"},null,-1)),m(" "+a(l.name),1),l.base_price?(i(),d("span",Mt," - â‚±"+a(l.base_price.toLocaleString()),1)):c("",!0)]))),128))])])):c("",!0),e("p",null,[e("span",Ct,a(u.mode==="reschedule"?"New ":"")+"Date & Time:",1),m(" "+a(U(o(r).preferred_date))+" at "+a(o(r).preferred_time),1)])])])):c("",!0),e("div",Dt,[e("button",{type:"submit",disabled:o(r).processing,class:S(["flex-1 py-3 sm:py-4 px-4 sm:px-6 text-sm sm:text-base rounded-xl font-semibold transition-all transform shadow-lg flex items-center justify-center gap-2",o(r).processing?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 hover:scale-[1.02] hover:shadow-xl"])},[o(r).processing?(i(),d("svg",Pt,[...t[30]||(t[30]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),we(o(Fe),{key:1,class:"h-5 w-5"})),m(" "+a(o(r).processing?oe.value:re.value),1)],10,At),e("button",{type:"button",onClick:Y,disabled:o(r).processing,class:"flex-1 border-2 border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 py-3 sm:py-4 px-4 sm:px-6 text-sm sm:text-base rounded-xl hover:bg-gray-100 dark:hover:bg-gray-900 font-semibold transition-all disabled:opacity-50 flex items-center justify-center gap-2"},[v(o(Le),{class:"h-5 w-5"}),t[31]||(t[31]=m(" Cancel ",-1))],8,Tt)])],32)]),e("div",Bt,[e("div",Et,[t[38]||(t[38]=e("div",{class:"p-2 sm:p-3 bg-blue-100 dark:bg-gray-800 rounded-xl flex-shrink-0"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Vt,[t[37]||(t[37]=e("h3",{class:"text-base sm:text-lg font-bold text-blue-900 dark:text-blue-100 mb-2 sm:mb-3"}," ðŸ“‹ Important Information ",-1)),e("div",Nt,[e("div",Ut,[t[33]||(t[33]=e("span",{class:"text-blue-600 dark:text-blue-400 mt-0.5"},"â€¢",-1)),e("p",null,[t[32]||(t[32]=e("strong",null,"Confirmation:",-1)),m(" Your "+a(u.mode==="reschedule"?"rescheduled ":"")+"appointment will be reviewed and confirmed by the clinic. ",1)])]),t[34]||(t[34]=e("div",{class:"flex items-start gap-2"},[e("span",{class:"text-blue-600 dark:text-blue-400 mt-0.5"},"â€¢"),e("p",null,[e("strong",null,"Arrival Time:"),m(" Please arrive 10-15 minutes before your scheduled time. ")])],-1)),t[35]||(t[35]=e("div",{class:"flex items-start gap-2"},[e("span",{class:"text-blue-600 dark:text-blue-400 mt-0.5"},"â€¢"),e("p",null,[e("strong",null,"Cancellation Policy:"),m(" Please cancel at least 24 hours in advance to avoid fees. ")])],-1)),t[36]||(t[36]=e("div",{class:"flex items-start gap-2"},[e("span",{class:"text-blue-600 dark:text-blue-400 mt-0.5"},"â€¢"),e("p",null,[e("strong",null,"Documents:"),m(" Bring your pet's medical records and vaccination certificates. ")])],-1))])])])])]),v(De,{show:V.value,title:k.value.title,message:k.value.message,"validation-errors":k.value.validationErrors,"technical-details":k.value.technicalDetails,suggestions:k.value.suggestions,"on-retry":ue,onClose:me},null,8,["show","title","message","validation-errors","technical-details","suggestions"]),P.value&&u.mode==="create"?(i(),d("div",Ft,[e("div",Lt,[e("div",Rt,[t[48]||(t[48]=e("div",{class:"mx-auto flex items-center justify-center h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-green-100 dark:bg-green-900/20 mb-3 sm:mb-4"},[e("span",{class:"text-green-600 dark:text-green-400 text-xl sm:text-2xl"},"âœ…")],-1)),t[49]||(t[49]=e("h3",{class:"text-base sm:text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"}," Appointment Booked Successfully! ",-1)),f.value?(i(),d("div",Xt,[t[46]||(t[46]=e("p",{class:"text-green-600 dark:text-green-400 font-medium"}," Your appointment has been submitted and the clinic will be notified immediately. ",-1)),e("div",jt,[t[45]||(t[45]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-2"},"Booking Details:",-1)),e("div",It,[e("p",null,[t[39]||(t[39]=e("strong",null,"Confirmation #:",-1)),m(" "+a(f.value.confirmation_number),1)]),e("p",null,[t[40]||(t[40]=e("strong",null,"Pet:",-1)),m(" "+a(f.value.pet_name),1)]),e("p",null,[t[41]||(t[41]=e("strong",null,"Clinic:",-1)),m(" "+a(f.value.clinic_name),1)]),e("p",null,[t[42]||(t[42]=e("strong",null,"Date:",-1)),m(" "+a(U(f.value.appointment_date)),1)]),e("p",null,[t[43]||(t[43]=e("strong",null,"Time:",-1)),m(" "+a(f.value.appointment_time),1)]),t[44]||(t[44]=e("p",null,[e("strong",null,"Status:"),m(),e("span",{class:"text-yellow-600 dark:text-yellow-400"},"Pending Confirmation")],-1))])]),t[47]||(t[47]=e("div",{class:"bg-blue-50 dark:bg-gray-900 rounded-lg p-3 text-left border dark:border-gray-800"},[e("h5",{class:"font-medium text-blue-900 dark:text-blue-100 text-sm mb-1"},"What happens next?"),e("ul",{class:"text-xs text-blue-800 dark:text-blue-300 space-y-1"},[e("li",null,"â€¢ The clinic will review your booking request"),e("li",null,"â€¢ You'll receive a confirmation notification"),e("li",null,"â€¢ Check your email for appointment details"),e("li",null,'â€¢ You can view or cancel in "My Appointments"')])],-1))])):c("",!0),e("div",{class:"flex flex-col sm:flex-row gap-2 sm:gap-3"},[e("button",{onClick:pe,class:"flex-1 bg-blue-600 text-white py-2 px-3 sm:px-4 rounded-md hover:bg-blue-700 transition-colors text-xs sm:text-sm font-medium"}," View My Appointments "),e("button",{onClick:be,class:"flex-1 border border-gray-300 text-gray-700 py-2 px-3 sm:px-4 rounded-md hover:bg-gray-50 transition-colors text-xs sm:text-sm font-medium dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-900"}," Book Another ")]),e("button",{onClick:ce,class:"mt-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-sm"}," Close ")])])])):c("",!0)]),_:1},8,["breadcrumbs"])],64))}});export{ss as default};
