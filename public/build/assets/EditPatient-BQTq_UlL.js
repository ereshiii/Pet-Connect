import{d as O,c as F,r as V,b as a,e as u,i as C,u as r,w as I,h as t,t as m,p as $,q as d,g as p,n as b,s as i,F as g,k as y,v as w,ao as z,j as A}from"./vue-vendor-DmxhFomr.js";import{k as j,n as G,c as L}from"./admin-j62zy8g0.js";import{a as T,h as K,r as k}from"./inertia-vendor-BXJnWAhq.js";import"./vendor-BqPpK9Aj.js";import"./leaflet-vendor-Do2TvcFZ.js";import"./lucide-vendor-BUHJwLVO.js";import"./ui-components-Dj0vw2vK.js";import"./ui-vendor-B7N-G3Ug.js";import"./utility-vendor-CjxovF-h.js";const R={class:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-6"},H={class:"flex items-center justify-between"},W={class:"flex items-center gap-4"},Z={class:"text-muted-foreground"},J={class:"rounded-lg border bg-card p-6"},Q={class:"grid gap-4 md:grid-cols-2"},X={key:0,class:"text-red-500 text-sm mt-1"},Y=["value"],h={key:0,class:"text-red-500 text-sm mt-1"},ee={key:0,class:"text-red-500 text-sm mt-1"},te=["value"],oe={key:0,class:"text-red-500 text-sm mt-1"},ne={key:0,class:"text-red-500 text-sm mt-1"},re={class:"rounded-lg border bg-card p-6"},le={class:"grid gap-4 md:grid-cols-2"},se=["value"],de={class:"md:col-span-2"},ie={class:"space-y-2"},ae={class:"flex gap-2"},ue={key:0,class:"flex flex-wrap gap-2"},me=["onClick"],pe={class:"md:col-span-2"},be={class:"md:col-span-2"},ce={class:"rounded-lg border bg-card p-6"},fe={class:"grid gap-4 md:grid-cols-2"},ge={key:0,class:"text-red-500 text-sm mt-1"},xe={key:0,class:"text-red-500 text-sm mt-1"},ve={key:0,class:"text-red-500 text-sm mt-1"},ye={class:"md:col-span-2"},we={class:"flex gap-4 justify-end"},ke=["disabled"],_e=["disabled"],Ue={key:0},Ve={key:1},Fe=O({__name:"EditPatient",props:{patient:{}},setup(x){const P=[{title:"Clinic Dashboard",href:j().url},{title:"Patients",href:G().url},{title:"Edit Patient",href:"#"}],l=x,n=T({name:l.patient.name,species:l.patient.species,breed:l.patient.breed,color:l.patient.color||"",gender:l.patient.gender,birth_date:l.patient.birth_date,weight:l.patient.weight||"",microchip_id:l.patient.microchip_id||"",notes:l.patient.notes||"",allergies:l.patient.allergies||"",vaccination_status:l.patient.vaccination_status,owner_name:l.patient.owner_name,owner_email:l.patient.owner_email||"",owner_phone:l.patient.owner_phone,owner_address:l.patient.owner_address||"",owner_city:l.patient.owner_city||"",owner_state:l.patient.owner_state||"",owner_zip_code:l.patient.owner_zip_code||"",emergency_contact_name:l.patient.emergency_contact_name||"",emergency_contact_phone:l.patient.emergency_contact_phone||""}),s=F(()=>n.errors),c=V(l.patient.medical_conditions||[]),f=V(""),_=()=>{f.value.trim()&&(c.value.push(f.value.trim()),f.value="")},S=v=>{c.value.splice(v,1)},D=()=>{const v={...n.data(),medical_conditions:c.value};n.patch(`/clinic/patient/${l.patient.id}`,{data:v,onSuccess:()=>{k.visit(`/clinic/patient/${l.patient.id}`)},onError:e=>{console.error("Update failed:",e)}})},E=()=>{k.visit(`/clinic/patient/${l.patient.id}`)},M=()=>{k.visit("/clinic/patients")},N=["Dog","Cat","Bird","Rabbit","Hamster","Guinea Pig","Ferret","Reptile","Fish","Other"],q=["Male","Female","Unknown"],B=[{value:"up-to-date",label:"Up to Date"},{value:"overdue",label:"Overdue"},{value:"unknown",label:"Unknown"}];return(v,e)=>(u(),a(g,null,[C(r(K),{title:`Edit ${x.patient.name} - Patient`},null,8,["title"]),C(L,{breadcrumbs:P},{default:I(()=>[t("div",R,[t("div",H,[t("div",W,[t("button",{onClick:M,class:"btn btn-outline btn-sm"}," ← Back to Patients "),t("div",null,[e[21]||(e[21]=t("h1",{class:"text-2xl font-semibold text-foreground"},"Edit Patient",-1)),t("p",Z,m(x.patient.name)+" - ID: "+m(x.patient.id),1)])])]),t("form",{onSubmit:$(D,["prevent"]),class:"space-y-6"},[t("div",J,[e[32]||(e[32]=t("h2",{class:"text-lg font-semibold mb-4"},"Patient Information",-1)),t("div",Q,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Patient Name * ",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r(n).name=o),type:"text",required:"",class:b(["w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":s.value.name}])},null,2),[[i,r(n).name]]),s.value.name?(u(),a("p",X,m(s.value.name),1)):p("",!0)]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Species * ",-1)),d(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>r(n).species=o),required:"",class:b(["w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":s.value.species}])},[e[23]||(e[23]=t("option",{value:""},"Select Species",-1)),(u(),a(g,null,y(N,o=>t("option",{key:o,value:o},m(o),9,Y)),64))],2),[[w,r(n).species]]),s.value.species?(u(),a("p",h,m(s.value.species),1)):p("",!0)]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Breed * ",-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r(n).breed=o),type:"text",required:"",class:b(["w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":s.value.breed}])},null,2),[[i,r(n).breed]]),s.value.breed?(u(),a("p",ee,m(s.value.breed),1)):p("",!0)]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Color ",-1)),d(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>r(n).color=o),type:"text",class:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[i,r(n).color]])]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Gender * ",-1)),d(t("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>r(n).gender=o),required:"",class:b(["w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":s.value.gender}])},[e[27]||(e[27]=t("option",{value:""},"Select Gender",-1)),(u(),a(g,null,y(q,o=>t("option",{key:o,value:o},m(o),9,te)),64))],2),[[w,r(n).gender]]),s.value.gender?(u(),a("p",oe,m(s.value.gender),1)):p("",!0)]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Birth Date * ",-1)),d(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>r(n).birth_date=o),type:"date",required:"",class:b(["w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":s.value.birth_date}])},null,2),[[i,r(n).birth_date]]),s.value.birth_date?(u(),a("p",ne,m(s.value.birth_date),1)):p("",!0)]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Weight (kg) ",-1)),d(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>r(n).weight=o),type:"number",step:"0.1",min:"0",class:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[i,r(n).weight]])]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Microchip ID ",-1)),d(t("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>r(n).microchip_id=o),type:"text",class:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[i,r(n).microchip_id]])])])]),t("div",re,[e[37]||(e[37]=t("h2",{class:"text-lg font-semibold mb-4"},"Medical Information",-1)),t("div",le,[t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Vaccination Status ",-1)),d(t("select",{"onUpdate:modelValue":e[8]||(e[8]=o=>r(n).vaccination_status=o),class:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},[(u(),a(g,null,y(B,o=>t("option",{key:o.value,value:o.value},m(o.label),9,se)),64))],512),[[w,r(n).vaccination_status]])]),t("div",de,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Medical Conditions ",-1)),t("div",ie,[t("div",ae,[d(t("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>f.value=o),type:"text",placeholder:"Add medical condition",class:"flex-1 px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",onKeyup:z(_,["enter"])},null,544),[[i,f.value]]),t("button",{type:"button",onClick:_,class:"btn btn-outline btn-sm"}," Add ")]),c.value.length>0?(u(),a("div",ue,[(u(!0),a(g,null,y(c.value,(o,U)=>(u(),a("span",{key:U,class:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm flex items-center gap-2"},[A(m(o)+" ",1),t("button",{type:"button",onClick:Ce=>S(U),class:"text-orange-600 hover:text-orange-800"}," × ",8,me)]))),128))])):p("",!0)])]),t("div",pe,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Allergies ",-1)),d(t("textarea",{"onUpdate:modelValue":e[10]||(e[10]=o=>r(n).allergies=o),rows:"3",class:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"List any known allergies..."},null,512),[[i,r(n).allergies]])]),t("div",be,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Medical Notes ",-1)),d(t("textarea",{"onUpdate:modelValue":e[11]||(e[11]=o=>r(n).notes=o),rows:"4",class:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Additional medical notes and observations..."},null,512),[[i,r(n).notes]])])])]),t("div",ce,[e[47]||(e[47]=t("h2",{class:"text-lg font-semibold mb-4"},"Owner Information",-1)),t("div",fe,[t("div",null,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Owner Name * ",-1)),d(t("input",{"onUpdate:modelValue":e[12]||(e[12]=o=>r(n).owner_name=o),type:"text",required:"",class:b(["w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":s.value.owner_name}])},null,2),[[i,r(n).owner_name]]),s.value.owner_name?(u(),a("p",ge,m(s.value.owner_name),1)):p("",!0)]),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Email ",-1)),d(t("input",{"onUpdate:modelValue":e[13]||(e[13]=o=>r(n).owner_email=o),type:"email",class:b(["w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":s.value.owner_email}])},null,2),[[i,r(n).owner_email]]),s.value.owner_email?(u(),a("p",xe,m(s.value.owner_email),1)):p("",!0)]),t("div",null,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Phone Number * ",-1)),d(t("input",{"onUpdate:modelValue":e[14]||(e[14]=o=>r(n).owner_phone=o),type:"tel",required:"",class:b(["w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":s.value.owner_phone}])},null,2),[[i,r(n).owner_phone]]),s.value.owner_phone?(u(),a("p",ve,m(s.value.owner_phone),1)):p("",!0)]),t("div",null,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Emergency Contact Name ",-1)),d(t("input",{"onUpdate:modelValue":e[15]||(e[15]=o=>r(n).emergency_contact_name=o),type:"text",class:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[i,r(n).emergency_contact_name]])]),t("div",null,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Emergency Contact Phone ",-1)),d(t("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>r(n).emergency_contact_phone=o),type:"tel",class:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[i,r(n).emergency_contact_phone]])]),t("div",ye,[e[43]||(e[43]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Address ",-1)),d(t("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>r(n).owner_address=o),type:"text",class:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Street address"},null,512),[[i,r(n).owner_address]])]),t("div",null,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," City ",-1)),d(t("input",{"onUpdate:modelValue":e[18]||(e[18]=o=>r(n).owner_city=o),type:"text",class:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[i,r(n).owner_city]])]),t("div",null,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," State ",-1)),d(t("input",{"onUpdate:modelValue":e[19]||(e[19]=o=>r(n).owner_state=o),type:"text",class:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[i,r(n).owner_state]])]),t("div",null,[e[46]||(e[46]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," ZIP Code ",-1)),d(t("input",{"onUpdate:modelValue":e[20]||(e[20]=o=>r(n).owner_zip_code=o),type:"text",class:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[i,r(n).owner_zip_code]])])])]),t("div",we,[t("button",{type:"button",onClick:E,class:"btn btn-outline",disabled:r(n).processing}," Cancel ",8,ke),t("button",{type:"submit",class:"btn btn-primary",disabled:r(n).processing},[r(n).processing?(u(),a("span",Ue,"Updating...")):(u(),a("span",Ve,"Update Patient"))],8,_e)])],32)])]),_:1})],64))}});export{Fe as default};
