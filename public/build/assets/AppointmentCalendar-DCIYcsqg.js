import{d as Se,r as i,c as h,o as Me,M as Ue,b as l,e as r,i as p,u as g,w as $e,h as e,g as w,j as Fe,t as a,n as u,F as _,k,a as Le,p as K}from"./vue-vendor-DmxhFomr.js";import{H as Te,c as Ee,D as je,C as Pe}from"./admin-j62zy8g0.js";import{h as Ie,r as B}from"./inertia-vendor-BXJnWAhq.js";import{C as I,aE as Re,x as Q,aF as We,aG as Be,ai as Oe,a as Ve,U as X}from"./lucide-vendor-BUHJwLVO.js";import{_ as Ye}from"./auth-a3bL7d2J.js";import"./vendor-BqPpK9Aj.js";import"./leaflet-vendor-Do2TvcFZ.js";import"./ui-components-Dj0vw2vK.js";import"./ui-vendor-B7N-G3Ug.js";import"./utility-vendor-CjxovF-h.js";const He={class:"flex h-full flex-1 flex-col gap-3 sm:gap-4 overflow-x-auto rounded-xl p-3 sm:p-4"},ze={class:"rounded-lg border bg-card p-3 sm:p-4 md:p-6"},Ge={class:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 sm:mb-6"},qe={class:"text-lg sm:text-xl md:text-2xl font-semibold mb-2 flex items-center gap-2"},Je={class:"text-xs sm:text-sm text-muted-foreground"},Ke={class:"flex flex-col gap-2 sm:gap-3 mt-3 sm:mt-4 md:mt-0"},Qe={class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3"},Xe={class:"flex items-center gap-0.5 sm:gap-1 bg-muted rounded-md p-0.5 sm:p-1"},Ze={class:"relative filter-dropdown w-full sm:w-auto"},et={class:"flex items-center gap-2 min-w-0"},tt={class:"truncate"},st={key:0,class:"absolute left-0 right-0 sm:right-auto sm:left-auto sm:min-w-[200px] mt-2 bg-card rounded-md shadow-lg border z-50"},ot={class:"py-1"},nt=["onClick"],at={class:"flex-1 min-w-0 truncate"},rt={key:2,class:"bg-muted text-muted-foreground text-xs px-2 py-0.5 rounded-full flex-shrink-0"},lt={class:"rounded-lg border bg-card"},dt={key:0},it={class:"p-3 sm:p-4 md:p-6 border-b"},ct={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3"},ut={class:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3 w-full sm:w-auto"},mt={class:"flex items-center gap-0.5 sm:gap-1 bg-muted rounded-md p-0.5 sm:p-1"},xt={class:"text-sm sm:text-base md:text-lg font-semibold truncate max-w-full"},pt={key:0},gt={key:1},vt={key:2},ht={class:"flex items-center gap-1.5 sm:gap-2 w-full sm:w-auto justify-end"},ft={key:0,class:"p-2 sm:p-3 md:p-4"},bt={class:"grid grid-cols-7 gap-0.5 sm:gap-1 md:gap-2"},yt=["onClick"],wt={class:"space-y-0.5"},_t=["onClick"],kt={class:"font-medium truncate"},Dt={class:"truncate hidden sm:block"},Ct={key:0,class:"text-[8px] sm:text-[9px] text-muted-foreground pl-0.5"},At={key:1,class:"p-2 sm:p-3 md:p-4"},Nt={class:"overflow-x-auto -mx-2 sm:mx-0"},St={class:"grid grid-cols-7 gap-1 sm:gap-2 md:gap-3 min-w-[600px] px-2 sm:px-0"},Mt={class:"bg-muted p-1 sm:p-1.5 md:p-2 text-center border-b"},Ut={class:"text-[9px] sm:text-[10px] md:text-xs text-muted-foreground"},$t={class:"p-1 sm:p-1.5 md:p-2 space-y-1 sm:space-y-1.5 md:space-y-2 min-h-[150px] sm:min-h-[250px] md:min-h-[350px]"},Ft=["onClick"],Lt={class:"font-semibold truncate"},Tt={class:"truncate mt-0.5 sm:mt-1"},Et={class:"truncate text-[7px] sm:text-[8px] md:text-[9px] opacity-75 mt-0.5 hidden sm:block"},jt={key:0,class:"text-center py-3 sm:py-4 md:py-6 text-muted-foreground text-[9px] sm:text-[10px] md:text-xs"},Pt={key:2,class:"p-2 sm:p-3 md:p-4"},It={class:"max-w-4xl mx-auto"},Rt={class:"space-y-1.5 sm:space-y-2"},Wt={class:"w-14 sm:w-16 md:w-20 flex-shrink-0 pt-1 sm:pt-1.5 md:pt-2"},Bt={class:"text-[10px] sm:text-xs md:text-sm font-medium text-muted-foreground"},Ot={class:"flex-1 min-h-[50px] sm:min-h-[60px]"},Vt={class:"space-y-1.5 sm:space-y-2"},Yt=["onClick"],Ht={class:"flex items-start justify-between gap-2"},zt={class:"flex-1 min-w-0"},Gt={class:"font-semibold text-xs sm:text-sm md:text-base truncate"},qt={class:"text-[10px] sm:text-xs md:text-sm opacity-90 mt-0.5 sm:mt-1 truncate"},Jt={class:"text-[9px] sm:text-[10px] md:text-xs opacity-75 mt-0.5 sm:mt-1 truncate"},Kt={class:"text-[10px] sm:text-xs md:text-sm font-medium whitespace-nowrap flex-shrink-0"},Qt={key:1,class:"p-3 sm:p-4 md:p-6"},Xt={class:"block md:hidden space-y-3"},Zt={key:0,class:"py-8 text-center text-muted-foreground"},es=["onClick"],ts={class:"flex items-start justify-between mb-2"},ss={class:"flex-1 min-w-0"},os={class:"font-semibold text-sm truncate"},ns={class:"text-xs text-muted-foreground mt-0.5"},as={class:"flex items-center gap-4 text-xs text-muted-foreground mt-3"},rs={class:"flex items-center gap-1"},ls={class:"flex items-center gap-1"},ds={class:"hidden md:block overflow-x-auto"},is={class:"w-full"},cs={class:"border-b"},us={class:"text-left text-sm text-muted-foreground"},ms={class:"pb-3 font-medium"},xs={key:0},ps=["onClick"],gs={class:"py-4"},vs={class:"font-medium"},hs={class:"py-4"},fs={class:"text-sm"},bs={class:"py-4"},ys={class:"text-sm"},ws={class:"py-4"},_s={class:"text-sm"},ks={class:"py-4"},Ds={class:"flex items-center justify-between mb-4"},Cs={class:"text-lg font-semibold"},As={class:"space-y-3"},Ns={class:"flex items-center gap-2 text-sm"},Ss={key:0,class:"flex items-center gap-2 text-sm"},Ms={key:1,class:"flex items-center gap-2 text-sm"},Us={key:2,class:"text-sm text-gray-600 dark:text-gray-400"},$s={class:"flex gap-2 mt-6"},Fs=Se({__name:"AppointmentCalendar",props:{appointments:{},userRole:{},filters:{},currentWeek:{},clinics:{}},setup(Z){const D=Z,ee=[{title:"Schedule",href:Te().url},{title:"Calendar View",href:"#"}];i();const te=i(null),c=i(null),se=i(null),O=i(!1),oe=i(!1),V=i(!1),U=i("calendar");i("month");const m=i("month"),f=i(new Date),A=i(new Date),N=i(new Date),M=i(!1),E=i(D.filters?.status==="scheduled"?"scheduled":D.filters?.status==="pending"?"pending":D.filters?.status==="in_progress"?"in_progress":"all"),Y=i(!1),$=i(null),ne=i(null),R=i(!1);i(!1);const ae=o=>{switch(o?.toLowerCase()){case"scheduled":return"bg-green-500";case"pending":return"bg-yellow-500";case"in_progress":return"bg-indigo-500";case"completed":return"bg-purple-500";case"cancelled":return"bg-red-500";case"no_show":return"bg-gray-500";default:return"bg-blue-500"}},H=o=>{switch(o?.toLowerCase()){case"scheduled":return"Scheduled";case"pending":return"Pending";case"in_progress":return"In Progress";case"completed":return"Completed";case"cancelled":return"Cancelled";case"no_show":return"No Show";default:return"Unknown"}},W=h(()=>{const o=D.appointments;let s=[];if(Array.isArray(o))s=o;else if(o&&Array.isArray(o.data))s=o.data;else return console.warn("Appointments prop is not an array or paginator with data:",D.appointments),console.log("Raw appointments prop:",o),console.log("Type of raw:",typeof o),[];console.log("Processing appointments for calendar:",s.length),console.log("First appointment sample:",s[0]);const t=s.filter(n=>["scheduled","pending","in_progress"].includes(n.status));return console.log("Filtered appointments count:",t.length),console.log("Filtered statuses:",t.map(n=>n.status)),t.map(n=>{if(!n)return console.warn("Invalid appointment object:",n),null;const d=n.pet||{},b=n.clinic||{},v=n.owner||{},T=n.veterinarian||{},y=n.service||{},x=n.formatted_date||"",C=n.formatted_time||"",P={id:n.id.toString(),title:`${d.name||"Unknown Pet"} - ${y.name||n.type||"Appointment"}`,date:x,time:C,type:"appointment",status:n.status||"scheduled",description:n.reason||"",color:ae(n.status),priority:n.priority||"medium",metadata:{id:n.id,status:n.status||"scheduled",statusDisplay:n.status_display||H(n.status),priority:n.priority||"normal",description:n.reason||"",petName:d.name||"Unknown Pet",petType:d.type||"Unknown",petBreed:d.breed||"Unknown",clinicName:b.name||"Unknown Clinic",clinicAddress:b.address||"",ownerName:v.name||"Unknown Client",ownerPhone:v.phone||"",ownerEmail:v.email||"",veterinarianName:T.name||"Unassigned",serviceName:y.name||n.type||"General Consultation",serviceDescription:y.description||"",duration:n.duration_minutes||30,fees:n.fees||0,notes:n.notes||"",scheduledAt:n.scheduled_at,createdAt:n.created_at,updatedAt:n.updated_at}};return console.log("Created calendar event:",P),P}).filter(Boolean)}),S=h(()=>{const o=W.value.filter(s=>["scheduled","pending","in_progress"].includes(s.status));switch(E.value){case"scheduled":return o.filter(s=>s.status==="scheduled");case"pending":return o.filter(s=>s.status==="pending");case"in_progress":return o.filter(s=>s.status==="in_progress");default:return o}}),re=o=>{te.value=o,W.value.filter(t=>t.date===o).length===0&&(V.value=!0)},F=o=>{B.visit(je(o).url)},z=()=>{O.value=!1,oe.value=!1,V.value=!1,c.value=null,se.value=null},L=h(()=>D.userRole==="clinic");h(()=>D.userRole==="user"),h(()=>D.userRole==="admin");const G=o=>{L.value?B.visit(Pe(o.id).url):F(o.id)},le=()=>{M.value=!M.value},de=o=>{E.value=o,M.value=!1},ie=o=>{switch(o){case"all":return"All Appointments";case"scheduled":return"Scheduled";case"pending":return"Pending";case"in_progress":return"In Progress";default:return"All Appointments"}},q=o=>{const s=o.target,t=document.querySelector(".filter-dropdown");t&&!t.contains(s)&&(M.value=!1)},ce=()=>{$.value||(Y.value=!0,$.value=setInterval(()=>{R.value||me()},3e4))},ue=()=>{$.value&&(clearInterval($.value),$.value=null),Y.value=!1},me=()=>{R.value=!0,ne.value=new Date,B.reload({preserveScroll:!0,onFinish:()=>{R.value=!1}})};Me(()=>{ce(),document.addEventListener("click",q)}),Ue(()=>{ue(),document.removeEventListener("click",q)});const xe=h(()=>f.value.toLocaleDateString("en-US",{month:"long",year:"numeric"})),pe=h(()=>{const o=new Date(A.value);o.setDate(o.getDate()-o.getDay());const s=new Date(o);return s.setDate(s.getDate()+6),`${o.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}),ge=h(()=>N.value.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})),ve=h(()=>{const o=f.value.getFullYear(),s=f.value.getMonth(),t=new Date(o,s,1),d=new Date(o,s+1,0).getDate(),b=t.getDay(),v=[],T=new Date(o,s,0).getDate();for(let x=b-1;x>=0;x--){const C=new Date(o,s-1,T-x);v.push({date:C,isCurrentMonth:!1,appointments:[]})}for(let x=1;x<=d;x++){const C=new Date(o,s,x),P=C.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Ae=S.value.filter(Ne=>Ne.date===P);v.push({date:C,isCurrentMonth:!0,appointments:Ae})}const y=42-v.length;for(let x=1;x<=y;x++){const C=new Date(o,s+1,x);v.push({date:C,isCurrentMonth:!1,appointments:[]})}return v}),he=h(()=>{const o=new Date(A.value);o.setDate(o.getDate()-o.getDay());const s=[];for(let t=0;t<7;t++){const n=new Date(o);n.setDate(n.getDate()+t);const d=n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),b=S.value.filter(v=>v.date===d);s.push({date:n,appointments:b})}return s}),fe=h(()=>{const o=[],s=N.value.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),t=S.value.filter(n=>n.date===s);for(let n=0;n<24;n++){const d=n===0?12:n>12?n-12:n,b=n<12?"AM":"PM",v=`${d}:00 ${b}`,T=t.filter(y=>!y.time||y.time==="N/A"||y.time===""?!1:parseInt(y.time.split(":")[0])===n);o.push({hour:n,displayTime:v,appointments:T})}return o}),be=()=>{f.value=new Date(f.value.getFullYear(),f.value.getMonth()-1,1)},ye=()=>{f.value=new Date(f.value.getFullYear(),f.value.getMonth()+1,1)},we=()=>{const o=new Date(A.value);o.setDate(o.getDate()-7),A.value=o},_e=()=>{const o=new Date(A.value);o.setDate(o.getDate()+7),A.value=o},ke=()=>{const o=new Date(N.value);o.setDate(o.getDate()-1),N.value=o},De=()=>{const o=new Date(N.value);o.setDate(o.getDate()+1),N.value=o},Ce=()=>{f.value=new Date,A.value=new Date,N.value=new Date},j=o=>{const s=new Date;return o.getDate()===s.getDate()&&o.getMonth()===s.getMonth()&&o.getFullYear()===s.getFullYear()},J=o=>{const s=W.value.filter(t=>["scheduled","pending","in_progress"].includes(t.status));switch(o){case"all":return s.length;case"scheduled":return s.filter(t=>t.status==="scheduled").length;case"pending":return s.filter(t=>t.status==="pending").length;case"in_progress":return s.filter(t=>t.status==="in_progress").length;default:return 0}};return(o,s)=>(r(),l(_,null,[p(g(Ie),{title:"Appointments"}),p(Ee,{breadcrumbs:ee},{default:$e(()=>[e("div",He,[e("div",ze,[e("div",Ge,[e("div",null,[e("h1",qe,[p(g(I),{class:"h-5 w-5 sm:h-6 sm:w-6 text-primary"}),s[9]||(s[9]=Fe(" Appointments ",-1))]),e("p",Je,a(L.value?"Manage and view your clinic appointments":"Manage and view your pet appointments"),1)]),e("div",Ke,[e("div",Qe,[e("div",Xe,[e("button",{onClick:s[0]||(s[0]=t=>U.value="calendar"),class:u(["flex-1 sm:flex-none px-3 py-1.5 text-xs sm:text-sm rounded transition-colors flex items-center justify-center gap-2",U.value==="calendar"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"])},[p(g(I),{class:"h-4 w-4"}),s[10]||(s[10]=e("span",null,"Calendar",-1))],2),e("button",{onClick:s[1]||(s[1]=t=>U.value="list"),class:u(["flex-1 sm:flex-none px-3 py-1.5 text-xs sm:text-sm rounded transition-colors flex items-center justify-center gap-2",U.value==="list"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"])},[p(g(Re),{class:"h-4 w-4"}),s[11]||(s[11]=e("span",null,"List",-1))],2)]),e("div",Ze,[e("button",{onClick:le,class:"w-full px-3 sm:px-4 py-2 bg-muted hover:bg-muted/80 rounded-md text-xs sm:text-sm font-medium transition-colors flex items-center gap-2 justify-between"},[e("div",et,[p(g(Q),{class:"h-4 w-4 flex-shrink-0"}),e("span",tt,a(ie(E.value)),1)]),p(g(We),{class:u(["h-4 w-4 transition-transform flex-shrink-0",M.value?"rotate-180":""])},null,8,["class"])]),M.value?(r(),l("div",st,[e("div",ot,[(r(),l(_,null,k([{key:"all",label:"All Appointments",color:"bg-gray-600"},{key:"scheduled",label:"Scheduled",color:"bg-green-600"},{key:"pending",label:"Pending",color:"bg-yellow-600"},{key:"in_progress",label:"In Progress",color:"bg-purple-600"}],t=>e("button",{key:t.key,onClick:n=>de(t.key),class:u(["w-full text-left px-3 sm:px-4 py-2 text-xs sm:text-sm hover:bg-muted flex items-center gap-2 sm:gap-3",E.value===t.key?"bg-primary/10 text-primary":"text-foreground"])},[t.key==="all"?(r(),Le(g(Q),{key:0,class:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"})):(r(),l("span",{key:1,class:u(["w-2 h-2 rounded-full inline-block flex-shrink-0",t.key==="scheduled"?"bg-green-400":t.key==="pending"?"bg-yellow-400":t.key==="in_progress"?"bg-purple-400":"bg-gray-400"])},null,2)),e("span",at,a(t.label),1),J(t.key)>0?(r(),l("span",rt,a(J(t.key)),1)):w("",!0)],10,nt)),64))])])):w("",!0)])])])])]),e("div",lt,[U.value==="calendar"?(r(),l("div",dt,[e("div",it,[e("div",ct,[e("div",ut,[e("div",mt,[e("button",{onClick:s[2]||(s[2]=t=>m.value="month"),class:u(["px-2 sm:px-3 py-1 text-[10px] sm:text-xs rounded transition-colors whitespace-nowrap",m.value==="month"?"bg-background shadow-sm font-medium":"text-muted-foreground"])}," Month ",2),e("button",{onClick:s[3]||(s[3]=t=>m.value="week"),class:u(["px-2 sm:px-3 py-1 text-[10px] sm:text-xs rounded transition-colors whitespace-nowrap",m.value==="week"?"bg-background shadow-sm font-medium":"text-muted-foreground"])}," Week ",2),e("button",{onClick:s[4]||(s[4]=t=>m.value="day"),class:u(["px-2 sm:px-3 py-1 text-[10px] sm:text-xs rounded transition-colors whitespace-nowrap",m.value==="day"?"bg-background shadow-sm font-medium":"text-muted-foreground"])}," Day ",2)]),e("h2",xt,[m.value==="month"?(r(),l("span",pt,a(xe.value),1)):m.value==="week"?(r(),l("span",gt,a(pe.value),1)):(r(),l("span",vt,a(ge.value),1))])]),e("div",ht,[e("button",{onClick:Ce,class:"px-2 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm border rounded-md hover:bg-muted transition-colors whitespace-nowrap"}," Today "),e("button",{onClick:s[5]||(s[5]=t=>m.value==="month"?be():m.value==="week"?we():ke()),class:"p-1 sm:p-2 border rounded-md hover:bg-muted transition-colors"},[p(g(Be),{class:"h-3 w-3 sm:h-4 sm:w-4"})]),e("button",{onClick:s[6]||(s[6]=t=>m.value==="month"?ye():m.value==="week"?_e():De()),class:"p-1 sm:p-2 border rounded-md hover:bg-muted transition-colors"},[p(g(Oe),{class:"h-3 w-3 sm:h-4 sm:w-4"})])])])]),m.value==="month"?(r(),l("div",ft,[s[12]||(s[12]=e("div",{class:"grid grid-cols-7 gap-0.5 sm:gap-1 md:gap-2 mb-1 sm:mb-2"},[e("div",{class:"text-center text-[9px] sm:text-[10px] md:text-xs font-medium text-muted-foreground p-0.5 sm:p-1 md:p-2"},"Sun"),e("div",{class:"text-center text-[9px] sm:text-[10px] md:text-xs font-medium text-muted-foreground p-0.5 sm:p-1 md:p-2"},"Mon"),e("div",{class:"text-center text-[9px] sm:text-[10px] md:text-xs font-medium text-muted-foreground p-0.5 sm:p-1 md:p-2"},"Tue"),e("div",{class:"text-center text-[9px] sm:text-[10px] md:text-xs font-medium text-muted-foreground p-0.5 sm:p-1 md:p-2"},"Wed"),e("div",{class:"text-center text-[9px] sm:text-[10px] md:text-xs font-medium text-muted-foreground p-0.5 sm:p-1 md:p-2"},"Thu"),e("div",{class:"text-center text-[9px] sm:text-[10px] md:text-xs font-medium text-muted-foreground p-0.5 sm:p-1 md:p-2"},"Fri"),e("div",{class:"text-center text-[9px] sm:text-[10px] md:text-xs font-medium text-muted-foreground p-0.5 sm:p-1 md:p-2"},"Sat")],-1)),e("div",bt,[(r(!0),l(_,null,k(ve.value,(t,n)=>(r(),l("div",{key:n,onClick:d=>re(t.date.toISOString().split("T")[0]),class:u(["min-h-[60px] sm:min-h-[80px] md:min-h-[100px] lg:min-h-[120px] border rounded p-0.5 sm:p-1 md:p-1.5 lg:p-2 transition-colors cursor-pointer overflow-hidden",{"bg-muted/50":!t.isCurrentMonth,"bg-card":t.isCurrentMonth,"border-primary border-2":j(t.date),"hover:bg-muted/30":t.isCurrentMonth}])},[e("div",{class:u(["text-[9px] sm:text-[10px] md:text-xs font-medium mb-0.5",{"text-muted-foreground/50":!t.isCurrentMonth,"text-primary font-bold":j(t.date)}])},a(t.date.getDate()),3),e("div",wt,[(r(!0),l(_,null,k(t.appointments.slice(0,2),d=>(r(),l("div",{key:d.id,onClick:K(b=>F(d.id),["stop"]),class:u(["text-[8px] sm:text-[9px] md:text-[10px] p-0.5 sm:p-1 rounded cursor-pointer hover:opacity-80 transition-opacity truncate",[d.status==="scheduled"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":d.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"]])},[e("div",kt,a(d.time&&d.time!=="N/A"?d.time:""),1),e("div",Dt,a(d.metadata?.petName||d.title),1)],10,_t))),128)),t.appointments.length>2?(r(),l("div",Ct," +"+a(t.appointments.length-2)+" more ",1)):w("",!0)])],10,yt))),128))])])):m.value==="week"?(r(),l("div",At,[e("div",Nt,[e("div",St,[(r(!0),l(_,null,k(he.value,(t,n)=>(r(),l("div",{key:n,class:u(["border rounded-lg overflow-hidden",{"border-primary border-2":j(t.date)}])},[e("div",Mt,[e("div",Ut,a(t.date.toLocaleDateString("en-US",{weekday:"short"})),1),e("div",{class:u(["text-xs sm:text-sm md:text-base font-semibold mt-0.5",{"text-primary":j(t.date)}])},a(t.date.getDate()),3)]),e("div",$t,[(r(!0),l(_,null,k(t.appointments,d=>(r(),l("div",{key:d.id,onClick:b=>F(d.id),class:u(["text-[8px] sm:text-[9px] md:text-[10px] p-1 sm:p-1.5 md:p-2 rounded cursor-pointer hover:opacity-80 transition-opacity border",[d.status==="scheduled"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 border-green-200":d.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400 border-yellow-200":"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 border-blue-200"]])},[e("div",Lt,a(d.time&&d.time!=="N/A"?d.time:"Time not set"),1),e("div",Tt,a(d.metadata?.petName||d.title),1),e("div",Et,a(d.metadata?.clinicName),1)],10,Ft))),128)),t.appointments.length===0?(r(),l("div",jt," No appointments ")):w("",!0)])],2))),128))])])])):(r(),l("div",Pt,[e("div",It,[e("div",Rt,[(r(!0),l(_,null,k(fe.value,t=>(r(),l("div",{key:t.hour,class:"flex gap-2 sm:gap-3 border-b pb-1.5 sm:pb-2"},[e("div",Wt,[e("div",Bt,a(t.displayTime),1)]),e("div",Ot,[e("div",Vt,[(r(!0),l(_,null,k(t.appointments,n=>(r(),l("div",{key:n.id,onClick:d=>F(n.id),class:u(["p-2 sm:p-2.5 md:p-3 rounded-lg cursor-pointer hover:shadow-md transition-all border",[n.status==="scheduled"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 border-green-200":n.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400 border-yellow-200":"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 border-blue-200"]])},[e("div",Ht,[e("div",zt,[e("div",Gt,a(n.metadata?.petName||n.title),1),e("div",qt,a(n.metadata?.clinicName),1),e("div",Jt,a(n.metadata?.serviceName),1)]),e("div",Kt,a(n.time&&n.time!=="N/A"?n.time:"Time not set"),1)])],10,Yt))),128))])])]))),128))])])]))])):(r(),l("div",Qt,[e("div",Xt,[S.value.length===0?(r(),l("div",Zt," No appointments found ")):w("",!0),(r(!0),l(_,null,k(S.value,t=>(r(),l("div",{key:t.id,onClick:n=>G(t),class:"border rounded-lg p-4 hover:bg-muted/50 transition-colors cursor-pointer active:scale-[0.98]"},[e("div",ts,[e("div",ss,[e("div",os,a(t.metadata?.petName||t.title),1),e("div",ns,a(L.value?t.metadata?.ownerName:t.metadata?.clinicName),1)]),e("span",{class:u(["px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ml-2 flex-shrink-0",t.status==="scheduled"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":t.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":t.status==="in_progress"?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400":t.status==="pending_completion"?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400":t.status==="completed"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":t.status==="cancelled"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"])},a((t.status||"pending").replace("_"," ").replace(/\b\w/g,n=>n.toUpperCase())),3)]),e("div",as,[e("div",rs,[p(g(I),{class:"h-3 w-3"}),e("span",null,a(t.date),1)]),e("div",ls,[p(g(Ve),{class:"h-3 w-3"}),e("span",null,a(t.time||"N/A"),1)])])],8,es))),128))]),e("div",ds,[e("table",is,[e("thead",cs,[e("tr",us,[s[13]||(s[13]=e("th",{class:"pb-3 font-medium"},"Pet Name",-1)),e("th",ms,a(L.value?"Owner":"Clinic"),1),s[14]||(s[14]=e("th",{class:"pb-3 font-medium"},"Date",-1)),s[15]||(s[15]=e("th",{class:"pb-3 font-medium"},"Time",-1)),s[16]||(s[16]=e("th",{class:"pb-3 font-medium"},"Status",-1))])]),e("tbody",null,[S.value.length===0?(r(),l("tr",xs,[...s[17]||(s[17]=[e("td",{colspan:"5",class:"py-8 text-center text-muted-foreground"}," No appointments found ",-1)])])):w("",!0),(r(!0),l(_,null,k(S.value,t=>(r(),l("tr",{key:t.id,onClick:n=>G(t),class:"border-b hover:bg-muted/50 transition-colors cursor-pointer"},[e("td",gs,[e("div",vs,a(t.metadata?.petName||t.title),1)]),e("td",hs,[e("div",fs,a(L.value?t.metadata?.ownerName:t.metadata?.clinicName),1)]),e("td",bs,[e("div",ys,a(t.date),1)]),e("td",ws,[e("div",_s,a(t.time||"N/A"),1)]),e("td",ks,[e("span",{class:u(["px-2 py-1 rounded-full text-xs font-medium",t.status==="scheduled"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":t.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":t.status==="in_progress"?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400":t.status==="pending_completion"?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400":t.status==="completed"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":t.status==="cancelled"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"])},a((t.status||"pending").replace("_"," ").replace(/\b\w/g,n=>n.toUpperCase())),3)])],8,ps))),128))])])])]))])]),O.value&&c.value?(r(),l("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:z},[e("div",{onClick:s[8]||(s[8]=K(()=>{},["stop"])),class:"bg-card rounded-xl p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto border"},[e("div",Ds,[e("h3",Cs,a(c.value.title),1),e("div",{class:u(["px-2 py-1 rounded-full text-xs font-medium",c.value.status==="scheduled"?"bg-green-500 text-white":c.value.status==="scheduled"?"bg-blue-500 text-white":c.value.status==="pending"?"bg-yellow-500 text-white":c.value.status==="completed"?"bg-purple-500 text-white":c.value.status==="cancelled"?"bg-red-500 text-white":"bg-gray-500 text-white"])},a(H(c.value.status)),3)]),e("div",As,[e("div",Ns,[p(g(I),{class:"h-4 w-4 text-gray-500"}),e("span",null,a(c.value.date)+" "+a(c.value.time?"at "+c.value.time:""),1)]),c.value.metadata?.clinicName?(r(),l("div",Ss,[p(g(X),{class:"h-4 w-4 text-gray-500"}),e("span",null,a(c.value.metadata.clinicName),1)])):w("",!0),c.value.metadata?.veterinarianName?(r(),l("div",Ms,[p(g(X),{class:"h-4 w-4 text-gray-500"}),e("span",null,"Dr. "+a(c.value.metadata.veterinarianName),1)])):w("",!0),c.value.description?(r(),l("div",Us,[s[18]||(s[18]=e("p",{class:"font-medium"},"Notes:",-1)),e("p",null,a(c.value.description),1)])):w("",!0)]),e("div",$s,[e("button",{onClick:s[7]||(s[7]=t=>F(c.value.id)),class:"flex-1 bg-primary text-primary-foreground py-2 rounded-md hover:bg-primary/90 text-sm"}," View Details "),e("button",{onClick:z,class:"flex-1 border py-2 rounded-md hover:bg-muted text-sm"}," Cancel ")])])])):w("",!0)]),_:1})],64))}}),Vs=Ye(Fs,[["__scopeId","data-v-bbca72de"]]);export{Vs as default};
