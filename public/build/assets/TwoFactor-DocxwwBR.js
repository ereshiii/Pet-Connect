import{_}from"./HeadingSmall.vue_vue_type_script_setup_true_lang-BVYCrzPZ.js";import{u as F,_ as h,a as T}from"./TwoFactorSetupModal.vue_vue_type_script_setup_true_lang-Dnp7XG68.js";import{t as m,a as d}from"./ui-components-Dj0vw2vK.js";import{c as g}from"./admin-j62zy8g0.js";import{_ as x}from"./Layout.vue_vue_type_script_setup_true_lang-gmxanThf.js";import{b as C,e as k,d as $}from"./index-U6g8M1fB.js";import{h as A,f as p}from"./inertia-vendor-BXJnWAhq.js";import{ab as c,ay as E}from"./lucide-vendor-BUHJwLVO.js";import{d as B,r as S,m as O,a as f,e as r,w as o,i as a,u as e,h as s,b,j as n,z as P,A as q,C as D}from"./vue-vendor-DmxhFomr.js";import"./auth-a3bL7d2J.js";import"./ui-vendor-B7N-G3Ug.js";import"./vendor-BqPpK9Aj.js";import"./leaflet-vendor-Do2TvcFZ.js";import"./utility-vendor-CjxovF-h.js";import"./Heading.vue_vue_type_script_setup_true_lang-FNXLTphu.js";const j={class:"space-y-6"},N={key:0,class:"flex flex-col items-start justify-start space-y-4"},V={key:1,class:"flex flex-col items-start justify-start space-y-4"},z={class:"relative inline"},at=B({__name:"TwoFactor",props:{requiresConfirmation:{type:Boolean,default:!1},twoFactorEnabled:{type:Boolean,default:!1}},setup(u){const w=[{title:"Two-Factor Authentication",href:C.url()}],{hasSetupData:y,clearTwoFactorAuthData:v}=F(),l=S(!1);return O(()=>{v()}),(M,t)=>(r(),f(g,{breadcrumbs:w},{default:o(()=>[a(e(A),{title:"Two-Factor Authentication"}),a(x,null,{default:o(()=>[s("div",j,[a(_,{title:"Two-Factor Authentication",description:"Manage your two-factor authentication settings"}),u.twoFactorEnabled?(r(),b("div",V,[a(e(m),{variant:"default"},{default:o(()=>[...t[7]||(t[7]=[n("Enabled",-1)])]),_:1}),t[9]||(t[9]=s("p",{class:"text-muted-foreground"}," With two-factor authentication enabled, you will be prompted for a secure, random pin during login, which you can retrieve from the TOTP-supported application on your phone. ",-1)),a(h),s("div",z,[a(e(p),q(D(e($).form())),{default:o(({processing:i})=>[a(e(d),{variant:"destructive",type:"submit",disabled:i},{default:o(()=>[a(e(E)),t[8]||(t[8]=n(" Disable 2FA ",-1))]),_:1},8,["disabled"])]),_:1},16)])])):(r(),b("div",N,[a(e(m),{variant:"destructive"},{default:o(()=>[...t[3]||(t[3]=[n("Disabled",-1)])]),_:1}),t[6]||(t[6]=s("p",{class:"text-muted-foreground"}," When you enable two-factor authentication, you will be prompted for a secure pin during login. This pin can be retrieved from a TOTP-supported application on your phone. ",-1)),s("div",null,[e(y)?(r(),f(e(d),{key:0,onClick:t[0]||(t[0]=i=>l.value=!0)},{default:o(()=>[a(e(c)),t[4]||(t[4]=n("Continue Setup ",-1))]),_:1})):(r(),f(e(p),P({key:1},e(k).form(),{onSuccess:t[1]||(t[1]=i=>l.value=!0)}),{default:o(({processing:i})=>[a(e(d),{type:"submit",disabled:i},{default:o(()=>[a(e(c)),t[5]||(t[5]=n("Enable 2FA",-1))]),_:1},8,["disabled"])]),_:1},16))])])),a(T,{isOpen:l.value,"onUpdate:isOpen":t[2]||(t[2]=i=>l.value=i),requiresConfirmation:u.requiresConfirmation,twoFactorEnabled:u.twoFactorEnabled},null,8,["isOpen","requiresConfirmation","twoFactorEnabled"])])]),_:1})]),_:1}))}});export{at as default};
