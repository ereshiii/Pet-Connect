import{d as B,r as h,c as E,o as V,m as $,b as l,e as r,i as n,u as i,w as y,h as t,q,s as z,a as D,g as m,t as d,j as T,F as w,k as A,p as k}from"./vue-vendor-DmxhFomr.js";import{x as C,c as H,y as O}from"./admin-j62zy8g0.js";import{h as P,r as f}from"./inertia-vendor-BXJnWAhq.js";import{a as U}from"./ui-components-Dj0vw2vK.js";import{H as u,aa as Q,a8 as F,a5 as R}from"./lucide-vendor-BUHJwLVO.js";import"./vendor-BqPpK9Aj.js";import"./leaflet-vendor-Do2TvcFZ.js";import"./utility-vendor-CjxovF-h.js";import"./ui-vendor-B7N-G3Ug.js";const Y={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},G={class:"bg-card border border-border rounded-xl p-6 shadow-lg"},I={class:"flex items-center gap-3 mb-2"},J={class:"bg-card rounded-xl border border-border p-6"},K={class:"flex flex-col lg:flex-row lg:items-center justify-between gap-4"},W={class:"flex-1 max-w-md"},X={class:"relative"},Z={key:0,class:"bg-card rounded-xl border border-border p-12 text-center"},ee={class:"text-lg font-medium text-foreground mb-2"},te={class:"text-muted-foreground mb-6"},oe={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},se=["onClick"],re={class:"absolute top-3 right-3 kebab-menu-container",style:{"z-index":"30"}},le=["onClick"],ie=["onClick"],ne={class:"w-full h-44 rounded-xl mb-4 overflow-hidden bg-muted"},de=["src","alt"],ae={key:1,class:"w-full h-full bg-muted flex items-center justify-center"},ce={class:"text-center p-4"},ue={class:"text-muted-foreground text-sm font-medium"},me={class:"font-semibold text-foreground text-base mb-2 line-clamp-1"},fe={key:0,class:"flex items-center mb-3"},ve={class:"text-sm text-foreground font-semibold"},pe={class:"text-xs text-muted-foreground ml-2"},xe={key:1,class:"flex items-center mb-3"},ge={key:2,class:"text-sm text-muted-foreground mb-4 line-clamp-2"},be={key:3,class:"text-sm text-muted-foreground mb-4 line-clamp-2"},_e={key:4,class:"flex items-start gap-2 text-sm text-muted-foreground"},he={class:"line-clamp-1"},Se=B({__name:"FavoritedClinics",props:{favoritedClinics:{}},setup(N){const v=N,j=[{title:"Services",href:C().url},{title:"Favorited Clinics",href:"/favorited-clinics"}],a=h(""),c=h(null),p=E(()=>{if(!a.value)return v.favoritedClinics;const s=a.value.toLowerCase();return v.favoritedClinics.filter(e=>e.clinic_name.toLowerCase().includes(s)||e.city?.toLowerCase().includes(s)||e.province?.toLowerCase().includes(s))}),x=s=>[s.street_address,s.city,s.province].filter(Boolean).join(", "),L=s=>{c.value=c.value===s?null:s},g=()=>{c.value=null},M=s=>{g(),confirm("Are you sure you want to remove this clinic from your favorites?")&&f.delete(route("user.favorites.destroy",{clinic:s}),{preserveScroll:!0,onSuccess:()=>{},onError:e=>{console.error("Error removing favorite:",e)}})},S=s=>{f.visit(O(s).url)},b=s=>{s.target.closest(".kebab-menu-container")||g()};return V(()=>{document.addEventListener("click",b)}),$(()=>{document.removeEventListener("click",b)}),(s,e)=>(r(),l(w,null,[n(i(P),{title:"Favorited Clinics"}),n(H,{breadcrumbs:j},{default:y(()=>[t("div",Y,[t("div",G,[t("div",I,[n(i(u),{class:"w-8 h-8 text-red-500 fill-current"}),e[3]||(e[3]=t("h1",{class:"text-3xl md:text-4xl font-bold text-foreground"},"Favorited Clinics",-1))]),e[4]||(e[4]=t("p",{class:"text-muted-foreground"},"Your saved veterinary clinics for quick access",-1))]),t("div",J,[t("div",K,[t("div",W,[t("div",X,[q(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.value=o),type:"text",placeholder:"Search favorited clinics...",class:"w-full px-4 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary bg-background text-foreground placeholder:text-muted-foreground"},null,512),[[z,a.value]])])])])]),p.value.length===0?(r(),l("div",Z,[n(i(u),{class:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),t("h3",ee,d(a.value?"No clinics found":"No favorited clinics yet"),1),t("p",te,d(a.value?"Try adjusting your search query":"Start adding clinics to your favorites for quick access"),1),a.value?m("",!0):(r(),D(i(U),{key:0,onClick:e[1]||(e[1]=o=>i(f).visit(i(C)().url)),class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:y(()=>[...e[5]||(e[5]=[T(" Browse Clinics ",-1)])]),_:1}))])):(r(),l("div",oe,[(r(!0),l(w,null,A(p.value,o=>(r(),l("div",{key:o.id,onClick:_=>S(o.id),class:"bg-card rounded-2xl p-6 border border-border hover:border-primary/50 transition-all cursor-pointer group relative overflow-hidden shadow-lg"},[t("div",re,[t("button",{onClick:k(_=>L(o.id),["stop"]),class:"w-8 h-8 rounded-full bg-muted/80 backdrop-blur-sm hover:bg-muted transition-all flex items-center justify-center relative z-30",title:"Options"},[n(i(Q),{class:"h-4 w-4 text-foreground"})],8,le),c.value===o.id?(r(),l("div",{key:0,onClick:e[2]||(e[2]=k(()=>{},["stop"])),class:"absolute right-0 mt-2 w-56 bg-card border border-border rounded-lg shadow-xl overflow-hidden",style:{"z-index":"40"}},[t("button",{onClick:_=>M(o.id),class:"w-full px-4 py-3 text-left text-sm text-destructive hover:bg-muted transition-colors flex items-center gap-3"},[n(i(u),{class:"h-4 w-4"}),e[6]||(e[6]=t("span",null,"Remove from Favorites",-1))],8,ie)])):m("",!0)]),t("div",ne,[o.clinic_photo?(r(),l("img",{key:0,src:o.clinic_photo,alt:o.clinic_name,class:"w-full h-full object-cover"},null,8,de)):(r(),l("div",ae,[t("div",ce,[n(i(u),{class:"w-12 h-12 mx-auto mb-2 text-muted-foreground"}),t("span",ue,d(o.clinic_name),1)])]))]),t("h3",me,d(o.clinic_name),1),o.rating?(r(),l("div",fe,[n(i(F),{class:"h-4 w-4 text-yellow-400 fill-yellow-400 mr-1.5"}),t("span",ve,d(Number(o.rating||0).toFixed(1)),1),t("span",pe,"("+d(o.total_reviews||0)+" review"+d(o.total_reviews!==1?"s":"")+")",1)])):(r(),l("div",xe,[n(i(F),{class:"h-4 w-4 text-muted-foreground mr-1.5"}),e[7]||(e[7]=t("span",{class:"text-sm text-muted-foreground"},"No reviews yet",-1))])),o.clinic_description?(r(),l("p",ge,d(o.clinic_description),1)):(r(),l("p",be," Professional veterinary care for your beloved pets. ")),x(o)?(r(),l("div",_e,[n(i(R),{class:"h-4 w-4 mt-0.5 flex-shrink-0 text-red-500"}),t("span",he,d(x(o)),1)])):m("",!0)],8,se))),128))]))])]),_:1})],64))}});export{Se as default};
