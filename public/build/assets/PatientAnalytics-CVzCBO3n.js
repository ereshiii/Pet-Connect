import{d as F,r as V,c as y,b as p,e as o,i as s,u as t,w as d,h as e,q as B,v as M,j as r,t as i,n as P,a as _,l as q,g as A,F as w,k as D}from"./vue-vendor-DmxhFomr.js";import{c as G}from"./admin-j62zy8g0.js";import{h as z,r as E}from"./inertia-vendor-BXJnWAhq.js";import{_ as K}from"./LineChart.vue_vue_type_script_setup_true_lang-BzlUQftE.js";import{_ as N}from"./BarChart.vue_vue_type_script_setup_true_lang-CkR_BlL8.js";import{K as u,L as c,M as g,N as f,O as b,t as j}from"./ui-components-Dj0vw2vK.js";import{U as k,al as O,am as H,ap as I,d as J,A as $,t as Q}from"./lucide-vendor-BUHJwLVO.js";import"./vendor-BqPpK9Aj.js";import"./leaflet-vendor-Do2TvcFZ.js";import"./utility-vendor-CjxovF-h.js";import"./ui-vendor-B7N-G3Ug.js";const W={class:"flex h-full flex-1 flex-col gap-2 md:gap-4 overflow-x-auto p-2 md:p-4"},X={class:"flex flex-col gap-2 md:gap-4 sm:flex-row sm:items-center sm:justify-between"},Y={class:"grid gap-2 md:gap-4 grid-cols-2 md:grid-cols-4"},Z={class:"text-base md:text-2xl font-bold"},tt={class:"text-base md:text-2xl font-bold"},et={class:"text-base md:text-2xl font-bold"},st={class:"text-base md:text-2xl font-bold"},at={key:1,class:"flex items-center justify-center h-[250px] text-muted-foreground"},dt={class:"text-center"},lt={class:"grid gap-3 md:gap-6 lg:grid-cols-2"},nt={key:1,class:"flex items-center justify-center h-[200px] text-muted-foreground text-xs md:text-sm"},it={class:"space-y-2 md:space-y-3"},ot={class:"flex-1"},rt={class:"font-semibold text-xs md:text-sm"},mt={class:"text-[10px] md:text-sm text-muted-foreground"},pt={key:0,class:"text-center text-muted-foreground py-4 md:py-8 text-xs md:text-sm"},xt={class:"grid gap-3 md:gap-6 lg:grid-cols-2"},ut={key:1,class:"flex items-center justify-center h-[200px] text-muted-foreground text-xs md:text-sm"},ct={class:"space-y-2 md:space-y-3"},gt={class:"flex-1"},ft={class:"font-semibold text-xs md:text-sm"},_t={class:"text-[10px] md:text-sm text-muted-foreground"},bt={key:0,class:"text-center text-muted-foreground py-4 md:py-8 text-xs md:text-sm"},ht={class:"grid gap-2 md:gap-4 grid-cols-1 sm:grid-cols-3"},vt={class:"p-2 md:p-4 border rounded-lg"},yt={class:"flex items-center gap-1.5 md:gap-3 mb-1 md:mb-2"},wt={class:"text-base md:text-2xl font-bold"},kt={class:"p-2 md:p-4 border rounded-lg"},Ct={class:"flex items-center gap-1.5 md:gap-3 mb-1 md:mb-2"},Pt={class:"text-base md:text-2xl font-bold"},At={class:"p-2 md:p-4 border rounded-lg"},Dt={class:"flex items-center gap-1.5 md:gap-3 mb-1 md:mb-2"},Mt=F({__name:"PatientAnalytics",props:{patient_trend:{default:()=>[]},patient_demographics:{default:()=>[]},patient_stats:{default:()=>({total_patients:0,new_patients_this_month:0,returning_patients:0,patient_retention_rate:0,average_visits_per_patient:0,monthly_growth:0})},date_range:{default:()=>({period:"30"})},pet_categories:{default:()=>[]}},setup(l){const L=[{title:"Clinic Dashboard",href:"#"},{title:"Patient Analytics",href:"#"}],x=l,h=V(x.date_range?.period||"30"),R=()=>{E.get("/clinic/reports/patients",{date_range:h.value},{preserveState:!0,replace:!0})},v=n=>`${n.toFixed(1)}%`,C=n=>n>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",T=y(()=>({labels:x.patient_trend.map(n=>n.period),datasets:[{label:"New Patients",data:x.patient_trend.map(n=>n.new_patients),borderColor:"rgb(139, 92, 246)",backgroundColor:"rgba(139, 92, 246, 0.1)",tension:.4,fill:!0},{label:"Returning Patients",data:x.patient_trend.map(n=>n.returning_patients),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0}]})),S=y(()=>({labels:x.patient_demographics.map(n=>n.age_group),datasets:[{label:"Patients",data:x.patient_demographics.map(n=>n.count),backgroundColor:["rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(139, 92, 246)","rgb(251, 191, 36)","rgb(236, 72, 153)"]}]})),U=y(()=>({labels:x.pet_categories.map(n=>n.species),datasets:[{label:"Pets",data:x.pet_categories.map(n=>n.count),backgroundColor:["rgb(99, 102, 241)","rgb(16, 185, 129)","rgb(59, 130, 246)","rgb(249, 115, 22)","rgb(236, 72, 153)"]}]}));return(n,a)=>(o(),p(w,null,[s(t(z),{title:"Patient Analytics"}),s(G,{breadcrumbs:L},{default:d(()=>[e("div",W,[e("div",X,[a[2]||(a[2]=e("div",null,[e("h1",{class:"text-xl md:text-3xl font-bold tracking-tight"},"Patient Analytics"),e("p",{class:"text-muted-foreground mt-0.5 md:mt-1 text-xs md:text-sm"},"Comprehensive patient data and trends")],-1)),B(e("select",{"onUpdate:modelValue":a[0]||(a[0]=m=>h.value=m),onChange:R,class:"px-2 md:px-4 py-1.5 md:py-2 border rounded-lg bg-white dark:bg-slate-900 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-primary w-full sm:w-fit text-xs md:text-sm"},[...a[1]||(a[1]=[e("option",{value:"1"},"Last 24 hours",-1),e("option",{value:"7"},"Last 7 days",-1),e("option",{value:"30"},"Last 30 days",-1),e("option",{value:"90"},"Last 3 months",-1),e("option",{value:"365"},"Last year",-1),e("option",{value:"all"},"All Time",-1)])],544),[[M,h.value]])]),e("div",Y,[s(t(u),null,{default:d(()=>[s(t(c),{class:"flex flex-row items-center justify-between pb-0 p-2.5 md:p-4"},{default:d(()=>[s(t(g),{class:"text-xs md:text-sm font-medium"},{default:d(()=>[...a[3]||(a[3]=[r("Total Patients",-1)])]),_:1}),s(t(k),{class:"hidden md:block h-5 w-5 text-blue-600"})]),_:1}),s(t(f),{class:"p-2.5 pt-0 md:p-4 md:pt-0"},{default:d(()=>[e("div",Z,i(l.patient_stats.total_patients.toLocaleString()),1),e("div",{class:P(["flex items-center gap-0.5 text-[10px] md:text-xs mt-0.5",C(l.patient_stats.monthly_growth)])},[(o(),_(q(l.patient_stats.monthly_growth>=0?t(O):t(H)),{class:"h-2.5 w-2.5 md:h-3 md:w-3"})),e("span",null,i(Math.abs(l.patient_stats.monthly_growth).toFixed(1))+"%",1)],2)]),_:1})]),_:1}),s(t(u),null,{default:d(()=>[s(t(c),{class:"flex flex-row items-center justify-between pb-0 p-2.5 md:p-4"},{default:d(()=>[s(t(g),{class:"text-xs md:text-sm font-medium"},{default:d(()=>[...a[4]||(a[4]=[r("New Patients",-1)])]),_:1}),s(t(I),{class:"hidden md:block h-5 w-5 text-purple-600"})]),_:1}),s(t(f),{class:"p-2.5 pt-0 md:p-4 md:pt-0"},{default:d(()=>[e("div",tt,i(l.patient_stats.new_patients_this_month),1),a[5]||(a[5]=e("p",{class:"text-[10px] md:text-xs text-muted-foreground mt-0.5"},"This month",-1))]),_:1})]),_:1}),s(t(u),null,{default:d(()=>[s(t(c),{class:"flex flex-row items-center justify-between pb-0 p-2.5 md:p-4"},{default:d(()=>[s(t(g),{class:"text-xs md:text-sm font-medium"},{default:d(()=>[...a[6]||(a[6]=[r("Returning",-1)])]),_:1}),s(t(J),{class:"hidden md:block h-5 w-5 text-green-600"})]),_:1}),s(t(f),{class:"p-2.5 pt-0 md:p-4 md:pt-0"},{default:d(()=>[e("div",et,i(l.patient_stats.returning_patients),1),a[7]||(a[7]=e("p",{class:"text-[10px] md:text-xs text-muted-foreground mt-0.5"},"Repeat visits",-1))]),_:1})]),_:1}),s(t(u),null,{default:d(()=>[s(t(c),{class:"flex flex-row items-center justify-between pb-0 p-2.5 md:p-4"},{default:d(()=>[s(t(g),{class:"text-xs md:text-sm font-medium"},{default:d(()=>[...a[8]||(a[8]=[r("Retention",-1)])]),_:1}),s(t($),{class:"hidden md:block h-5 w-5 text-orange-600"})]),_:1}),s(t(f),{class:"p-2.5 pt-0 md:p-4 md:pt-0"},{default:d(()=>[e("div",st,i(v(l.patient_stats.patient_retention_rate)),1),a[9]||(a[9]=e("p",{class:"text-[10px] md:text-xs text-muted-foreground mt-0.5"},"Patient loyalty",-1))]),_:1})]),_:1})]),s(t(u),null,{default:d(()=>[s(t(c),{class:"p-3 md:p-6"},{default:d(()=>[s(t(g),{class:"text-sm md:text-base"},{default:d(()=>[...a[10]||(a[10]=[r("Patient Acquisition Trend",-1)])]),_:1}),s(t(b),{class:"text-[10px] md:text-sm"},{default:d(()=>[...a[11]||(a[11]=[r("New vs returning patients over time",-1)])]),_:1})]),_:1}),s(t(f),{class:"p-3 md:p-6 pt-0"},{default:d(()=>[l.patient_trend.length>0?(o(),_(K,{key:0,data:T.value,height:250,title:""},null,8,["data"])):(o(),p("div",at,[e("div",dt,[s(t(k),{class:"h-8 w-8 md:h-12 md:w-12 mx-auto mb-2 md:mb-3 opacity-30"}),a[12]||(a[12]=e("p",{class:"text-xs md:text-sm"},"No patient trend data available",-1))])]))]),_:1})]),_:1}),s(t(u),null,{default:d(()=>[s(t(c),{class:"p-3 md:p-6"},{default:d(()=>[s(t(g),{class:"text-sm md:text-base"},{default:d(()=>[...a[13]||(a[13]=[r("Patient Demographics by Age",-1)])]),_:1}),s(t(b),{class:"text-[10px] md:text-sm"},{default:d(()=>[...a[14]||(a[14]=[r("Distribution of patients across age groups",-1)])]),_:1})]),_:1}),s(t(f),{class:"p-3 md:p-6 pt-0"},{default:d(()=>[e("div",lt,[e("div",null,[l.patient_demographics.length>0?(o(),_(N,{key:0,data:S.value,height:200,title:""},null,8,["data"])):(o(),p("div",nt," No demographic data available "))]),e("div",it,[(o(!0),p(w,null,D(l.patient_demographics,m=>(o(),p("div",{key:m.age_group,class:"flex items-center justify-between p-2 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[e("div",ot,[e("p",rt,i(m.age_group),1),e("p",mt,i(m.count)+" patients",1)]),s(t(j),{variant:"secondary",class:"ml-2 md:ml-3 text-[10px] md:text-xs"},{default:d(()=>[r(i(v(m.percentage)),1)]),_:2},1024)]))),128)),l.patient_demographics.length===0?(o(),p("div",pt," No demographic breakdown available ")):A("",!0)])])]),_:1})]),_:1}),s(t(u),null,{default:d(()=>[s(t(c),{class:"p-3 md:p-6"},{default:d(()=>[s(t(g),{class:"text-sm md:text-base"},{default:d(()=>[...a[15]||(a[15]=[r("Pets by Species",-1)])]),_:1}),s(t(b),{class:"text-[10px] md:text-sm"},{default:d(()=>[...a[16]||(a[16]=[r("Distribution of patient pets by species",-1)])]),_:1})]),_:1}),s(t(f),{class:"p-3 md:p-6 pt-0"},{default:d(()=>[e("div",xt,[e("div",null,[l.pet_categories.length>0?(o(),_(N,{key:0,data:U.value,height:200,title:""},null,8,["data"])):(o(),p("div",ut," No pet category data available "))]),e("div",ct,[(o(!0),p(w,null,D(l.pet_categories,m=>(o(),p("div",{key:m.species,class:"flex items-center justify-between p-2 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[e("div",gt,[e("p",ft,i(m.species),1),e("p",_t,i(m.count)+" pets",1)]),s(t(j),{variant:"secondary",class:"ml-2 md:ml-3 text-[10px] md:text-xs"},{default:d(()=>[r(i(v(m.percentage)),1)]),_:2},1024)]))),128)),l.pet_categories.length===0?(o(),p("div",bt," No pet species breakdown available ")):A("",!0)])])]),_:1})]),_:1}),s(t(u),null,{default:d(()=>[s(t(c),{class:"p-3 md:p-6"},{default:d(()=>[s(t(g),{class:"text-sm md:text-base"},{default:d(()=>[...a[17]||(a[17]=[r("Patient Summary",-1)])]),_:1}),s(t(b),{class:"text-[10px] md:text-sm"},{default:d(()=>[...a[18]||(a[18]=[r("Additional patient insights",-1)])]),_:1})]),_:1}),s(t(f),{class:"p-3 md:p-6 pt-0"},{default:d(()=>[e("div",ht,[e("div",vt,[e("div",yt,[s(t(k),{class:"h-3 w-3 md:h-5 md:w-5 text-blue-600"}),a[19]||(a[19]=e("span",{class:"text-[10px] md:text-sm font-medium text-muted-foreground"},"Total Patient Base",-1))]),e("p",wt,i(l.patient_stats.total_patients.toLocaleString()),1)]),e("div",kt,[e("div",Ct,[s(t($),{class:"h-3 w-3 md:h-5 md:w-5 text-green-600"}),a[20]||(a[20]=e("span",{class:"text-[10px] md:text-sm font-medium text-muted-foreground"},"Avg Visits/Patient",-1))]),e("p",Pt,i(l.patient_stats.average_visits_per_patient.toFixed(1)),1)]),e("div",At,[e("div",Dt,[s(t(Q),{class:"h-3 w-3 md:h-5 md:w-5 text-purple-600"}),a[21]||(a[21]=e("span",{class:"text-[10px] md:text-sm font-medium text-muted-foreground"},"Growth Rate",-1))]),e("p",{class:P(["text-base md:text-2xl font-bold",C(l.patient_stats.monthly_growth)])},i(l.patient_stats.monthly_growth>=0?"+":"")+i(l.patient_stats.monthly_growth.toFixed(1))+"% ",3)])])]),_:1})]),_:1})])]),_:1})],64))}});export{Mt as default};
