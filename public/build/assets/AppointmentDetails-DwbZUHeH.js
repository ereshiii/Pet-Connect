import{d as Pe,b as l,e as n,h as e,q as f,j as u,s as y,c as k,r as x,o as xt,m as bt,i as c,u as a,w as gt,g as m,t as o,n as E,a as oe,l as Ee,F as U,k as W,p as ve,v as ft}from"./vue-vendor-DmxhFomr.js";import{H as Fe,D as vt,c as yt,I as ht}from"./admin-j62zy8g0.js";import{u as wt,a as $,h as kt,r as _}from"./inertia-vendor-BXJnWAhq.js";import{aH as Ct,e as Ve,_ as P,W as Rt,a6 as Te,a5 as _t,aa as At,a1 as St,J as Mt,C as ne,$ as ye,a0 as Dt,Y as Ue,a8 as G,X as I,aI as jt,g as Et,a4 as $e,G as Ft,a as Vt}from"./lucide-vendor-BUHJwLVO.js";import{_ as Tt}from"./auth-a3bL7d2J.js";import"./vendor-BqPpK9Aj.js";import"./leaflet-vendor-Do2TvcFZ.js";import"./ui-components-Dj0vw2vK.js";import"./ui-vendor-B7N-G3Ug.js";import"./utility-vendor-CjxovF-h.js";const Ut={class:"space-y-4"},$t=Pe({__name:"MedicalRecordFormFields",props:{form:{}},setup(s){return(i,p)=>(n(),l("div",Ut,[e("div",null,[p[4]||(p[4]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2"},[u(" Diagnosis "),e("span",{class:"text-red-500"},"*")],-1)),f(e("textarea",{"onUpdate:modelValue":p[0]||(p[0]=C=>s.form.diagnosis=C),rows:"3",placeholder:"Enter the diagnosis...",required:"",class:"w-full border border-gray-300 rounded-md px-3 py-2 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300"},null,512),[[y,s.form.diagnosis]]),p[5]||(p[5]=e("p",{class:"text-xs text-muted-foreground mt-1"},"Primary diagnosis or condition identified",-1))]),e("div",null,[p[6]||(p[6]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2"}," Findings ",-1)),f(e("textarea",{"onUpdate:modelValue":p[1]||(p[1]=C=>s.form.findings=C),rows:"4",placeholder:"Document examination findings, observations, test results...",class:"w-full border border-gray-300 rounded-md px-3 py-2 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300"},null,512),[[y,s.form.findings]]),p[7]||(p[7]=e("p",{class:"text-xs text-muted-foreground mt-1"},"Physical exam findings, vital signs, test results, observations",-1))]),e("div",null,[p[8]||(p[8]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2"}," Treatment Given ",-1)),f(e("textarea",{"onUpdate:modelValue":p[2]||(p[2]=C=>s.form.treatment_given=C),rows:"4",placeholder:"Describe treatments, procedures, and interventions performed...",class:"w-full border border-gray-300 rounded-md px-3 py-2 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300"},null,512),[[y,s.form.treatment_given]]),p[9]||(p[9]=e("p",{class:"text-xs text-muted-foreground mt-1"},"Treatments, procedures, vaccines, or interventions administered",-1))]),e("div",null,[p[10]||(p[10]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2"}," Prescriptions ",-1)),f(e("textarea",{"onUpdate:modelValue":p[3]||(p[3]=C=>s.form.prescriptions=C),rows:"3",placeholder:"List medications with dosage and frequency...",class:"w-full border border-gray-300 rounded-md px-3 py-2 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300"},null,512),[[y,s.form.prescriptions]]),p[11]||(p[11]=e("p",{class:"text-xs text-muted-foreground mt-1"},"Medications prescribed with dosage instructions",-1))])]))}}),Pt={class:"flex h-full flex-1 flex-col gap-2 md:gap-4 overflow-x-auto rounded-xl p-2 md:p-4"},It={class:"rounded-lg border bg-card p-3 md:p-6"},Nt={class:"mb-3 md:mb-4"},zt={class:"text-xs md:text-sm text-muted-foreground mt-1"},Ot={key:0,class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-2 md:p-4 animate-pulse"},Yt={class:"flex items-center justify-between gap-2"},qt={class:"flex items-center gap-1.5 md:gap-2"},Bt={class:"flex items-center"},Ht={key:0},Lt={key:1},Wt={key:2},Gt={key:3},Xt={key:4},Kt={class:"rounded-lg border bg-card"},Jt={class:"border-b overflow-x-auto"},Qt={class:"flex space-x-2 md:space-x-8 px-3 md:px-6 min-w-max sm:min-w-0","aria-label":"Tabs"},Zt=["onClick"],es={class:"hidden sm:inline"},ts={class:"p-3 md:p-6"},ss={key:0,class:"space-y-4 md:space-y-6"},os={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6"},ns={class:"space-y-4 md:space-y-6"},ls={class:"space-y-3 md:space-y-4"},is={class:"space-y-2 md:space-y-3"},as={class:"flex justify-between gap-2"},ds={class:"text-xs md:text-sm font-medium text-right"},rs={class:"flex justify-between gap-2"},ms={class:"text-xs md:text-sm font-medium"},us={class:"flex justify-between gap-2"},cs={class:"text-xs md:text-sm font-medium"},ps={class:"flex justify-between gap-2"},xs={key:0,class:"flex justify-between gap-2"},bs={class:"text-xs md:text-sm font-medium"},gs={key:1,class:"flex justify-between gap-2"},fs={class:"text-xs md:text-sm font-medium"},vs={class:"pt-3 md:pt-4 border-t"},ys={class:"flex flex-wrap gap-1.5 md:gap-2"},hs={key:0,class:"px-2 py-1 bg-primary/10 text-primary text-[10px] md:text-xs font-medium rounded border border-primary/20"},ws={key:1,class:"px-2 py-1 bg-primary/10 text-primary text-xs font-medium rounded border border-primary/20"},ks={class:"space-y-3 md:space-y-4"},Cs={class:"text-base md:text-lg font-semibold mb-3 md:mb-4 flex items-center gap-1.5 md:gap-2"},Rs={class:"bg-muted/50 rounded-lg p-3 md:p-4 border"},_s={class:"text-sm md:text-base font-medium mb-2 md:mb-3"},As={class:"space-y-1.5 md:space-y-2"},Ss={class:"flex justify-between gap-2 text-xs md:text-sm"},Ms={class:"font-medium"},Ds={class:"flex justify-between gap-2 text-xs md:text-sm"},js={class:"font-medium"},Es={class:"flex justify-between gap-2 text-xs md:text-sm"},Fs={class:"font-medium"},Vs={key:0,class:"flex justify-between gap-2 text-xs md:text-sm"},Ts={class:"font-medium"},Us={class:"space-y-4 md:space-y-6"},$s={key:0,class:"space-y-3 md:space-y-4"},Ps={class:"bg-muted/50 rounded-lg p-3 md:p-4 border"},Is={class:"text-sm md:text-base font-medium mb-2"},Ns={class:"text-xs md:text-sm text-muted-foreground mb-2"},zs={class:"text-xs md:text-sm text-muted-foreground mb-3 md:mb-4"},Os={class:"flex flex-col sm:flex-row gap-2"},Ys={class:"bg-primary/10 rounded-lg p-3 md:p-4 border border-primary/20"},qs={class:"text-sm md:text-base font-medium text-primary mb-2"},Bs={class:"text-[10px] md:text-xs text-primary/70"},Hs={key:1,class:"space-y-3 md:space-y-4"},Ls={class:"bg-muted/50 rounded-lg p-3 md:p-4 border"},Ws={class:"text-sm md:text-base font-medium mb-2"},Gs={class:"text-xs md:text-sm text-muted-foreground mb-2"},Xs={class:"text-xs md:text-sm text-muted-foreground mb-3 md:mb-4"},Ks={class:"bg-primary/10 rounded-lg p-4 border border-primary/20"},Js={class:"font-medium text-primary mb-3"},Qs={class:"border-t border-primary/20 pt-3 mt-3"},Zs={class:"flex items-center justify-between mb-2"},eo={key:0,class:"relative vet-dropdown-container"},to={key:0,class:"absolute right-0 mt-2 w-48 bg-card border rounded-lg shadow-lg z-10"},so={key:0,class:"space-y-2"},oo=["value"],no={key:1},lo={class:"text-sm font-medium text-primary mb-1"},io={class:"text-xs text-primary/70"},ao={key:0,class:"text-xs text-primary/70 mt-1"},ro={key:2,class:"text-xs text-primary/70"},mo={class:"pt-4 border-t"},uo={class:"text-sm text-muted-foreground bg-muted/50 rounded-lg p-3"},co={key:0,class:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t"},po={key:1,class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mt-4"},xo={class:"flex items-start gap-3"},bo={class:"flex-1"},go={class:"text-xs text-blue-700 dark:text-blue-300"},fo={key:2,class:"pt-4 border-t"},vo={class:"flex justify-end gap-3 flex-wrap"},yo={key:3,class:"pt-4 border-t"},ho={class:"flex justify-end"},wo={key:4,class:"flex items-center gap-2 pt-4 border-t"},ko={key:5,class:"pt-4 border-t"},Co={key:0,class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},Ro={class:"flex items-center justify-between"},_o={class:"flex items-center gap-3"},Ao={class:"text-xs text-blue-700 dark:text-blue-300 mt-0.5"},So={key:1,class:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30 border-2 border-blue-200 dark:border-blue-500/50 rounded-lg p-4"},Mo={class:"flex items-start justify-between mb-3"},Do={class:"flex items-center gap-2"},jo={class:"flex text-yellow-400 text-sm"},Eo={class:"text-sm text-muted-foreground"},Fo={key:0,class:"text-sm text-foreground"},Vo={key:1,class:"text-sm text-muted-foreground italic"},To={key:2,class:"bg-card border rounded-lg p-6"},Uo={class:"flex justify-between items-center mb-4"},$o={class:"mb-4"},Po={class:"flex gap-2"},Io=["onClick"],No={class:"mb-4"},zo={class:"text-right text-xs text-muted-foreground mt-1"},Oo={class:"flex gap-3"},Yo=["disabled"],qo={key:0,class:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-500/50 rounded-lg"},Bo={key:0,class:"text-red-600 dark:text-red-400 text-sm"},Ho={key:1,class:"text-red-600 dark:text-red-400 text-sm"},Lo={key:6,class:"flex items-center gap-2 pt-4 border-t"},Wo={key:1,class:"space-y-6"},Go={class:"bg-muted/30 rounded-lg p-6 border"},Xo={class:"flex items-center justify-between mb-4"},Ko={class:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-full flex items-center gap-1"},Jo={key:0,class:"space-y-4"},Qo={class:"bg-card rounded-lg p-4 border"},Zo={class:"grid grid-cols-2 gap-4 text-sm"},en={class:"font-medium"},tn={class:"font-medium"},sn={class:"font-medium"},on={key:0},nn={class:"font-medium"},ln={class:"bg-card rounded-lg p-4 border"},an={class:"text-sm"},dn={class:"bg-card rounded-lg p-4 border"},rn={class:"text-sm"},mn={class:"bg-card rounded-lg p-4 border"},un={class:"text-sm"},cn={key:0,class:"bg-card rounded-lg p-4 border"},pn={class:"text-sm"},xn={key:1,class:"text-center py-8"},bn={class:"bg-primary/5 border border-primary/20 rounded-lg p-4 mt-6"},gn={class:"flex items-start gap-3"},fn={class:"text-sm text-primary/90 font-medium mb-1"},vn={class:"text-xs text-primary/70"},yn={key:2,class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mt-4"},hn={class:"flex items-start gap-3"},wn={class:"flex-1"},kn={class:"text-xs text-yellow-700 dark:text-yellow-300 mb-2"},Cn={class:"text-sm text-yellow-800 dark:text-yellow-200"},Rn={key:3,class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mt-4"},_n={class:"flex items-start justify-between gap-4"},An={class:"flex items-start gap-3 flex-1"},Sn={class:"text-xs text-blue-700 dark:text-blue-300"},Mn={class:"text-xs text-blue-600 dark:text-blue-400 mt-1"},Dn={key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"},jn={class:"bg-card rounded-lg shadow-xl max-w-lg w-full border"},En={class:"p-6"},Fn={class:"mb-4"},Vn={class:"flex justify-between mt-1"},Tn={key:0,class:"text-xs text-red-500"},Un={class:"text-xs text-muted-foreground ml-auto"},$n={class:"flex justify-end gap-3"},Pn=["disabled"],In=["disabled"],Nn={key:0},zn={key:1},On={key:1,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto"},Yn={class:"bg-card rounded-lg p-6 w-full max-w-3xl shadow-xl my-8"},qn={class:"flex items-center justify-between mb-4"},Bn={class:"mb-6"},Hn={class:"text-sm text-amber-600 dark:text-amber-400 mt-6 flex items-center gap-2"},Ln={class:"flex gap-3"},Wn=["disabled"],Gn=["disabled"],Xn={key:2,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},Kn={class:"bg-card rounded-lg p-6 w-full max-w-md shadow-xl"},Jn={class:"flex items-center justify-between mb-4"},Qn={class:"mb-6"},Zn={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 text-sm"},el={class:"text-blue-900 dark:text-blue-100 font-medium"},tl={class:"text-blue-700 dark:text-blue-300"},sl={class:"text-blue-600 dark:text-blue-400"},ol={class:"flex gap-3"},nl={key:3,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"},ll={class:"bg-card rounded-lg shadow-xl max-w-lg w-full border"},il={class:"p-6"},al={class:"flex items-center justify-between mb-4"},dl={class:"text-xl font-semibold text-foreground flex items-center gap-2"},rl={class:"mb-6 space-y-4"},ml={class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4"},ul={class:"text-sm text-yellow-800 dark:text-yellow-200 space-y-1"},cl={class:"flex gap-3"},pl=["disabled"],xl=["disabled"],bl={key:0},gl={key:1},fl={key:4,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"},vl={class:"bg-card rounded-lg shadow-xl max-w-lg w-full border"},yl={class:"p-6"},hl={class:"flex items-center justify-between mb-4"},wl={class:"text-xl font-semibold text-foreground flex items-center gap-2"},kl={class:"mb-6 space-y-4"},Cl={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},Rl={class:"text-sm text-blue-800 dark:text-blue-200 space-y-1"},_l={key:0},Al={class:"flex gap-3"},Sl={key:5,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},Ml={class:"bg-card rounded-lg p-6 w-full max-w-md shadow-xl"},Dl={class:"flex items-center justify-between mb-4"},jl={class:"mb-6"},El={class:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-3 text-sm mb-4"},Fl={class:"text-gray-900 dark:text-gray-100 font-medium"},Vl={class:"text-gray-700 dark:text-gray-300"},Tl={class:"text-gray-600 dark:text-gray-400"},Ul={class:"flex gap-3"},$l={key:6,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},Pl={class:"bg-card border rounded-lg shadow-xl max-w-md w-full p-6"},Il={class:"flex items-center justify-between mb-4"},Nl={class:"space-y-4"},zl={class:"text-sm text-muted-foreground"},Ol=["min"],Yl={class:"flex gap-3 mt-6"},ql=["disabled"],Bl=["disabled"],Hl={key:7,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},Ll={class:"bg-card border rounded-lg shadow-xl max-w-md w-full p-6"},Wl={class:"flex items-center justify-between mb-4"},Gl={class:"space-y-4"},Xl={class:"text-sm text-muted-foreground"},Kl={class:"bg-muted rounded-lg p-3 text-sm"},Jl={class:"text-muted-foreground"},Ql=["min"],Zl={class:"flex gap-3 mt-6"},ei=["disabled"],ti=["disabled"],si={key:8,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},oi={class:"bg-card border rounded-lg shadow-xl max-w-md w-full p-6"},ni={class:"flex items-center justify-between mb-4"},li={class:"space-y-4"},ii={class:"text-sm text-muted-foreground"},ai={class:"bg-destructive/10 rounded-lg p-3 text-sm"},di={class:"text-muted-foreground mt-1"},ri={class:"flex gap-3 mt-6"},mi=["disabled"],ui=["disabled"],ci=Pe({__name:"AppointmentDetails",props:{appointment:{},medicalRecord:{},visitHistory:{},documents:{},availableVeterinarians:{default:()=>[]},canChangeVet:{type:Boolean,default:!1},canEditMedicalRecords:{type:Boolean,default:!1},medicalRecordEditableUntil:{},clinic:{},userRole:{default:"user"},hasRating:{type:Boolean},clinicRating:{}},setup(s){const i=s,p=wt(),C=k(()=>p.props.auth),h=k(()=>i.userRole==="clinic"||C.value.user?.account_type==="clinic"),M=k(()=>i.userRole==="user"||C.value.user?.account_type==="user");k(()=>C.value.user?.is_admin===!0);const X=k(()=>["completed","cancelled","no_show"].includes(i.appointment.status)),le=k(()=>i.appointment.status==="pending"),ie=k(()=>i.appointment.status==="scheduled"),he=k(()=>i.appointment.status==="in_progress"),we=k(()=>h.value&&he.value&&!X.value);k(()=>h.value?i.canEditMedicalRecords||he.value:!1);const ke=k(()=>!!B.diagnosis);console.log("AppointmentDetails loaded with appointment:",i.appointment),console.log("Appointment ID:",i.appointment?.id),console.log("Appointment Status:",i.appointment?.status),console.log("User Role:",i.userRole),console.log("Is Clinic:",h.value),console.log("Is Pet Owner:",M.value);const Ie=[{title:h.value?"Clinic Dashboard":"Schedule",href:h.value?"/clinic/dashboard":Fe().url},...h.value?[{title:"Appointments",href:"/clinic/appointments"}]:[],{title:"Appointment Details",href:vt(i.appointment.id).url}],N=x("details"),z=x(!1),O=x(!1),Y=x(!1),K=x(""),q=x(!1),ae=x(!1),de=x(!1),re=x(!1),b=x({scheduled_at:"",reason:"",notes:""}),g=x({scheduled_at:"",reason:""}),D=x({reason:""}),F=x(!1),me=x(!1),ue=x(!1),Ne=k(()=>[{id:"details",name:"Appointment Details",icon:Ct},{id:"medical",name:"Medical Record",icon:Ve}]),J=$({status:i.appointment.status,notes:i.appointment.notes||"",actualCost:i.appointment.actualCost||""}),B=$({record_type:i.appointment.medicalRecord?.record_type||"checkup",diagnosis:i.appointment.medicalRecord?.diagnosis||"",treatment:i.appointment.medicalRecord?.treatment||"",medications:i.appointment.medicalRecord?.medications||"",clinical_notes:i.appointment.medicalRecord?.clinical_notes||"",follow_up_date:i.appointment.medicalRecord?.follow_up_date||"",physical_exam:i.appointment.medicalRecord?.physical_exam||"",vital_signs:i.appointment.medicalRecord?.vital_signs||"",vaccine_name:i.appointment.medicalRecord?.vaccine_name||"",vaccine_batch:i.appointment.medicalRecord?.vaccine_batch||"",administration_site:i.appointment.medicalRecord?.administration_site||"",next_due_date:i.appointment.medicalRecord?.next_due_date||"",adverse_reactions:i.appointment.medicalRecord?.adverse_reactions||"",procedures_performed:i.appointment.medicalRecord?.procedures_performed||"",treatment_response:i.appointment.medicalRecord?.treatment_response||"",surgery_type:i.appointment.medicalRecord?.surgery_type||"",procedure_details:i.appointment.medicalRecord?.procedure_details||"",anesthesia_used:i.appointment.medicalRecord?.anesthesia_used||"",complications:i.appointment.medicalRecord?.complications||"",post_op_instructions:i.appointment.medicalRecord?.post_op_instructions||"",presenting_complaint:i.appointment.medicalRecord?.presenting_complaint||"",triage_level:i.appointment.medicalRecord?.triage_level||"",emergency_treatment:i.appointment.medicalRecord?.emergency_treatment||"",stabilization_measures:i.appointment.medicalRecord?.stabilization_measures||"",disposition:i.appointment.medicalRecord?.disposition||""}),j=$({veterinarian_id:i.appointment.veterinarian?.id||null}),Ce=()=>{Z.value=!0},ze=()=>{Z.value=!1,_.visit(ht(i.appointment.id).url)},Re=()=>{Z.value=!1},_e=()=>{Q.value=!0},Oe=()=>{A.delete(`/appointments/${i.appointment.id}`,{onSuccess:()=>{Q.value=!1,A.reset(),_.visit(Fe().url)},onError:r=>{console.error("Error canceling appointment:",r)}})},Ae=()=>{Q.value=!1,A.reset()},Ye=()=>{O.value=!0},qe=()=>{_.post(`/clinic/appointments/${i.appointment.id}/confirm`,{},{onSuccess:()=>{O.value=!1,console.log("Appointment confirmed successfully")},onError:r=>{console.error("Error confirming appointment:",r)}})},Be=()=>{Y.value=!0},He=()=>{_.post(`/clinic/appointments/${i.appointment.id}/no-show`,{reason:K.value||"Patient did not show up for appointment"},{onSuccess:()=>{Y.value=!1,K.value="",console.log("Appointment marked as no-show successfully")},onError:r=>{console.error("Error marking appointment as no-show:",r)}})},Le=()=>{J.status="in_progress",J.patch(`/clinic/appointments/${i.appointment.id}/status`,{onSuccess:()=>{console.log("Appointment started - now in progress")},onError:r=>{console.error("Error starting appointment:",r)}})},We=()=>{z.value=!0,N.value="medical"},Ge=()=>{if(!ke.value){alert("Please complete the diagnosis field before completing.");return}const r={};["diagnosis","findings","treatment_given","prescriptions"].forEach(R=>{const S=B[R];S!=null&&S!==""&&(r[R]=S)});const d={status:"completed",notes:J.notes||null,actualCost:J.actualCost||null,medical_record:r};console.log("Submitting appointment completion with data:",d),_.post(`/clinic/appointments/${i.appointment.id}/complete`,d,{onSuccess:R=>{console.log("Appointment completed successfully:",R),z.value=!1,_.visit("/clinic/history",{onSuccess:()=>{console.log("Appointment completed with medical records saved")}})},onError:R=>{console.error("Error completing appointment:",R);let S=`Failed to complete appointment:

`;typeof R=="object"?Object.keys(R).forEach(je=>{S+=`${je}: ${R[je]}
`}):S+="Please ensure all required fields are filled.",alert(S)}})},Xe=()=>{const r=i.appointment?.owner?.phone||"";r&&window.open(`tel:${r}`)},Ke=()=>{j.veterinarian_id&&j.patch(`/clinic/appointments/${i.appointment.id}/assign-vet`,{onSuccess:()=>{console.log("Veterinarian assigned successfully")},onError:r=>{console.error("Error assigning veterinarian:",r)}})},Je=()=>{q.value=!q.value},ce=()=>{q.value=!1},Qe=()=>{if(i.appointment.canChangeVet===!1){alert("Cannot change veterinarian assignment when only one veterinarian is available.");return}j.veterinarian_id=null,ce()},Ze=()=>{confirm("Are you sure you want to remove the assigned veterinarian?")&&(j.veterinarian_id=null,j.patch(`/clinic/appointments/${i.appointment.id}/assign-vet`,{onSuccess:()=>{console.log("Veterinarian removed successfully"),ce()},onError:r=>{console.error("Error removing veterinarian:",r)}}))},pe=x(!1),w=$({reason:""}),Q=x(!1),Z=x(!1),A=$({cancellation_reason:""}),et=()=>{pe.value=!0,w.reset()},Se=()=>{pe.value=!1,w.reset()},tt=()=>{w.post(`/appointments/${i.appointment.id}/dispute`,{onSuccess:()=>{Se()},onError:r=>{console.error("Error submitting dispute:",r)}})},H=x(!1),v=$({rating:5,comment:"",appointment_id:i.appointment.id}),st=()=>{i.clinicRating&&(v.rating=i.clinicRating.rating,v.comment=i.clinicRating.comment||""),H.value=!0},xe=()=>{H.value=!1,v.reset()},ot=()=>{const r=`/clinic/${i.appointment.clinic.id}/reviews`;v.post(r,{preserveScroll:!0,onSuccess:()=>{xe(),console.log("Rating submitted successfully")},onError:t=>{console.error("Error submitting rating:",t)}})},nt=()=>{ae.value=!0,b.value={follow_up_date:"",follow_up_time:"",reason:i.appointment.reason||"",notes:""}},be=()=>{ae.value=!1,b.value={follow_up_date:"",follow_up_time:"",reason:"",notes:""}},lt=async()=>{if(!b.value.follow_up_date||!b.value.follow_up_time){alert("Please select a date and time for the follow-up appointment");return}F.value=!0;try{const r=`${b.value.follow_up_date} ${b.value.follow_up_time}:00`;_.post(`/clinic/appointments/${i.appointment.id}/follow-up`,{scheduled_at:r,reason:b.value.reason,notes:b.value.notes},{onSuccess:t=>{be();const d=t.props.flash?.success||"Follow-up appointment scheduled successfully!";alert(d),T()},onError:t=>{console.error("Follow-up creation failed:",t);const d=t.error||"Failed to create follow-up appointment. Please try again.";alert(d)},onFinish:()=>{F.value=!1}})}catch(r){console.error("Error creating follow-up:",r),F.value=!1}},it=()=>{de.value=!0,g.value={new_date:"",new_time:"",reason:""}},ge=()=>{de.value=!1,g.value={new_date:"",new_time:"",reason:""}},at=async()=>{if(!g.value.new_date||!g.value.new_time||!g.value.reason){alert("Please provide both a new date/time and a reason for rescheduling");return}me.value=!0;try{const r=`${g.value.new_date} ${g.value.new_time}:00`;_.post(`/clinic/appointments/${i.appointment.id}/reschedule`,{scheduled_at:r,reason:g.value.reason},{onSuccess:t=>{ge();const d=t.props.flash?.success||"Appointment rescheduled successfully!";alert(d),T()},onError:t=>{console.error("Reschedule failed:",t);const d=t.error||"Failed to reschedule appointment. Please try again.";alert(d)},onFinish:()=>{me.value=!1}})}catch(r){console.error("Error rescheduling:",r),me.value=!1}},dt=()=>{re.value=!0,D.value={reason:""}},fe=()=>{re.value=!1,D.value={reason:""}},rt=async()=>{if(!D.value.reason){alert("Please provide a reason for cancelling this appointment");return}ue.value=!0;try{_.post(`/clinic/appointments/${i.appointment.id}/cancel`,D.value,{onSuccess:r=>{fe();const t=r.props.flash?.success||"Appointment cancelled successfully!";alert(t),T()},onError:r=>{console.error("Cancel failed:",r);const t=r.error||"Failed to cancel appointment. Please try again.";alert(t)},onFinish:()=>{ue.value=!1}})}catch(r){console.error("Error cancelling:",r),ue.value=!1}},mt=()=>{const r=i.appointment?.clinic?.phone||i.appointment?.owner?.phone||"";r&&window.open(`tel:${r}`)},ut=()=>{const r=encodeURIComponent(i.appointment?.clinic?.address||"");r&&window.open(`https://maps.google.com/?q=${r}`,"_blank")},ee=x(!0),V=x(null),ct=x(new Date),te=x(!1),se=x(!1),T=async()=>{if(!te.value){te.value=!0;try{_.reload({only:["appointment"],onSuccess:r=>{ct.value=new Date;const t=r.props.appointment;t&&i.appointment&&t.status!==i.appointment.status&&(se.value=!0,setTimeout(()=>{se.value=!1},5e3))},onError:r=>{console.error("Failed to refresh appointment:",r)},onFinish:()=>{te.value=!1}})}catch(r){console.error("Error refreshing appointment:",r),te.value=!1}}},Me=()=>{V.value&&clearInterval(V.value),V.value=window.setInterval(()=>{ee.value&&!document.hidden&&T()},3e4)},De=()=>{V.value&&(clearInterval(V.value),V.value=null)};xt(()=>{ee.value&&Me(),document.addEventListener("visibilitychange",()=>{document.hidden?De():ee.value&&(Me(),T())}),window.addEventListener("focus",()=>{ee.value&&T()}),h.value&&document.addEventListener("click",r=>{q.value&&(r.target.closest(".vet-dropdown-container")||ce())})}),bt(()=>{De()});const L=r=>{switch(r){case"pending":return{bgClass:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800",icon:Vt,iconColor:"text-yellow-500",titleColor:"text-yellow-900 dark:text-yellow-100",descColor:"text-yellow-700 dark:text-yellow-300"};case"scheduled":return{bgClass:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",titleColor:"text-green-900 dark:text-green-100",descColor:"text-green-700 dark:text-green-300",icon:ne,iconColor:"text-green-600 dark:text-green-400"};case"in_progress":return{bgClass:"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800",titleColor:"text-purple-900 dark:text-purple-100",descColor:"text-purple-700 dark:text-purple-300",icon:P,iconColor:"text-purple-600 dark:text-purple-400"};case"cancelled":return{bgClass:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",icon:ye,iconColor:"text-red-500",titleColor:"text-red-900 dark:text-red-100",descColor:"text-red-700 dark:text-red-300"};case"completed":return{bgClass:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",icon:Ue,iconColor:"text-green-500",titleColor:"text-green-900 dark:text-green-100",descColor:"text-green-700 dark:text-green-300"};default:return{bgClass:"bg-muted/50 border",icon:Ft,iconColor:"text-muted-foreground",titleColor:"text-foreground",descColor:"text-muted-foreground"}}},pt=r=>{switch(r){case"pending":return"text-yellow-600 dark:text-yellow-400";case"scheduled":return"text-blue-600 dark:text-blue-400";case"in_progress":return"text-orange-600 dark:text-orange-400";case"completed":return"text-green-600 dark:text-green-400";case"cancelled":return"text-red-600 dark:text-red-400";default:return"text-muted-foreground"}};return(r,t)=>(n(),l(U,null,[c(a(kt),{title:"Appointment Details"}),c(yt,{breadcrumbs:Ie},{default:gt(()=>[e("div",Pt,[e("div",It,[e("div",Nt,[t[20]||(t[20]=e("h1",{class:"text-base md:text-2xl font-semibold"},"Appointment Details",-1)),e("p",zt," Confirmation #"+o(s.appointment.confirmationNumber),1)]),se.value?(n(),l("div",Ot,[e("div",Yt,[e("div",qt,[c(a(P),{class:"h-4 w-4 md:h-5 md:w-5 text-blue-600 dark:text-blue-400"}),t[21]||(t[21]=e("p",{class:"text-xs md:text-sm font-medium text-blue-900 dark:text-blue-100"}," Appointment status has been updated ",-1))]),e("button",{onClick:t[0]||(t[0]=d=>se.value=!1),class:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200"},[...t[22]||(t[22]=[e("span",{class:"text-lg md:text-xl"},"Ã—",-1)])])])])):m("",!0),e("div",{class:E([L(s.appointment.status).bgClass,"rounded-lg p-2 md:p-4 border"])},[e("div",Bt,[(n(),oe(Ee(L(s.appointment.status).icon),{class:E([L(s.appointment.status).iconColor,"h-4 w-4 md:h-5 md:w-5 mr-2 md:mr-3"])},null,8,["class"])),e("div",null,[e("p",{class:E([L(s.appointment.status).titleColor,"text-sm md:text-base font-medium"])}," Appointment "+o(s.appointment.statusDisplay),3),e("p",{class:E([L(s.appointment.status).descColor,"text-xs md:text-sm"])},[s.appointment.status==="cancelled"?(n(),l("span",Ht," This appointment was cancelled ")):s.appointment.status==="completed"?(n(),l("span",Lt," This appointment was completed on "+o(s.appointment.date),1)):s.appointment.status==="pending"?(n(),l("span",Wt," Your appointment is awaiting clinic confirmation ")):s.appointment.status==="scheduled"?(n(),l("span",Gt," Your appointment is scheduled for "+o(s.appointment.date)+" at "+o(s.appointment.time),1)):(n(),l("span",Xt," Your appointment is scheduled for "+o(s.appointment.date)+" at "+o(s.appointment.time),1))],2)])])],2)]),e("div",Kt,[e("div",Jt,[e("nav",Qt,[(n(!0),l(U,null,W(Ne.value,d=>(n(),l("button",{key:d.id,onClick:R=>N.value=d.id,class:E(["whitespace-nowrap py-2 md:py-4 px-2 md:px-1 border-b-2 font-medium text-xs md:text-sm flex items-center gap-1.5 md:gap-2",N.value===d.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"])},[(n(),oe(Ee(d.icon),{class:"h-3 w-3 md:h-4 md:w-4"})),e("span",es,o(d.name),1)],10,Zt))),128))])]),e("div",ts,[N.value==="details"?(n(),l("div",ss,[e("div",os,[e("div",ns,[e("div",ls,[t[30]||(t[30]=e("h3",{class:"text-base md:text-lg font-semibold mb-3 md:mb-4"}," Appointment Information ",-1)),e("div",is,[e("div",as,[t[23]||(t[23]=e("span",{class:"text-xs md:text-sm text-muted-foreground"},"Date & Time:",-1)),e("span",ds,o(s.appointment.date)+" at "+o(s.appointment.time),1)]),e("div",rs,[t[24]||(t[24]=e("span",{class:"text-xs md:text-sm text-muted-foreground"},"Duration:",-1)),e("span",ms,o(s.appointment.duration),1)]),e("div",us,[t[25]||(t[25]=e("span",{class:"text-xs md:text-sm text-muted-foreground"},"Type:",-1)),e("span",cs,o(s.appointment.type),1)]),e("div",ps,[t[26]||(t[26]=e("span",{class:"text-xs md:text-sm text-muted-foreground"},"Status:",-1)),e("span",{class:E(["text-xs md:text-sm font-medium",pt(s.appointment.status)])},o(s.appointment.statusDisplay),3)]),s.appointment.estimatedCost?(n(),l("div",xs,[t[27]||(t[27]=e("span",{class:"text-xs md:text-sm text-muted-foreground"},"Estimated Cost:",-1)),e("span",bs,o(s.appointment.estimatedCost),1)])):m("",!0),s.appointment.actualCost?(n(),l("div",gs,[t[28]||(t[28]=e("span",{class:"text-xs md:text-sm text-muted-foreground"},"Actual Cost:",-1)),e("span",fs,o(s.appointment.actualCost),1)])):m("",!0)]),e("div",vs,[t[29]||(t[29]=e("h4",{class:"text-xs md:text-sm font-medium mb-2"},"Services Included",-1)),e("div",ys,[s.appointment.service?(n(),l("span",hs,o(s.appointment.service.name),1)):(n(),l("span",ws,o(s.appointment.type),1))])])]),e("div",ks,[e("h3",Cs,[c(a(Rt),{class:"h-4 w-4 md:h-5 md:w-5 text-primary"}),t[31]||(t[31]=u(" Pet Information ",-1))]),e("div",Rs,[e("h4",_s,o(s.appointment.pet.name),1),e("div",As,[e("div",Ss,[t[32]||(t[32]=e("span",{class:"text-muted-foreground"},"Type:",-1)),e("span",Ms,o(s.appointment.pet.type),1)]),e("div",Ds,[t[33]||(t[33]=e("span",{class:"text-muted-foreground"},"Breed:",-1)),e("span",js,o(s.appointment.pet.breed),1)]),e("div",Es,[t[34]||(t[34]=e("span",{class:"text-muted-foreground"},"Age:",-1)),e("span",Fs,o(s.appointment.pet.age),1)]),s.appointment.pet.weight?(n(),l("div",Vs,[t[35]||(t[35]=e("span",{class:"text-muted-foreground"},"Weight:",-1)),e("span",Ts,o(s.appointment.pet.weight)+" kg",1)])):m("",!0)])])])]),e("div",Us,[M.value?(n(),l("div",$s,[t[39]||(t[39]=e("h3",{class:"text-base md:text-lg font-semibold mb-3 md:mb-4"}," Clinic Information ",-1)),e("div",Ps,[e("h4",Is,o(s.appointment.clinic.name),1),e("p",Ns,o(s.appointment.clinic.address),1),e("p",zs,o(s.appointment.clinic.phone),1),e("div",Os,[e("button",{onClick:mt,class:"flex-1 bg-green-600 text-white py-2 px-3 rounded-md hover:bg-green-700 text-xs md:text-sm font-medium flex items-center justify-center gap-1.5 md:gap-2"},[c(a(Te),{class:"h-3 w-3 md:h-4 md:w-4"}),t[36]||(t[36]=u(" Call Clinic ",-1))]),e("button",{onClick:ut,class:"flex-1 border py-2 px-3 rounded-md hover:bg-muted text-xs md:text-sm font-medium flex items-center justify-center gap-1.5 md:gap-2"},[c(a(_t),{class:"h-3 w-3 md:h-4 md:w-4"}),t[37]||(t[37]=u(" Get Directions ",-1))])])]),e("div",Ys,[e("h4",qs,o(s.appointment.veterinarian?.name||"To Be Assigned"),1),t[38]||(t[38]=e("p",{class:"text-xs md:text-sm text-primary/80 mb-2"}," Veterinarian ",-1)),e("p",Bs,o(s.appointment.veterinarian?.specializations||"Specializes in small animal care and preventive medicine"),1)])])):h.value?(n(),l("div",Hs,[t[45]||(t[45]=e("h3",{class:"text-base md:text-lg font-semibold mb-3 md:mb-4"}," Owner Information ",-1)),e("div",Ls,[e("h4",Ws,o(s.appointment.owner.name),1),e("p",Gs,o(s.appointment.owner.email),1),e("p",Xs,o(s.appointment.owner.phone),1),e("button",{onClick:Xe,class:"w-full bg-green-600 text-white py-2 px-3 rounded-md hover:bg-green-700 text-xs md:text-sm font-medium flex items-center justify-center gap-1.5 md:gap-2"},[c(a(Te),{class:"h-3 w-3 md:h-4 md:w-4"}),t[40]||(t[40]=u(" Call Owner ",-1))])]),e("div",Ks,[e("h4",Js,o(s.appointment.clinic.name),1),e("div",Qs,[e("div",Zs,[t[43]||(t[43]=e("label",{class:"text-sm font-medium text-primary/80"},"Assigned Veterinarian",-1)),s.appointment.veterinarian&&!X.value?(n(),l("div",eo,[e("button",{onClick:ve(Je,["stop"]),class:"p-1 hover:bg-primary/20 rounded"},[c(a(At),{class:"h-4 w-4"})]),q.value?(n(),l("div",to,[e("button",{onClick:Qe,class:"w-full px-4 py-2 text-left hover:bg-muted flex items-center gap-2"},[c(a(St),{class:"h-4 w-4"}),t[41]||(t[41]=u(" Change Veterinarian ",-1))]),e("button",{onClick:Ze,class:"w-full px-4 py-2 text-left hover:bg-muted flex items-center gap-2 text-red-600"},[c(a(Mt),{class:"h-4 w-4"}),t[42]||(t[42]=u(" Remove Assignment ",-1))])])):m("",!0)])):m("",!0)]),!s.appointment.veterinarian&&!X.value&&s.availableVeterinarians.length>0?(n(),l("div",so,[f(e("select",{"onUpdate:modelValue":t[1]||(t[1]=d=>a(j).veterinarian_id=d),onChange:Ke,class:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary text-sm bg-background"},[t[44]||(t[44]=e("option",{value:null},"Select a veterinarian...",-1)),(n(!0),l(U,null,W(s.availableVeterinarians,d=>(n(),l("option",{key:d.id,value:d.id},o(d.name)+" "+o(d.license_number?`(${d.license_number})`:""),9,oo))),128))],544),[[ft,a(j).veterinarian_id]])])):s.appointment.veterinarian?(n(),l("div",no,[e("p",lo,o(s.appointment.veterinarian.name),1),e("p",io,o(s.appointment.veterinarian.specializations||"Veterinarian"),1),s.appointment.veterinarian.license_number?(n(),l("p",ao," License: "+o(s.appointment.veterinarian.license_number),1)):m("",!0)])):(n(),l("p",ro,o(s.availableVeterinarians.length>0?"Assign a veterinarian to this appointment":"No veterinarians available"),1))])])])):m("",!0)])]),e("div",mo,[t[46]||(t[46]=e("h4",{class:"text-sm font-medium mb-2"},"Reason for Visit",-1)),e("p",uo,o(s.appointment.reason||"No reason provided"),1)]),M.value&&s.appointment.status==="pending"?(n(),l("div",co,[e("button",{onClick:Ce,class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 text-sm font-medium"}," Reschedule Appointment "),e("button",{onClick:_e,class:"px-4 py-2 border border-red-500 text-red-600 rounded-md hover:bg-red-50 dark:hover:bg-red-950 text-sm font-medium"}," Cancel Appointment ")])):m("",!0),M.value&&s.appointment.status==="scheduled"&&s.appointment.can_owner_reschedule_or_cancel&&s.appointment.confirmation_window_ends_at?(n(),l("div",po,[e("div",xo,[c(a(P),{class:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e("div",bo,[t[47]||(t[47]=e("p",{class:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-1"}," 24-Hour Window Active ",-1)),e("p",go," You can reschedule or cancel this appointment until "+o(s.appointment.confirmation_window_ends_at),1),e("div",{class:"flex gap-2 mt-3"},[e("button",{onClick:Ce,class:"px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-xs font-medium"}," Reschedule "),e("button",{onClick:_e,class:"px-3 py-1.5 border border-blue-600 text-blue-600 dark:text-blue-400 rounded-md hover:bg-blue-50 dark:hover:bg-blue-950 text-xs font-medium"}," Cancel ")])])])])):m("",!0),h.value&&!X.value?(n(),l("div",fo,[e("div",vo,[le.value?(n(),l("button",{key:0,onClick:Ye,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium"}," Confirm Appointment ")):m("",!0),le.value||ie.value?(n(),l("button",{key:1,onClick:it,class:"px-4 py-2 border border-blue-500 text-blue-600 dark:text-blue-400 rounded-md hover:bg-blue-50 dark:hover:bg-blue-950 text-sm font-medium flex items-center gap-2"},[c(a(ne),{class:"h-4 w-4"}),t[48]||(t[48]=u(" Reschedule ",-1))])):m("",!0),le.value||ie.value?(n(),l("button",{key:2,onClick:dt,class:"px-4 py-2 border border-red-500 text-red-600 dark:text-red-400 rounded-md hover:bg-red-50 dark:hover:bg-red-950 text-sm font-medium flex items-center gap-2"},[c(a(ye),{class:"h-4 w-4"}),t[49]||(t[49]=u(" Cancel ",-1))])):m("",!0),ie.value?(n(),l("button",{key:3,onClick:Le,class:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 text-sm font-medium"}," Start Appointment ")):m("",!0),we.value?(n(),l("button",{key:4,onClick:Be,class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-sm font-medium"}," No Show ")):m("",!0),we.value?(n(),l("button",{key:5,onClick:We,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-medium"}," Complete & Add Record ")):m("",!0)])])):m("",!0),h.value&&!M.value&&s.appointment.status==="completed"&&s.appointment.can_create_follow_up?(n(),l("div",yo,[e("div",ho,[e("button",{type:"button",onClick:nt,class:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-sm font-medium flex items-center gap-2"},[c(a(Dt),{class:"h-4 w-4"}),t[50]||(t[50]=u(" Schedule Follow-Up Appointment ",-1))])])])):m("",!0),s.appointment.status==="completed"?(n(),l("div",wo,[c(a(Ue),{class:"h-5 w-5 text-green-600 dark:text-green-400"}),t[51]||(t[51]=e("span",{class:"text-sm text-muted-foreground"}," This appointment has been completed. ",-1))])):m("",!0),M.value&&s.appointment.status==="completed"?(n(),l("div",ko,[!s.hasRating&&!H.value?(n(),l("div",Co,[e("div",Ro,[e("div",_o,[c(a(G),{class:"h-5 w-5 text-yellow-500"}),e("div",null,[t[52]||(t[52]=e("p",{class:"text-sm font-medium text-blue-900 dark:text-blue-100"}," Rate Your Experience ",-1)),e("p",Ao," Help others by sharing your experience with "+o(s.appointment.clinic.name),1)])]),e("button",{onClick:st,class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 text-sm font-medium flex items-center gap-2"},[c(a(G),{class:"h-4 w-4"}),t[53]||(t[53]=u(" Rate Now ",-1))])])])):m("",!0),s.clinicRating&&!H.value?(n(),l("div",So,[e("div",Mo,[e("div",null,[t[54]||(t[54]=e("div",{class:"flex items-center gap-2 mb-2"},[e("span",{class:"bg-blue-500/20 text-blue-700 dark:text-blue-300 text-xs font-medium px-2 py-1 rounded"},"Your Rating")],-1)),e("div",Do,[e("div",jo,[(n(!0),l(U,null,W(s.clinicRating.rating,d=>(n(),oe(a(G),{key:`filled-${d}`,class:"h-4 w-4 fill-yellow-400"}))),128)),(n(!0),l(U,null,W(5-s.clinicRating.rating,d=>(n(),oe(a(G),{key:`empty-${d}`,class:"h-4 w-4"}))),128))]),e("span",Eo,o(s.clinicRating.created_at),1)])])]),s.clinicRating.comment?(n(),l("p",Fo,o(s.clinicRating.comment),1)):(n(),l("p",Vo,"No comment provided"))])):m("",!0),H.value?(n(),l("div",To,[e("div",Uo,[t[55]||(t[55]=e("h4",{class:"text-lg font-semibold"},"Rate Your Experience",-1)),e("button",{onClick:xe,class:"text-muted-foreground hover:text-foreground"},[c(a(I),{class:"h-5 w-5"})])]),e("form",{onSubmit:ve(ot,["prevent"])},[e("div",$o,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium mb-2"},"Rating",-1)),e("div",Po,[(n(),l(U,null,W(5,d=>e("button",{key:d,type:"button",onClick:R=>a(v).rating=d,class:"text-3xl transition-colors focus:outline-none hover:scale-110"},[c(a(G),{class:E(d<=a(v).rating?"text-yellow-400 fill-yellow-400":"text-gray-300 dark:text-gray-600")},null,8,["class"])],8,Io)),64))])]),e("div",No,[t[57]||(t[57]=e("label",{class:"block text-sm font-medium mb-2"},"Comment (Optional)",-1)),f(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=d=>a(v).comment=d),rows:"4",maxlength:"1000",placeholder:"Share your experience at {{ appointment.clinic.name }}...",class:"w-full border border-input bg-background rounded-lg px-4 py-2 text-sm placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 resize-none"},"                                        ",512),[[y,a(v).comment]]),e("div",zo,o(a(v).comment?.length||0)+" / 1000 ",1)]),e("div",Oo,[e("button",{type:"submit",disabled:a(v).processing,class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},[c(a(jt),{class:"h-4 w-4"}),t[58]||(t[58]=u(" Submit Rating ",-1))],8,Yo),e("button",{type:"button",onClick:xe,class:"px-4 py-2 border rounded-md hover:bg-muted text-sm font-medium"}," Cancel ")]),a(v).errors.rating||a(v).errors.comment?(n(),l("div",qo,[a(v).errors.rating?(n(),l("p",Bo,o(a(v).errors.rating),1)):m("",!0),a(v).errors.comment?(n(),l("p",Ho,o(a(v).errors.comment),1)):m("",!0)])):m("",!0)],32)])):m("",!0)])):s.appointment.status==="cancelled"?(n(),l("div",Lo,[c(a(ye),{class:"h-5 w-5 text-red-600 dark:text-red-400"}),t[59]||(t[59]=e("span",{class:"text-sm text-muted-foreground"}," This appointment has been cancelled. ",-1))])):m("",!0)])):m("",!0),N.value==="medical"?(n(),l("div",Wo,[e("div",Go,[e("div",Xo,[t[61]||(t[61]=e("h3",{class:"text-lg font-semibold"},"Medical Record Summary",-1)),e("span",Ko,[c(a(Et),{class:"h-3 w-3"}),t[60]||(t[60]=u(" View Only ",-1))])]),s.medicalRecord?(n(),l("div",Jo,[e("div",Qo,[t[66]||(t[66]=e("h4",{class:"text-sm font-semibold mb-2 text-muted-foreground"},"Record Information",-1)),e("div",Zo,[e("div",null,[t[62]||(t[62]=e("span",{class:"text-muted-foreground"},"Title:",-1)),e("p",en,o(s.medicalRecord.title),1)]),e("div",null,[t[63]||(t[63]=e("span",{class:"text-muted-foreground"},"Date:",-1)),e("p",tn,o(s.medicalRecord.date),1)]),e("div",null,[t[64]||(t[64]=e("span",{class:"text-muted-foreground"},"Veterinarian:",-1)),e("p",sn,o(s.medicalRecord.veterinarian),1)]),s.medicalRecord.follow_up_date?(n(),l("div",on,[t[65]||(t[65]=e("span",{class:"text-muted-foreground"},"Follow-up:",-1)),e("p",nn,o(s.medicalRecord.follow_up_date),1)])):m("",!0)])]),e("div",ln,[t[67]||(t[67]=e("h4",{class:"text-sm font-semibold mb-2 text-muted-foreground"},"Diagnosis",-1)),e("p",an,o(s.medicalRecord.description||"No diagnosis recorded"),1)]),e("div",dn,[t[68]||(t[68]=e("h4",{class:"text-sm font-semibold mb-2 text-muted-foreground"},"Treatment Plan",-1)),e("p",rn,o(s.medicalRecord.treatment||"No treatment plan recorded"),1)]),e("div",mn,[t[69]||(t[69]=e("h4",{class:"text-sm font-semibold mb-2 text-muted-foreground"},"Prescriptions",-1)),e("p",un,o(s.medicalRecord.medication||"No prescriptions recorded"),1)]),s.medicalRecord.notes?(n(),l("div",cn,[t[70]||(t[70]=e("h4",{class:"text-sm font-semibold mb-2 text-muted-foreground"},"Clinical Notes",-1)),e("p",pn,o(s.medicalRecord.notes),1)])):m("",!0)])):(n(),l("div",xn,[c(a(Ve),{class:"h-16 w-16 mx-auto mb-4 opacity-30 text-muted-foreground"}),t[71]||(t[71]=e("p",{class:"text-lg font-medium mb-2 text-foreground"},"No Medical Record Yet",-1)),t[72]||(t[72]=e("p",{class:"text-sm text-muted-foreground"}," A medical record will be automatically created when the appointment is completed. ",-1))])),e("div",bn,[e("div",gn,[c(a($e),{class:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),e("div",null,[e("p",fn,o(h.value?"Medical Record Management":"Medical records are managed by the clinic"),1),e("p",vn,o(h.value?s.medicalRecord?"To update this medical record, go to Patient Records and use the Add/Edit Medical Record form. Only fields relevant to the selected record type will be saved.":"Medical records can be added through the Patient Records section using the Add Medical Record form after completing the appointment.":s.medicalRecord?"This is a summary view. For detailed medical history, clinics maintain complete patient records.":"Medical records will be added by the clinic after your appointment is completed."),1)])])]),s.appointment.isDisputed?(n(),l("div",yn,[e("div",hn,[c(a(P),{class:"h-5 w-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),e("div",wn,[t[73]||(t[73]=e("p",{class:"text-sm text-yellow-900 dark:text-yellow-100 font-medium mb-1"},"Record Disputed",-1)),e("p",kn," Disputed on "+o(s.appointment.disputedAt),1),e("p",Cn,o(s.appointment.disputeReason),1)])])])):m("",!0),M.value&&s.appointment.canBeDisputed&&s.appointment.disputeHoursRemaining?(n(),l("div",Rn,[e("div",_n,[e("div",An,[c(a($e),{class:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e("div",null,[t[74]||(t[74]=e("p",{class:"text-sm text-blue-900 dark:text-blue-100 font-medium mb-1"}," Review Medical Record ",-1)),e("p",Sn," You have "+o(s.appointment.disputeHoursRemaining)+" hours remaining to review and dispute this medical record if there are any inaccuracies. ",1),e("p",Mn," Dispute window ends: "+o(s.appointment.disputeWindowEndsAt),1)])]),e("button",{onClick:et,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium whitespace-nowrap"}," Report Issue ")])])):m("",!0)])])):m("",!0)])])]),pe.value?(n(),l("div",Dn,[e("div",jn,[e("div",En,[t[76]||(t[76]=e("h3",{class:"text-lg font-semibold mb-4"},"Report Medical Record Issue",-1)),t[77]||(t[77]=e("p",{class:"text-sm text-muted-foreground mb-4"}," Please describe any inaccuracies or concerns with the medical record. The clinic will review your report and make necessary corrections. ",-1)),e("form",{onSubmit:ve(tt,["prevent"])},[e("div",Fn,[t[75]||(t[75]=e("label",{for:"reason",class:"block text-sm font-medium mb-2"},[u(" Issue Description "),e("span",{class:"text-red-500"},"*")],-1)),f(e("textarea",{id:"reason","onUpdate:modelValue":t[3]||(t[3]=d=>a(w).reason=d),rows:"5",required:"",maxlength:"1000",class:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary resize-none",placeholder:"Describe the issue with the medical record..."},null,512),[[y,a(w).reason]]),e("div",Vn,[a(w).errors.reason?(n(),l("span",Tn,o(a(w).errors.reason),1)):m("",!0),e("span",Un,o(a(w).reason.length)+"/1000 ",1)])]),e("div",$n,[e("button",{type:"button",onClick:Se,disabled:a(w).processing,class:"px-4 py-2 border rounded-md hover:bg-muted disabled:opacity-50"}," Cancel ",8,Pn),e("button",{type:"submit",disabled:a(w).processing||!a(w).reason,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2"},[a(w).processing?(n(),l("span",Nn,"Submitting...")):(n(),l("span",zn,"Submit Report"))],8,In)])],32)])])])):m("",!0),h.value&&z.value?(n(),l("div",On,[e("div",Yn,[e("div",qn,[t[79]||(t[79]=e("div",{class:"flex items-center gap-3"},[e("span",{class:"text-3xl"},"ðŸ“‹"),e("h2",{class:"text-xl font-semibold"},"Medical Record")],-1)),e("button",{onClick:t[4]||(t[4]=d=>z.value=!1),class:"text-muted-foreground hover:text-foreground"},[...t[78]||(t[78]=[e("span",{class:"text-2xl"},"Ã—",-1)])])]),e("div",Bn,[t[81]||(t[81]=e("div",{class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6"},[e("p",{class:"text-sm text-blue-900 dark:text-blue-100"}," Complete this medical record to mark the appointment as completed. ")],-1)),c($t,{form:a(B)},null,8,["form"]),e("p",Hn,[c(a(P),{class:"h-4 w-4"}),t[80]||(t[80]=u(" This record will be permanently saved and cannot be deleted, only edited within 24 hours. ",-1))])]),e("div",Ln,[e("button",{onClick:t[5]||(t[5]=d=>z.value=!1),disabled:a(B).processing,class:"btn btn-outline flex-1"}," Cancel ",8,Wn),e("button",{onClick:Ge,disabled:a(B).processing||!ke.value,class:"btn btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed"}," Complete Appointment ",8,Gn)])])])):m("",!0),h.value&&O.value?(n(),l("div",Xn,[e("div",Kn,[e("div",Jn,[t[83]||(t[83]=e("h2",{class:"text-xl font-semibold"},"Confirm Appointment",-1)),e("button",{onClick:t[6]||(t[6]=d=>O.value=!1),class:"text-muted-foreground hover:text-foreground"},[...t[82]||(t[82]=[e("span",{class:"text-2xl"},"Ã—",-1)])])]),e("div",Qn,[t[84]||(t[84]=e("p",{class:"text-muted-foreground mb-4"}," Confirm this pending appointment to move it to scheduled status? ",-1)),e("div",Zn,[e("p",el,o(s.appointment.pet.name),1),e("p",tl,o(s.appointment.date)+" at "+o(s.appointment.time),1),e("p",sl,"Owner: "+o(s.appointment.owner.name),1)])]),e("div",ol,[e("button",{onClick:t[7]||(t[7]=d=>O.value=!1),class:"flex-1 px-4 py-2 border rounded-md hover:bg-muted text-sm font-medium"}," Cancel "),e("button",{onClick:qe,class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium"}," Confirm Appointment ")])])])):m("",!0),Q.value?(n(),l("div",nl,[e("div",ll,[e("div",il,[e("div",al,[e("h2",dl,[c(a(P),{class:"h-5 w-5 text-red-500"}),t[85]||(t[85]=u(" Cancel Appointment ",-1))]),e("button",{onClick:Ae,class:"text-muted-foreground hover:text-foreground"},[c(a(I),{class:"h-5 w-5"})])]),e("div",rl,[t[91]||(t[91]=e("p",{class:"text-muted-foreground"}," Are you sure you want to cancel this appointment? This action cannot be undone. ",-1)),e("div",ml,[t[89]||(t[89]=e("p",{class:"text-sm font-medium text-yellow-900 dark:text-yellow-100 mb-2"},"Appointment Details:",-1)),e("div",ul,[e("p",null,[t[86]||(t[86]=e("strong",null,"Pet:",-1)),u(" "+o(s.appointment.pet.name),1)]),e("p",null,[t[87]||(t[87]=e("strong",null,"Date & Time:",-1)),u(" "+o(s.appointment.date)+" at "+o(s.appointment.time),1)]),e("p",null,[t[88]||(t[88]=e("strong",null,"Clinic:",-1)),u(" "+o(s.appointment.clinic.name),1)])])]),e("div",null,[t[90]||(t[90]=e("label",{class:"block text-sm font-medium text-foreground mb-2"}," Reason for Cancellation (Optional) ",-1)),f(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=d=>a(A).cancellation_reason=d),rows:"3",class:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent resize-none",placeholder:"Please let us know why you're canceling..."},null,512),[[y,a(A).cancellation_reason]])]),t[92]||(t[92]=e("p",{class:"text-xs text-muted-foreground"}," Note: You may be able to rebook another appointment after cancellation. ",-1))]),e("div",cl,[e("button",{onClick:Ae,disabled:a(A).processing,class:"flex-1 px-4 py-2 border rounded-md hover:bg-muted text-sm font-medium disabled:opacity-50"}," Keep Appointment ",8,pl),e("button",{onClick:Oe,disabled:a(A).processing,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm font-medium disabled:opacity-50 flex items-center justify-center gap-2"},[a(A).processing?(n(),l("span",bl,"Canceling...")):(n(),l("span",gl,"Yes, Cancel Appointment"))],8,xl)])])])])):m("",!0),Z.value?(n(),l("div",fl,[e("div",vl,[e("div",yl,[e("div",hl,[e("h2",wl,[c(a(ne),{class:"h-5 w-5 text-blue-500"}),t[93]||(t[93]=u(" Reschedule Appointment ",-1))]),e("button",{onClick:Re,class:"text-muted-foreground hover:text-foreground"},[c(a(I),{class:"h-5 w-5"})])]),e("div",kl,[t[99]||(t[99]=e("p",{class:"text-muted-foreground"}," You're about to reschedule this appointment. You'll be able to select a new date and time on the next page. ",-1)),e("div",Cl,[t[98]||(t[98]=e("p",{class:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2"},"Current Appointment:",-1)),e("div",Rl,[e("p",null,[t[94]||(t[94]=e("strong",null,"Pet:",-1)),u(" "+o(s.appointment.pet.name),1)]),e("p",null,[t[95]||(t[95]=e("strong",null,"Date & Time:",-1)),u(" "+o(s.appointment.date)+" at "+o(s.appointment.time),1)]),e("p",null,[t[96]||(t[96]=e("strong",null,"Clinic:",-1)),u(" "+o(s.appointment.clinic.name),1)]),s.appointment.service?(n(),l("p",_l,[t[97]||(t[97]=e("strong",null,"Service:",-1)),u(" "+o(s.appointment.service.name),1)])):m("",!0)])]),t[100]||(t[100]=e("div",{class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3"},[e("p",{class:"text-xs text-yellow-800 dark:text-yellow-200"},[u(" ðŸ’¡ "),e("strong",null,"Tip:"),u(" Make sure to choose a time that works best for both you and your pet! ")])],-1))]),e("div",Al,[e("button",{onClick:Re,class:"flex-1 px-4 py-2 border rounded-md hover:bg-muted text-sm font-medium"}," Cancel "),e("button",{onClick:ze,class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium flex items-center justify-center gap-2"},[c(a(ne),{class:"h-4 w-4"}),t[101]||(t[101]=u(" Continue to Reschedule ",-1))])])])])])):m("",!0),h.value&&Y.value?(n(),l("div",Sl,[e("div",Ml,[e("div",Dl,[t[103]||(t[103]=e("h2",{class:"text-xl font-semibold"},"Mark as No Show",-1)),e("button",{onClick:t[9]||(t[9]=d=>Y.value=!1),class:"text-muted-foreground hover:text-foreground"},[...t[102]||(t[102]=[e("span",{class:"text-2xl"},"Ã—",-1)])])]),e("div",jl,[t[105]||(t[105]=e("p",{class:"text-muted-foreground mb-4"}," Mark this appointment as no-show because the patient did not arrive? ",-1)),e("div",El,[e("p",Fl,o(s.appointment.pet.name),1),e("p",Vl,o(s.appointment.date)+" at "+o(s.appointment.time),1),e("p",Tl,"Owner: "+o(s.appointment.owner.name),1)]),e("div",null,[t[104]||(t[104]=e("label",{class:"block text-sm font-medium mb-2"},"Reason (Optional)",-1)),f(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=d=>K.value=d),class:"w-full px-3 py-2 border rounded-md bg-background text-foreground",rows:"3",placeholder:"Additional notes about the no-show..."},null,512),[[y,K.value]])])]),e("div",Ul,[e("button",{onClick:t[11]||(t[11]=d=>Y.value=!1),class:"flex-1 px-4 py-2 border rounded-md hover:bg-muted text-sm font-medium"}," Cancel "),e("button",{onClick:He,class:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-sm font-medium"}," Mark as No Show ")])])])):m("",!0),ae.value?(n(),l("div",$l,[e("div",Pl,[e("div",Il,[t[106]||(t[106]=e("h2",{class:"text-xl font-bold"},"Schedule Follow-Up Appointment",-1)),e("button",{onClick:be,class:"text-muted-foreground hover:text-foreground"},[c(a(I),{class:"h-5 w-5"})])]),e("div",Nl,[e("p",zl,[t[107]||(t[107]=u(" Schedule a follow-up appointment for ",-1)),e("strong",null,o(s.appointment.pet.name),1),t[108]||(t[108]=u(" with the same service and veterinarian. ",-1))]),e("div",null,[t[109]||(t[109]=e("label",{class:"block text-sm font-medium mb-2"},[u("Follow-Up Date "),e("span",{class:"text-destructive"},"*")],-1)),f(e("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=d=>b.value.follow_up_date=d),min:new Date().toISOString().split("T")[0],class:"w-full px-3 py-2 border rounded-md bg-background text-foreground",required:""},null,8,Ol),[[y,b.value.follow_up_date]])]),e("div",null,[t[110]||(t[110]=e("label",{class:"block text-sm font-medium mb-2"},[u("Follow-Up Time "),e("span",{class:"text-destructive"},"*")],-1)),f(e("input",{type:"time","onUpdate:modelValue":t[13]||(t[13]=d=>b.value.follow_up_time=d),class:"w-full px-3 py-2 border rounded-md bg-background text-foreground",required:""},null,512),[[y,b.value.follow_up_time]]),t[111]||(t[111]=e("p",{class:"text-xs text-muted-foreground mt-1"},"Check clinic operating hours",-1))]),e("div",null,[t[112]||(t[112]=e("label",{class:"block text-sm font-medium mb-2"},"Reason for Follow-Up",-1)),f(e("textarea",{"onUpdate:modelValue":t[14]||(t[14]=d=>b.value.reason=d),class:"w-full px-3 py-2 border rounded-md bg-background text-foreground",rows:"3",placeholder:"Why is this follow-up needed?",maxlength:"500"},null,512),[[y,b.value.reason]])]),e("div",null,[t[113]||(t[113]=e("label",{class:"block text-sm font-medium mb-2"},"Additional Notes",-1)),f(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=d=>b.value.notes=d),class:"w-full px-3 py-2 border rounded-md bg-background text-foreground",rows:"2",placeholder:"Any additional details...",maxlength:"1000"},null,512),[[y,b.value.notes]])])]),e("div",Yl,[e("button",{type:"button",onClick:be,class:"flex-1 px-4 py-2 border rounded-md hover:bg-muted text-sm font-medium",disabled:F.value}," Cancel ",8,ql),e("button",{type:"button",onClick:lt,class:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 text-sm font-medium disabled:opacity-50",disabled:F.value||!b.value.follow_up_date||!b.value.follow_up_time},o(F.value?"Scheduling...":"Schedule Follow-Up"),9,Bl)])])])):m("",!0),de.value?(n(),l("div",Hl,[e("div",Ll,[e("div",Wl,[t[114]||(t[114]=e("h2",{class:"text-xl font-bold"},"Reschedule Appointment",-1)),e("button",{onClick:ge,class:"text-muted-foreground hover:text-foreground"},[c(a(I),{class:"h-5 w-5"})])]),e("div",Gl,[e("p",Xl,[t[115]||(t[115]=u(" Reschedule appointment for ",-1)),e("strong",null,o(s.appointment.pet.name),1),t[116]||(t[116]=u(" with ",-1)),e("strong",null,o(s.appointment.owner.name),1),t[117]||(t[117]=u(". ",-1))]),e("div",Kl,[t[118]||(t[118]=e("p",{class:"font-medium"},"Current Appointment",-1)),e("p",Jl,o(s.appointment.date)+" at "+o(s.appointment.time),1)]),e("div",null,[t[119]||(t[119]=e("label",{class:"block text-sm font-medium mb-2"},[u("New Date "),e("span",{class:"text-destructive"},"*")],-1)),f(e("input",{type:"date","onUpdate:modelValue":t[16]||(t[16]=d=>g.value.new_date=d),min:new Date().toISOString().split("T")[0],class:"w-full px-3 py-2 border rounded-md bg-background text-foreground",required:""},null,8,Ql),[[y,g.value.new_date]])]),e("div",null,[t[120]||(t[120]=e("label",{class:"block text-sm font-medium mb-2"},[u("New Time "),e("span",{class:"text-destructive"},"*")],-1)),f(e("input",{type:"time","onUpdate:modelValue":t[17]||(t[17]=d=>g.value.new_time=d),class:"w-full px-3 py-2 border rounded-md bg-background text-foreground",required:""},null,512),[[y,g.value.new_time]])]),e("div",null,[t[121]||(t[121]=e("label",{class:"block text-sm font-medium mb-2"},[u("Reason for Rescheduling "),e("span",{class:"text-destructive"},"*")],-1)),f(e("textarea",{"onUpdate:modelValue":t[18]||(t[18]=d=>g.value.reason=d),class:"w-full px-3 py-2 border rounded-md bg-background text-foreground",rows:"3",placeholder:"Explain why you are rescheduling this appointment...",maxlength:"500",required:""},null,512),[[y,g.value.reason]]),t[122]||(t[122]=e("p",{class:"text-xs text-muted-foreground mt-1"},"The owner will be notified of this change",-1))])]),e("div",Zl,[e("button",{onClick:ge,class:"flex-1 px-4 py-2 border rounded-md hover:bg-muted text-sm font-medium",disabled:r.isSubmittingClinicReschedule}," Cancel ",8,ei),e("button",{onClick:at,class:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 text-sm font-medium disabled:opacity-50",disabled:r.isSubmittingClinicReschedule||!g.value.new_date||!g.value.new_time||!g.value.reason},o(r.isSubmittingClinicReschedule?"Rescheduling...":"Reschedule Appointment"),9,ti)])])])):m("",!0),re.value?(n(),l("div",si,[e("div",oi,[e("div",ni,[t[123]||(t[123]=e("h2",{class:"text-xl font-bold text-destructive"},"Cancel Appointment",-1)),e("button",{onClick:fe,class:"text-muted-foreground hover:text-foreground"},[c(a(I),{class:"h-5 w-5"})])]),e("div",li,[e("p",ii,[t[124]||(t[124]=u(" Are you sure you want to cancel the appointment for ",-1)),e("strong",null,o(s.appointment.pet.name),1),t[125]||(t[125]=u(" with ",-1)),e("strong",null,o(s.appointment.owner.name),1),t[126]||(t[126]=u("? ",-1))]),e("div",ai,[t[127]||(t[127]=e("p",{class:"font-medium text-destructive"},"This action cannot be undone",-1)),e("p",di,o(s.appointment.date)+" at "+o(s.appointment.time),1)]),e("div",null,[t[128]||(t[128]=e("label",{class:"block text-sm font-medium mb-2"},[u("Reason for Cancellation "),e("span",{class:"text-destructive"},"*")],-1)),f(e("textarea",{"onUpdate:modelValue":t[19]||(t[19]=d=>D.value.reason=d),class:"w-full px-3 py-2 border rounded-md bg-background text-foreground",rows:"4",placeholder:"Explain why you are canceling this appointment...",maxlength:"500",required:""},null,512),[[y,D.value.reason]]),t[129]||(t[129]=e("p",{class:"text-xs text-muted-foreground mt-1"},"The owner will be notified immediately",-1))])]),e("div",ri,[e("button",{onClick:fe,class:"flex-1 px-4 py-2 border rounded-md hover:bg-muted text-sm font-medium",disabled:r.isSubmittingClinicCancel}," Keep Appointment ",8,mi),e("button",{onClick:rt,class:"flex-1 px-4 py-2 bg-destructive text-destructive-foreground rounded-md hover:bg-destructive/90 text-sm font-medium disabled:opacity-50",disabled:r.isSubmittingClinicCancel||!D.value.reason},o(r.isSubmittingClinicCancel?"Canceling...":"Cancel Appointment"),9,ui)])])])):m("",!0)]),_:1})],64))}}),Ci=Tt(ci,[["__scopeId","data-v-78c94af4"]]);export{Ci as default};
