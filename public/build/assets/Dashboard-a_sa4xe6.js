import{h as D,r as p}from"./inertia-vendor-BXJnWAhq.js";import{c as L}from"./admin-j62zy8g0.js";import{a as b,t as N,U as y}from"./ui-components-Dj0vw2vK.js";import{as as F,_ as $,$ as k,Y as f,C as B,U as T,t as V}from"./lucide-vendor-BUHJwLVO.js";import{d as j,b as d,e as a,i as l,u as i,w as c,h as t,a as r,g as o,j as x,t as n,n as v,F as z}from"./vue-vendor-DmxhFomr.js";import"./vendor-BqPpK9Aj.js";import"./leaflet-vendor-Do2TvcFZ.js";import"./utility-vendor-CjxovF-h.js";import"./ui-vendor-B7N-G3Ug.js";const M={class:"flex h-full flex-1 flex-col gap-4 md:gap-6 rounded-xl p-3 md:p-6"},R={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},Y={class:"rounded-lg border bg-card p-3 md:p-6"},E={class:"flex flex-col sm:flex-row sm:items-start justify-between gap-3 mb-3 md:mb-4"},H={class:"flex items-center gap-2 mb-1"},G={class:"text-base md:text-xl font-semibold"},I={class:"text-xl md:text-2xl font-bold text-primary"},W={class:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto"},X={key:0,class:"flex items-center gap-2 rounded-lg bg-blue-50 dark:bg-blue-950/20 p-2 md:p-3 mb-3 md:mb-4"},q={class:"flex-1"},J={class:"text-[10px] md:text-xs text-blue-700 dark:text-blue-300"},K={key:1,class:"flex items-center gap-2 rounded-lg bg-orange-50 dark:bg-orange-950/20 p-2 md:p-3 mb-3 md:mb-4"},O={class:"flex-1"},Q={class:"text-[10px] md:text-xs text-orange-700 dark:text-orange-300"},Z={class:"grid grid-cols-2 gap-3 md:gap-4 text-xs md:text-sm"},tt={class:"flex items-center gap-1.5 md:gap-2 mt-1"},st={class:"font-medium capitalize"},et={class:"font-medium mt-1"},it={class:"grid md:grid-cols-2 gap-4 md:gap-6"},at={class:"rounded-lg border bg-card p-3 md:p-6"},lt={class:"flex items-center gap-2 md:gap-3 mb-3 md:mb-4"},nt={class:"p-1.5 md:p-2 rounded-lg bg-primary/10"},dt={class:"flex-1"},ot={class:"text-xs md:text-sm text-muted-foreground"},mt={key:1,class:"h-2 rounded-full bg-primary/20"},rt={key:2,class:"text-[10px] md:text-xs text-muted-foreground mt-2"},ut={class:"rounded-lg border bg-card p-3 md:p-6"},ct={class:"flex items-center gap-2 md:gap-3 mb-3 md:mb-4"},xt={class:"p-1.5 md:p-2 rounded-lg bg-primary/10"},ft={class:"flex-1"},gt={class:"text-xs md:text-sm text-muted-foreground"},pt={key:1,class:"h-2 rounded-full bg-primary/20"},bt={key:2,class:"text-[10px] md:text-xs text-muted-foreground mt-2"},ht={class:"rounded-lg border bg-card p-3 md:p-6"},vt={class:"flex items-center gap-2 md:gap-3 mb-4 md:mb-6"},wt={class:"grid md:grid-cols-2 gap-3 md:gap-4"},_t={class:"flex items-start gap-2 md:gap-3"},yt={class:"flex-1"},kt={class:"text-[10px] md:text-xs text-muted-foreground"},Pt={class:"flex items-start gap-2 md:gap-3"},Ct={class:"flex-1"},At={class:"text-[10px] md:text-xs text-muted-foreground"},Ut={class:"flex items-start gap-2 md:gap-3"},St={class:"flex-1"},Dt={class:"text-[10px] md:text-xs text-muted-foreground"},Lt={class:"flex items-start gap-2 md:gap-3"},Nt={key:0,class:"mt-4 md:mt-6 pt-4 md:pt-6 border-t"},Ft={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},Et=j({__name:"Dashboard",props:{currentPlan:{},subscription:{},stats:{},usageLimits:{}},setup(e){const h=e,P=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(m),w=m=>m?new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",_=(m,s)=>s==="unlimited"||s===-1?0:Math.min(m/Number(s)*100,100),C=()=>h.subscription?.stripe_status==="trialing",g=()=>h.subscription?.ends_at!==null,u=()=>h.currentPlan?.slug==="pro-plus",A=()=>{confirm("Are you sure you want to cancel your subscription? You will still have access until the end of your billing period.")&&p.post("/subscription/cancel")},U=()=>{p.post("/subscription/resume")};return(m,s)=>(a(),d(z,null,[l(i(D),{title:"Subscription Dashboard"}),l(L,null,{default:c(()=>[t("div",M,[t("div",R,[s[3]||(s[3]=t("div",null,[t("h1",{class:"text-lg md:text-2xl font-semibold"},"Subscription Dashboard"),t("p",{class:"text-xs md:text-sm text-muted-foreground"},"Manage your clinic subscription and features")],-1)),u()?o("",!0):(a(),r(i(b),{key:0,onClick:s[0]||(s[0]=S=>i(p).visit("/subscription")),class:"w-full sm:w-auto"},{default:c(()=>[l(i(F),{class:"h-3 w-3 md:h-4 md:w-4 mr-2"}),s[2]||(s[2]=x(" Upgrade to Pro Plus ",-1))]),_:1}))]),t("div",Y,[t("div",E,[t("div",null,[t("div",H,[t("h2",G,n(e.currentPlan?.name||"Free Plan"),1),l(i(N),{variant:u()?"default":"secondary",class:"text-[10px] md:text-xs px-2"},{default:c(()=>[x(n(u()?"Pro Plus":"Basic"),1)]),_:1},8,["variant"])]),t("p",I,[x(n(e.currentPlan?P(e.currentPlan.price):"â‚±0")+" ",1),s[4]||(s[4]=t("span",{class:"text-xs md:text-sm font-normal text-muted-foreground"},"/month",-1))])]),t("div",W,[e.subscription&&!g()?(a(),r(i(b),{key:0,variant:"outline",size:"sm",onClick:A,class:"text-xs w-full sm:w-auto"},{default:c(()=>[...s[5]||(s[5]=[x(" Cancel Subscription ",-1)])]),_:1})):o("",!0),g()?(a(),r(i(b),{key:1,variant:"default",size:"sm",onClick:U,class:"text-xs w-full sm:w-auto"},{default:c(()=>[...s[6]||(s[6]=[x(" Resume Subscription ",-1)])]),_:1})):o("",!0)])]),C()?(a(),d("div",X,[l(i($),{class:"h-4 w-4 md:h-5 md:w-5 text-blue-600 dark:text-blue-400"}),t("div",q,[s[7]||(s[7]=t("p",{class:"text-xs md:text-sm font-medium text-blue-900 dark:text-blue-100"}," Trial Period Active ",-1)),t("p",J," Your trial ends on "+n(w(e.subscription?.trial_ends_at||null)),1)])])):o("",!0),g()?(a(),d("div",K,[l(i(k),{class:"h-4 w-4 md:h-5 md:w-5 text-orange-600 dark:text-orange-400"}),t("div",O,[s[8]||(s[8]=t("p",{class:"text-xs md:text-sm font-medium text-orange-900 dark:text-orange-100"}," Subscription Ending ",-1)),t("p",Q," Access continues until "+n(w(e.subscription?.ends_at||null)),1)])])):o("",!0),t("div",Z,[t("div",null,[s[9]||(s[9]=t("p",{class:"text-muted-foreground"},"Status",-1)),t("div",tt,[g()?(a(),r(i(k),{key:1,class:"h-3 w-3 md:h-4 md:w-4 text-orange-600"})):(a(),r(i(f),{key:0,class:"h-3 w-3 md:h-4 md:w-4 text-green-600"})),t("span",st,n(e.subscription?.stripe_status||"free"),1)])]),t("div",null,[s[10]||(s[10]=t("p",{class:"text-muted-foreground"},"Transaction Fee",-1)),t("p",et,n(e.stats.transaction_fee)+"%",1)])])]),t("div",it,[t("div",at,[t("div",lt,[t("div",nt,[l(i(B),{class:"h-4 w-4 md:h-5 md:w-5 text-primary"})]),t("div",dt,[s[11]||(s[11]=t("h3",{class:"text-sm md:text-base font-medium"},"Appointments This Month",-1)),t("p",ot,n(e.stats.appointments_this_month)+" of "+n(e.stats.appointments_limit===-1?"unlimited":e.stats.appointments_limit),1)])]),e.stats.appointments_limit!=="unlimited"&&e.stats.appointments_limit!==-1?(a(),r(y,{key:0,"model-value":_(e.stats.appointments_this_month,e.stats.appointments_limit),class:"h-2"},null,8,["model-value"])):(a(),d("div",mt)),!u()&&e.stats.appointments_limit!=="unlimited"?(a(),d("p",rt," Upgrade to Pro Plus for unlimited appointments ")):o("",!0)]),t("div",ut,[t("div",ct,[t("div",xt,[l(i(T),{class:"h-4 w-4 md:h-5 md:w-5 text-primary"})]),t("div",ft,[s[12]||(s[12]=t("h3",{class:"text-sm md:text-base font-medium"},"Staff Accounts",-1)),t("p",gt,n(e.stats.staff_count)+" of "+n(e.stats.staff_limit===-1?"unlimited":e.stats.staff_limit),1)])]),e.stats.staff_limit!=="unlimited"&&e.stats.staff_limit!==-1?(a(),r(y,{key:0,"model-value":_(e.stats.staff_count,e.stats.staff_limit),class:"h-2"},null,8,["model-value"])):(a(),d("div",pt)),!u()&&e.stats.staff_limit!=="unlimited"?(a(),d("p",bt," Upgrade to Pro Plus for multiple staff accounts ")):o("",!0)])]),t("div",ht,[t("div",vt,[l(i(V),{class:"h-4 w-4 md:h-5 md:w-5 text-primary"}),s[13]||(s[13]=t("h3",{class:"text-sm md:text-base font-semibold"},"Feature Access",-1))]),t("div",wt,[t("div",_t,[l(i(f),{class:v([e.usageLimits.reports?"text-green-600":"text-muted-foreground","h-4 w-4 md:h-5 md:w-5 mt-0.5 flex-shrink-0"])},null,8,["class"]),t("div",yt,[s[14]||(s[14]=t("p",{class:"text-xs md:text-sm font-medium"},"Report Generation",-1)),t("p",kt,n(e.usageLimits.reports?"Available":"Pro Plus only"),1)])]),t("div",Pt,[l(i(f),{class:v([e.usageLimits.analytics?"text-green-600":"text-muted-foreground","h-4 w-4 md:h-5 md:w-5 mt-0.5 flex-shrink-0"])},null,8,["class"]),t("div",Ct,[s[15]||(s[15]=t("p",{class:"text-xs md:text-sm font-medium"},"Analytics Dashboard",-1)),t("p",At,n(e.usageLimits.analytics?"Available":"Pro Plus only"),1)])]),t("div",Ut,[l(i(f),{class:v([e.usageLimits.multiple_vets?"text-green-600":"text-muted-foreground","h-4 w-4 md:h-5 md:w-5 mt-0.5 flex-shrink-0"])},null,8,["class"]),t("div",St,[s[16]||(s[16]=t("p",{class:"text-xs md:text-sm font-medium"},"Multiple Veterinarians",-1)),t("p",Dt,n(e.usageLimits.multiple_vets?"Available":"Pro Plus only"),1)])]),t("div",Lt,[l(i(f),{class:"h-4 w-4 md:h-5 md:w-5 mt-0.5 text-green-600 flex-shrink-0"}),s[17]||(s[17]=t("div",{class:"flex-1"},[t("p",{class:"text-xs md:text-sm font-medium"},"Appointment Booking"),t("p",{class:"text-[10px] md:text-xs text-muted-foreground"},"Available")],-1))])]),u()?o("",!0):(a(),d("div",Nt,[t("div",Ft,[s[19]||(s[19]=t("div",null,[t("p",{class:"text-xs md:text-sm font-medium"},"Want more features?"),t("p",{class:"text-[10px] md:text-xs text-muted-foreground"},"Upgrade to Pro Plus for advanced capabilities")],-1)),l(i(b),{onClick:s[1]||(s[1]=S=>i(p).visit("/subscription")),class:"w-full sm:w-auto"},{default:c(()=>[...s[18]||(s[18]=[x(" Upgrade Now ",-1)])]),_:1})])]))])])]),_:1})],64))}});export{Et as default};
