import{d as q,c as m,K as w,a as j,e as a,w as d,i,h as r,u as s,p as D,q as f,j as u,b as l,F as v,k as _,t as g,v as y}from"./vue-vendor-DmxhFomr.js";import{a as F,h as L}from"./inertia-vendor-BXJnWAhq.js";import{u as E}from"./useToast-Dsd6g505.js";import{_ as N}from"./HeadingSmall.vue_vue_type_script_setup_true_lang-BVYCrzPZ.js";import{a as c}from"./auth-a3bL7d2J.js";import{D as p,E as S,a as O}from"./ui-components-Dj0vw2vK.js";import{c as P}from"./admin-j62zy8g0.js";import{a as b}from"./philippineAddress-0ZewOEP3.js";import M from"./pinAddressLocation-XBUqoeXE.js";import"./vendor-BqPpK9Aj.js";import"./leaflet-vendor-Do2TvcFZ.js";import"./toast-vendor-DVSe2vMM.js";import"./lucide-vendor-BUHJwLVO.js";import"./ui-vendor-B7N-G3Ug.js";import"./utility-vendor-CjxovF-h.js";import"./map-e4zgbuYL.js";const T={class:"px-4 py-6"},z={class:"max-w-3xl mx-auto flex flex-col space-y-6"},I={class:"grid gap-2"},K=["value"],G={class:"grid gap-2"},H=["disabled"],J=["value"],Q={class:"grid gap-2"},W=["disabled"],X=["value"],Y={class:"grid gap-2"},Z=["disabled"],ee=["value"],se={class:"grid gap-2"},te={class:"grid gap-2"},oe={class:"pt-6 border-t"},re={class:"relative z-0 overflow-hidden rounded-lg"},ie={class:"flex items-center gap-4"},Ve=q({__name:"Address",props:{clinicRegistration:{}},setup(k){const n=k,V=E(),R=[{title:"Address",href:"/clinic/settings/address"}],e=F({region:n.clinicRegistration.region||"",province:n.clinicRegistration.province||"",city:n.clinicRegistration.city||"",barangay:n.clinicRegistration.barangay||"",street_address:n.clinicRegistration.street_address||"",postal_code:n.clinicRegistration.postal_code||"",latitude:n.clinicRegistration.latitude||null,longitude:n.clinicRegistration.longitude||null}),$=x=>{e.latitude=x.latitude,e.longitude=x.longitude},U=m(()=>Object.keys(b)),A=m(()=>e.region?Object.keys(b[e.region]||{}):[]),B=m(()=>e.region&&e.province?Object.keys(b[e.region]?.[e.province]||{}):[]),C=m(()=>e.region&&e.province&&e.city?b[e.region]?.[e.province]?.[e.city]||[]:[]);w(()=>e.region,()=>{e.province="",e.city="",e.barangay=""}),w(()=>e.province,()=>{e.city="",e.barangay=""}),w(()=>e.city,()=>{e.barangay=""});const h=()=>{e.patch("/clinic/settings/address",{preserveScroll:!0,onSuccess:()=>V.success("Address updated successfully!"),onError:()=>V.error("Failed to update address")})};return(x,t)=>(a(),j(P,{breadcrumbs:R},{default:d(()=>[i(s(L),{title:"Address settings"}),r("div",T,[r("div",z,[i(N,{title:"Clinic Address",description:"Update your clinic's location"}),r("form",{onSubmit:D(h,["prevent"]),class:"space-y-6"},[r("div",I,[i(s(p),{for:"region"},{default:d(()=>[...t[6]||(t[6]=[u("Region *",-1)])]),_:1}),f(r("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>s(e).region=o),id:"region",class:"w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-ring",required:""},[t[7]||(t[7]=r("option",{value:""},"Select region",-1)),(a(!0),l(v,null,_(U.value,o=>(a(),l("option",{key:o,value:o},g(o),9,K))),128))],512),[[y,s(e).region]]),i(c,{message:s(e).errors.region},null,8,["message"])]),r("div",G,[i(s(p),{for:"province"},{default:d(()=>[...t[8]||(t[8]=[u("Province *",-1)])]),_:1}),f(r("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>s(e).province=o),id:"province",class:"w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-ring",disabled:!s(e).region,required:""},[t[9]||(t[9]=r("option",{value:""},"Select province",-1)),(a(!0),l(v,null,_(A.value,o=>(a(),l("option",{key:o,value:o},g(o),9,J))),128))],8,H),[[y,s(e).province]]),i(c,{message:s(e).errors.province},null,8,["message"])]),r("div",Q,[i(s(p),{for:"city"},{default:d(()=>[...t[10]||(t[10]=[u("City *",-1)])]),_:1}),f(r("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>s(e).city=o),id:"city",class:"w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-ring",disabled:!s(e).province,required:""},[t[11]||(t[11]=r("option",{value:""},"Select city",-1)),(a(!0),l(v,null,_(B.value,o=>(a(),l("option",{key:o,value:o},g(o),9,X))),128))],8,W),[[y,s(e).city]]),i(c,{message:s(e).errors.city},null,8,["message"])]),r("div",Y,[i(s(p),{for:"barangay"},{default:d(()=>[...t[12]||(t[12]=[u("Barangay *",-1)])]),_:1}),f(r("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>s(e).barangay=o),id:"barangay",class:"w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-ring",disabled:!s(e).city,required:""},[t[13]||(t[13]=r("option",{value:""},"Select barangay",-1)),(a(!0),l(v,null,_(C.value,o=>(a(),l("option",{key:o,value:o},g(o),9,ee))),128))],8,Z),[[y,s(e).barangay]]),i(c,{message:s(e).errors.barangay},null,8,["message"])]),r("div",se,[i(s(p),{for:"street_address"},{default:d(()=>[...t[14]||(t[14]=[u("Street Address",-1)])]),_:1}),i(s(S),{id:"street_address",modelValue:s(e).street_address,"onUpdate:modelValue":t[4]||(t[4]=o=>s(e).street_address=o),type:"text",placeholder:"Building number, street name"},null,8,["modelValue"]),i(c,{message:s(e).errors.street_address},null,8,["message"])]),r("div",te,[i(s(p),{for:"postal_code"},{default:d(()=>[...t[15]||(t[15]=[u("Postal Code",-1)])]),_:1}),i(s(S),{id:"postal_code",modelValue:s(e).postal_code,"onUpdate:modelValue":t[5]||(t[5]=o=>s(e).postal_code=o),type:"text",placeholder:"4 digits"},null,8,["modelValue"]),i(c,{message:s(e).errors.postal_code},null,8,["message"])]),r("div",oe,[r("div",re,[i(M,{latitude:s(e).latitude,longitude:s(e).longitude,address:`${s(e).street_address||""}, ${s(e).barangay}, ${s(e).city}, ${s(e).province}`,onLocationUpdate:$},null,8,["latitude","longitude","address"])]),i(c,{message:s(e).errors.latitude||s(e).errors.longitude},null,8,["message"])]),r("div",ie,[i(s(O),{type:"submit",disabled:s(e).processing},{default:d(()=>[u(g(s(e).processing?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"])])],32)])])]),_:1}))}});export{Ve as default};
