import{d as T,r as U,c as _,K as S,a as z,e as n,w as d,i as l,h as o,u as s,j as r,b as u,g as B,t as p,p as G,q as y,F as h,k as w,v as k,T as J,y as K}from"./vue-vendor-DmxhFomr.js";import{u as W,a as X,h as Y}from"./inertia-vendor-BXJnWAhq.js";import{u as H}from"./useToast-Dsd6g505.js";import{_ as Q}from"./HeadingSmall.vue_vue_type_script_setup_true_lang-BVYCrzPZ.js";import{a as m}from"./auth-a3bL7d2J.js";import{a as C,D as g,E as x,T as Z}from"./ui-components-Dj0vw2vK.js";import{c as ee}from"./admin-j62zy8g0.js";import te from"./pinAddressLocation-XBUqoeXE.js";import{a as V}from"./philippineAddress-0ZewOEP3.js";import{B as N,X as se,ax as oe,ag as le}from"./lucide-vendor-BUHJwLVO.js";import"./vendor-BqPpK9Aj.js";import"./leaflet-vendor-Do2TvcFZ.js";import"./toast-vendor-DVSe2vMM.js";import"./ui-vendor-B7N-G3Ug.js";import"./utility-vendor-CjxovF-h.js";import"./map-e4zgbuYL.js";const ie={class:"px-3 md:px-4 py-4 md:py-6"},ae={class:"max-w-3xl mx-auto space-y-4 md:space-y-6"},de={class:"bg-card border rounded-lg p-3 md:p-6 shadow-sm"},re={class:"text-base md:text-lg font-semibold mb-3 md:mb-4 flex items-center gap-1.5 md:gap-2"},ne={class:"flex flex-col md:flex-row gap-4 md:gap-6"},me={class:"flex flex-col items-center space-y-3 md:space-y-4"},ce={class:"relative"},ue={class:"w-24 h-24 md:w-32 md:h-32 rounded-lg overflow-hidden border-2 border-border bg-muted flex items-center justify-center"},pe=["src","alt"],ge={key:1,class:"text-muted-foreground text-center p-2 md:p-4"},fe={class:"flex flex-col gap-1.5 md:gap-2 w-full"},be={key:0,class:"flex gap-1.5 md:gap-2"},xe={class:"flex-1"},ve={class:"space-y-2 md:space-y-3"},_e={class:"text-base md:text-xl font-bold"},ye={class:"flex items-center gap-1.5 md:gap-2 mt-0.5 md:mt-1"},he={class:"flex items-center"},we={class:"ml-0.5 md:ml-1 text-xs md:text-sm font-medium"},ke={class:"text-xs md:text-sm text-muted-foreground"},Ce=["title"],Ve={class:"text-xs md:text-sm text-muted-foreground"},Pe={class:"border-b pb-4 md:pb-6"},Se={class:"space-y-3 md:space-y-4"},Ue={class:"grid gap-2"},Be={class:"grid gap-2"},Ne={class:"grid gap-2"},Ae={class:"border-b pb-4 md:pb-6"},qe={class:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4"},Fe={class:"grid gap-2"},Me={class:"grid gap-2"},je={class:"border-b pb-4 md:pb-6"},Ie={class:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4"},$e={class:"grid gap-2"},De=["value"],Le={class:"grid gap-2"},Re=["disabled"],Ee=["value"],Oe={class:"grid gap-2"},Te=["disabled"],ze=["value"],Ge={class:"grid gap-2"},Je=["disabled"],Ke=["value"],We={class:"grid gap-2 md:col-span-2"},Xe={class:"grid gap-2"},Ye={class:"border-b pb-4 md:pb-6"},He={class:"relative z-0 overflow-hidden rounded-lg"},Qe={class:"flex flex-col sm:flex-row items-start sm:items-center gap-3 md:gap-4"},Ze={class:"text-xs md:text-sm text-neutral-600"},vt=T({__name:"ClinicProfile",setup(et){const v=H(),A=[{title:"Clinic Profile & Settings",href:"/clinic/settings/clinic-profile"}],a=W().props.clinicRegistration,f=U(null),b=U(null),e=X({clinic_name:a?.clinic_name||"",clinic_description:a?.clinic_description||"",website:a?.website||"",email:a?.email||"",phone:a?.phone||"",region:a?.region||"",province:a?.province||"",city:a?.city||"",barangay:a?.barangay||"",street_address:a?.street_address||"",postal_code:a?.postal_code||"",latitude:a?.latitude||null,longitude:a?.longitude||null,clinic_photo:null,remove_photo:!1}),P=_(()=>b.value?b.value:a?.clinic_photo||null),q=_(()=>Object.keys(V)),F=_(()=>e.region?Object.keys(V[e.region]||{}):[]),M=_(()=>e.region&&e.province?Object.keys(V[e.region]?.[e.province]||{}):[]),j=_(()=>e.region&&e.province&&e.city?V[e.region]?.[e.province]?.[e.city]||[]:[]);S(()=>e.region,()=>{e.province="",e.city="",e.barangay=""}),S(()=>e.province,()=>{e.city="",e.barangay=""}),S(()=>e.city,()=>{e.barangay=""});const I=c=>{e.latitude=c.latitude,e.longitude=c.longitude},$=()=>{f.value?.click()},D=()=>{const c=f.value?.files?.[0];if(!c)return;const t=new FileReader;t.onload=i=>{b.value=i.target?.result},t.readAsDataURL(c),e.clinic_photo=c,e.remove_photo=!1},L=()=>{e.remove_photo=!0,e.clinic_photo=null,b.value=null,f.value&&(f.value.value="")},R=()=>{e.post("/clinic/settings/appearance/photo",{preserveScroll:!0,onSuccess:()=>{v.success("Clinic photo updated successfully!"),b.value=null,e.clinic_photo=null,e.remove_photo=!1},onError:c=>{console.error("Photo update errors:",c),v.error("Failed to update clinic photo")}})},E=()=>{e.clinic_photo=null,e.remove_photo=!1,b.value=null,f.value&&(f.value.value="")},O=()=>{e.patch("/clinic/settings/clinic-profile",{preserveScroll:!0,onSuccess:()=>{v.success("Clinic profile and settings updated successfully!")},onError:c=>{console.error("Clinic profile update errors:",c);const t=Object.values(c).flat();t.length>0?v.error(t[0]):v.error("Failed to update clinic profile")}})};return(c,t)=>(n(),z(ee,{breadcrumbs:A},{default:d(()=>[l(s(Y),{title:"Clinic Profile"}),o("div",ie,[o("div",ae,[l(Q,{title:"Clinic Profile",description:"Manage your clinic's business information and profile photo"}),o("div",de,[o("h3",re,[l(s(N),{class:"h-4 w-4 md:h-5 md:w-5"}),t[11]||(t[11]=r(" Clinic Profile Preview ",-1))]),o("div",ne,[o("div",me,[o("div",ce,[o("div",ue,[P.value?(n(),u("img",{key:0,src:P.value,alt:s(a)?.clinic_name||"Clinic",class:"w-full h-full object-cover"},null,8,pe)):(n(),u("div",ge,[l(s(N),{class:"h-8 w-8 md:h-12 md:w-12 mx-auto mb-1 md:mb-2"}),t[12]||(t[12]=o("p",{class:"text-[10px] md:text-xs"},"No photo",-1))]))]),P.value&&!b.value?(n(),u("button",{key:0,onClick:L,type:"button",class:"absolute -top-1 -right-1 md:-top-2 md:-right-2 p-0.5 md:p-1 bg-destructive text-destructive-foreground rounded-full hover:bg-destructive/90 transition-colors"},[l(s(se),{class:"h-3 w-3 md:h-4 md:w-4"})])):B("",!0)]),o("input",{ref_key:"photoInput",ref:f,type:"file",class:"hidden",accept:"image/*",onChange:D},null,544),o("div",fe,[l(s(C),{onClick:$,type:"button",variant:"outline",size:"sm",class:"w-full text-xs md:text-sm"},{default:d(()=>[l(s(oe),{class:"h-3 w-3 md:h-4 md:w-4 mr-1.5 md:mr-2"}),t[13]||(t[13]=r(" Change Photo ",-1))]),_:1}),s(e).clinic_photo||s(e).remove_photo?(n(),u("div",be,[l(s(C),{onClick:R,type:"button",size:"sm",disabled:s(e).processing,class:"flex-1 text-xs md:text-sm"},{default:d(()=>[l(s(le),{class:"h-3 w-3 md:h-4 md:w-4 mr-1.5 md:mr-2"}),t[14]||(t[14]=r(" Save ",-1))]),_:1},8,["disabled"]),l(s(C),{onClick:E,type:"button",variant:"outline",size:"sm",disabled:s(e).processing,class:"text-xs md:text-sm"},{default:d(()=>[...t[15]||(t[15]=[r(" Cancel ",-1)])]),_:1},8,["disabled"])])):B("",!0)]),l(m,{message:s(e).errors.clinic_photo,class:"mt-2"},null,8,["message"]),t[16]||(t[16]=o("p",{class:"text-[10px] md:text-xs text-muted-foreground text-center"}," JPG, PNG or GIF. Max 10MB. ",-1))]),o("div",xe,[o("div",ve,[o("div",null,[o("h4",_e,p(s(e).clinic_name||"Your Clinic Name"),1),o("div",ye,[o("div",he,[t[17]||(t[17]=o("span",{class:"text-yellow-500 text-sm md:text-base"},"â˜…",-1)),o("span",we,p(s(a)?.rating?.toFixed(1)||"0.0"),1)]),o("span",ke," ("+p(s(a)?.total_reviews||0)+" reviews) ",1)])]),o("p",{class:"text-xs md:text-sm text-muted-foreground overflow-hidden max-w-full",title:s(e).clinic_description||"Add a description to your clinic profile below.",style:{display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"}},p(s(e).clinic_description||"Add a description to your clinic profile below."),9,Ce),o("div",Ve,[o("p",null,"ðŸ“ "+p(s(a)?.city||"City")+", "+p(s(a)?.province||"Province"),1)]),t[18]||(t[18]=o("div",{class:"pt-1.5 md:pt-2 border-t"},[o("p",{class:"text-[10px] md:text-xs text-muted-foreground"}," ðŸ’¡ All clinic information including contact and address can be updated below. ")],-1))])])])]),o("form",{onSubmit:G(O,["prevent"]),class:"space-y-6 md:space-y-8"},[o("div",Pe,[t[22]||(t[22]=o("h3",{class:"text-base md:text-lg font-semibold mb-3 md:mb-4"},"Basic Information",-1)),o("div",Se,[o("div",Ue,[l(s(g),{for:"clinic_name"},{default:d(()=>[...t[19]||(t[19]=[r("Clinic Name *",-1)])]),_:1}),l(s(x),{id:"clinic_name",modelValue:s(e).clinic_name,"onUpdate:modelValue":t[0]||(t[0]=i=>s(e).clinic_name=i),class:"mt-1 block w-full",required:"",placeholder:"Veterinary Clinic Name"},null,8,["modelValue"]),l(m,{message:s(e).errors.clinic_name},null,8,["message"])]),o("div",Be,[l(s(g),{for:"clinic_description"},{default:d(()=>[...t[20]||(t[20]=[r("Description",-1)])]),_:1}),l(s(Z),{id:"clinic_description",modelValue:s(e).clinic_description,"onUpdate:modelValue":t[1]||(t[1]=i=>s(e).clinic_description=i),class:"mt-1 block w-full bg-white dark:bg-slate-900 text-black dark:text-white",placeholder:"Brief description of your clinic services...",rows:"4"},null,8,["modelValue"]),l(m,{message:s(e).errors.clinic_description},null,8,["message"])]),o("div",Ne,[l(s(g),{for:"website"},{default:d(()=>[...t[21]||(t[21]=[r("Website (Optional)",-1)])]),_:1}),l(s(x),{id:"website",modelValue:s(e).website,"onUpdate:modelValue":t[2]||(t[2]=i=>s(e).website=i),type:"url",class:"mt-1 block w-full",placeholder:"https://yourwebsite.com"},null,8,["modelValue"]),l(m,{message:s(e).errors.website},null,8,["message"])])])]),o("div",Ae,[t[25]||(t[25]=o("h3",{class:"text-base md:text-lg font-semibold mb-3 md:mb-4"},"Contact Information",-1)),o("div",qe,[o("div",Fe,[l(s(g),{for:"email"},{default:d(()=>[...t[23]||(t[23]=[r("Email *",-1)])]),_:1}),l(s(x),{id:"email",modelValue:s(e).email,"onUpdate:modelValue":t[3]||(t[3]=i=>s(e).email=i),type:"email",class:"mt-1 block w-full",required:"",placeholder:"clinic@example.com"},null,8,["modelValue"]),l(m,{message:s(e).errors.email},null,8,["message"])]),o("div",Me,[l(s(g),{for:"phone"},{default:d(()=>[...t[24]||(t[24]=[r("Phone Number *",-1)])]),_:1}),l(s(x),{id:"phone",modelValue:s(e).phone,"onUpdate:modelValue":t[4]||(t[4]=i=>s(e).phone=i),type:"tel",class:"mt-1 block w-full",required:"",placeholder:"+63 9xx xxx xxxx"},null,8,["modelValue"]),l(m,{message:s(e).errors.phone},null,8,["message"])])])]),o("div",je,[t[36]||(t[36]=o("h3",{class:"text-base md:text-lg font-semibold mb-3 md:mb-4"},"Address Information",-1)),o("div",Ie,[o("div",$e,[l(s(g),{for:"region"},{default:d(()=>[...t[26]||(t[26]=[r("Region *",-1)])]),_:1}),y(o("select",{id:"region","onUpdate:modelValue":t[5]||(t[5]=i=>s(e).region=i),class:"mt-1 px-3 py-2 border border-input rounded-md bg-white dark:bg-slate-900 text-black dark:text-white text-sm font-normal",required:""},[t[27]||(t[27]=o("option",{value:""},"Select Region",-1)),(n(!0),u(h,null,w(q.value,i=>(n(),u("option",{key:i,value:i},p(i),9,De))),128))],512),[[k,s(e).region]]),l(m,{message:s(e).errors.region},null,8,["message"])]),o("div",Le,[l(s(g),{for:"province"},{default:d(()=>[...t[28]||(t[28]=[r("Province *",-1)])]),_:1}),y(o("select",{id:"province","onUpdate:modelValue":t[6]||(t[6]=i=>s(e).province=i),class:"mt-1 px-3 py-2 border border-input rounded-md bg-white dark:bg-slate-900 text-black dark:text-white text-sm font-normal",disabled:!s(e).region,required:""},[t[29]||(t[29]=o("option",{value:""},"Select Province",-1)),(n(!0),u(h,null,w(F.value,i=>(n(),u("option",{key:i,value:i},p(i),9,Ee))),128))],8,Re),[[k,s(e).province]]),l(m,{message:s(e).errors.province},null,8,["message"])]),o("div",Oe,[l(s(g),{for:"city"},{default:d(()=>[...t[30]||(t[30]=[r("City *",-1)])]),_:1}),y(o("select",{id:"city","onUpdate:modelValue":t[7]||(t[7]=i=>s(e).city=i),class:"mt-1 px-3 py-2 border border-input rounded-md bg-white dark:bg-slate-900 text-black dark:text-white text-sm font-normal",disabled:!s(e).province,required:""},[t[31]||(t[31]=o("option",{value:""},"Select City",-1)),(n(!0),u(h,null,w(M.value,i=>(n(),u("option",{key:i,value:i},p(i),9,ze))),128))],8,Te),[[k,s(e).city]]),l(m,{message:s(e).errors.city},null,8,["message"])]),o("div",Ge,[l(s(g),{for:"barangay"},{default:d(()=>[...t[32]||(t[32]=[r("Barangay *",-1)])]),_:1}),y(o("select",{id:"barangay","onUpdate:modelValue":t[8]||(t[8]=i=>s(e).barangay=i),class:"mt-1 px-3 py-2 border border-input rounded-md bg-white dark:bg-slate-900 text-black dark:text-white text-sm font-normal",disabled:!s(e).city,required:""},[t[33]||(t[33]=o("option",{value:""},"Select Barangay",-1)),(n(!0),u(h,null,w(j.value,i=>(n(),u("option",{key:i,value:i},p(i),9,Ke))),128))],8,Je),[[k,s(e).barangay]]),l(m,{message:s(e).errors.barangay},null,8,["message"])]),o("div",We,[l(s(g),{for:"street_address"},{default:d(()=>[...t[34]||(t[34]=[r("Street Address",-1)])]),_:1}),l(s(x),{id:"street_address",modelValue:s(e).street_address,"onUpdate:modelValue":t[9]||(t[9]=i=>s(e).street_address=i),type:"text",class:"mt-1 block w-full",placeholder:"e.g., 123 Main Street, Building A"},null,8,["modelValue"]),l(m,{message:s(e).errors.street_address},null,8,["message"])]),o("div",Xe,[l(s(g),{for:"postal_code"},{default:d(()=>[...t[35]||(t[35]=[r("Postal Code",-1)])]),_:1}),l(s(x),{id:"postal_code",modelValue:s(e).postal_code,"onUpdate:modelValue":t[10]||(t[10]=i=>s(e).postal_code=i),type:"text",class:"mt-1 block w-full",placeholder:"Postal code"},null,8,["modelValue"]),l(m,{message:s(e).errors.postal_code},null,8,["message"])])])]),o("div",Ye,[t[37]||(t[37]=o("h3",{class:"text-base md:text-lg font-semibold mb-3 md:mb-4"},"Clinic Location on Map",-1)),t[38]||(t[38]=o("p",{class:"text-xs md:text-sm text-muted-foreground mb-3 md:mb-4"},"Pin your clinic's exact location on the map for accurate directions",-1)),o("div",He,[l(te,{"initial-latitude":s(e).latitude,"initial-longitude":s(e).longitude,onLocationUpdate:I},null,8,["initial-latitude","initial-longitude"])]),l(m,{message:s(e).errors.latitude||s(e).errors.longitude},null,8,["message"])]),o("div",Qe,[l(s(C),{type:"submit",disabled:s(e).processing,class:"text-sm md:text-base w-full sm:w-auto"},{default:d(()=>[r(p(s(e).processing?"Saving...":"Save All Changes"),1)]),_:1},8,["disabled"]),l(J,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:d(()=>[y(o("p",Ze," Saved successfully! ",512),[[K,s(e).recentlySuccessful]])]),_:1})])],32)])])]),_:1}))}});export{vt as default};
